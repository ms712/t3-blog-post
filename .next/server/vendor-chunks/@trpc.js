"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@trpc";
exports.ids = ["vendor-chunks/@trpc"];
exports.modules = {

/***/ "(ssr)/./node_modules/@trpc/client/dist/TRPCClientError-0de4d231.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/TRPCClientError-0de4d231.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   T: () => (/* binding */ TRPCClientError)\n/* harmony export */ });\n/* harmony import */ var _transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transformResult-ace864b8.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\");\n\n\nfunction isTRPCClientError(cause) {\n    return cause instanceof TRPCClientError || /**\n     * @deprecated\n     * Delete in next major\n     */ cause instanceof Error && cause.name === 'TRPCClientError';\n}\nfunction isTRPCErrorResponse(obj) {\n    return (0,_transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(obj) && (0,_transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(obj.error) && typeof obj.error.code === 'number' && typeof obj.error.message === 'string';\n}\nclass TRPCClientError extends Error {\n    static from(_cause, opts = {}) {\n        const cause = _cause;\n        if (isTRPCClientError(cause)) {\n            if (opts.meta) {\n                // Decorate with meta error data\n                cause.meta = {\n                    ...cause.meta,\n                    ...opts.meta\n                };\n            }\n            return cause;\n        }\n        if (isTRPCErrorResponse(cause)) {\n            return new TRPCClientError(cause.error.message, {\n                ...opts,\n                result: cause\n            });\n        }\n        if (!(cause instanceof Error)) {\n            return new TRPCClientError('Unknown error', {\n                ...opts,\n                cause: cause\n            });\n        }\n        return new TRPCClientError(cause.message, {\n            ...opts,\n            cause\n        });\n    }\n    constructor(message, opts){\n        const cause = opts?.cause;\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore https://github.com/tc39/proposal-error-cause\n        super(message, {\n            cause\n        });\n        this.meta = opts?.meta;\n        this.cause = cause;\n        this.shape = opts?.result?.error;\n        this.data = opts?.result?.error.data;\n        this.name = 'TRPCClientError';\n        Object.setPrototypeOf(this, TRPCClientError.prototype);\n    }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvVFJQQ0NsaWVudEVycm9yLTBkZTRkMjMxLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUErRDs7QUFFL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdFQUFRLFNBQVMsZ0VBQVE7QUFDcEM7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVnQyIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9jbGllbnQvZGlzdC9UUlBDQ2xpZW50RXJyb3ItMGRlNGQyMzEubWpzPzQ0NzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaSBhcyBpc09iamVjdCB9IGZyb20gJy4vdHJhbnNmb3JtUmVzdWx0LWFjZTg2NGI4Lm1qcyc7XG5cbmZ1bmN0aW9uIGlzVFJQQ0NsaWVudEVycm9yKGNhdXNlKSB7XG4gICAgcmV0dXJuIGNhdXNlIGluc3RhbmNlb2YgVFJQQ0NsaWVudEVycm9yIHx8IC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogRGVsZXRlIGluIG5leHQgbWFqb3JcbiAgICAgKi8gY2F1c2UgaW5zdGFuY2VvZiBFcnJvciAmJiBjYXVzZS5uYW1lID09PSAnVFJQQ0NsaWVudEVycm9yJztcbn1cbmZ1bmN0aW9uIGlzVFJQQ0Vycm9yUmVzcG9uc2Uob2JqKSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KG9iaikgJiYgaXNPYmplY3Qob2JqLmVycm9yKSAmJiB0eXBlb2Ygb2JqLmVycm9yLmNvZGUgPT09ICdudW1iZXInICYmIHR5cGVvZiBvYmouZXJyb3IubWVzc2FnZSA9PT0gJ3N0cmluZyc7XG59XG5jbGFzcyBUUlBDQ2xpZW50RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgc3RhdGljIGZyb20oX2NhdXNlLCBvcHRzID0ge30pIHtcbiAgICAgICAgY29uc3QgY2F1c2UgPSBfY2F1c2U7XG4gICAgICAgIGlmIChpc1RSUENDbGllbnRFcnJvcihjYXVzZSkpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLm1ldGEpIHtcbiAgICAgICAgICAgICAgICAvLyBEZWNvcmF0ZSB3aXRoIG1ldGEgZXJyb3IgZGF0YVxuICAgICAgICAgICAgICAgIGNhdXNlLm1ldGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmNhdXNlLm1ldGEsXG4gICAgICAgICAgICAgICAgICAgIC4uLm9wdHMubWV0YVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2F1c2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzVFJQQ0Vycm9yUmVzcG9uc2UoY2F1c2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRSUENDbGllbnRFcnJvcihjYXVzZS5lcnJvci5tZXNzYWdlLCB7XG4gICAgICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgICAgICAgICByZXN1bHQ6IGNhdXNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShjYXVzZSBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUUlBDQ2xpZW50RXJyb3IoJ1Vua25vd24gZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgICAgICAgICBjYXVzZTogY2F1c2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVFJQQ0NsaWVudEVycm9yKGNhdXNlLm1lc3NhZ2UsIHtcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgICAgICBjYXVzZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgb3B0cyl7XG4gICAgICAgIGNvbnN0IGNhdXNlID0gb3B0cz8uY2F1c2U7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1lcnJvci1jYXVzZVxuICAgICAgICBzdXBlcihtZXNzYWdlLCB7XG4gICAgICAgICAgICBjYXVzZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tZXRhID0gb3B0cz8ubWV0YTtcbiAgICAgICAgdGhpcy5jYXVzZSA9IGNhdXNlO1xuICAgICAgICB0aGlzLnNoYXBlID0gb3B0cz8ucmVzdWx0Py5lcnJvcjtcbiAgICAgICAgdGhpcy5kYXRhID0gb3B0cz8ucmVzdWx0Py5lcnJvci5kYXRhO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVFJQQ0NsaWVudEVycm9yJztcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFRSUENDbGllbnRFcnJvci5wcm90b3R5cGUpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgVFJQQ0NsaWVudEVycm9yIGFzIFQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/TRPCClientError-0de4d231.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/client/dist/httpBatchLink-204206a5.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/httpBatchLink-204206a5.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   c: () => (/* binding */ createHTTPBatchLink),\n/* harmony export */   h: () => (/* binding */ httpBatchLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(ssr)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n/* harmony import */ var _transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transformResult-ace864b8.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\");\n/* harmony import */ var _TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TRPCClientError-0de4d231.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/TRPCClientError-0de4d231.mjs\");\n/* harmony import */ var _httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./httpUtils-f58ceda1.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/httpUtils-f58ceda1.mjs\");\n\n\n\n\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */ /**\n * A function that should never be called unless we messed something up.\n */ const throwFatalError = ()=>{\n    throw new Error('Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new');\n};\n/**\n * Dataloader that's very inspired by https://github.com/graphql/dataloader\n * Less configuration, no caching, and allows you to cancel requests\n * When cancelling a single fetch the whole batch will be cancelled only when _all_ items are cancelled\n */ function dataLoader(batchLoader) {\n    let pendingItems = null;\n    let dispatchTimer = null;\n    const destroyTimerAndPendingItems = ()=>{\n        clearTimeout(dispatchTimer);\n        dispatchTimer = null;\n        pendingItems = null;\n    };\n    /**\n   * Iterate through the items and split them into groups based on the `batchLoader`'s validate function\n   */ function groupItems(items) {\n        const groupedItems = [\n            []\n        ];\n        let index = 0;\n        while(true){\n            const item = items[index];\n            if (!item) {\n                break;\n            }\n            const lastGroup = groupedItems[groupedItems.length - 1];\n            if (item.aborted) {\n                // Item was aborted before it was dispatched\n                item.reject?.(new Error('Aborted'));\n                index++;\n                continue;\n            }\n            const isValid = batchLoader.validate(lastGroup.concat(item).map((it)=>it.key));\n            if (isValid) {\n                lastGroup.push(item);\n                index++;\n                continue;\n            }\n            if (lastGroup.length === 0) {\n                item.reject?.(new Error('Input is too big for a single dispatch'));\n                index++;\n                continue;\n            }\n            // Create new group, next iteration will try to add the item to that\n            groupedItems.push([]);\n        }\n        return groupedItems;\n    }\n    function dispatch() {\n        const groupedItems = groupItems(pendingItems);\n        destroyTimerAndPendingItems();\n        // Create batches for each group of items\n        for (const items of groupedItems){\n            if (!items.length) {\n                continue;\n            }\n            const batch = {\n                items,\n                cancel: throwFatalError\n            };\n            for (const item of items){\n                item.batch = batch;\n            }\n            const unitResolver = (index, value)=>{\n                const item = batch.items[index];\n                item.resolve?.(value);\n                item.batch = null;\n                item.reject = null;\n                item.resolve = null;\n            };\n            const { promise , cancel  } = batchLoader.fetch(batch.items.map((_item)=>_item.key), unitResolver);\n            batch.cancel = cancel;\n            promise.then((result)=>{\n                for(let i = 0; i < result.length; i++){\n                    const value = result[i];\n                    unitResolver(i, value);\n                }\n                for (const item of batch.items){\n                    item.reject?.(new Error('Missing result'));\n                    item.batch = null;\n                }\n            }).catch((cause)=>{\n                for (const item of batch.items){\n                    item.reject?.(cause);\n                    item.batch = null;\n                }\n            });\n        }\n    }\n    function load(key) {\n        const item = {\n            aborted: false,\n            key,\n            batch: null,\n            resolve: throwFatalError,\n            reject: throwFatalError\n        };\n        const promise = new Promise((resolve, reject)=>{\n            item.reject = reject;\n            item.resolve = resolve;\n            if (!pendingItems) {\n                pendingItems = [];\n            }\n            pendingItems.push(item);\n        });\n        if (!dispatchTimer) {\n            dispatchTimer = setTimeout(dispatch);\n        }\n        const cancel = ()=>{\n            item.aborted = true;\n            if (item.batch?.items.every((item)=>item.aborted)) {\n                // All items in the batch have been cancelled\n                item.batch.cancel();\n                item.batch = null;\n            }\n        };\n        return {\n            promise,\n            cancel\n        };\n    }\n    return {\n        load\n    };\n}\n\n/**\n * @internal\n */ function createHTTPBatchLink(requester) {\n    return function httpBatchLink(opts) {\n        const resolvedOpts = (0,_httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_3__.r)(opts);\n        const maxURLLength = opts.maxURLLength ?? Infinity;\n        // initialized config\n        return (runtime)=>{\n            const batchLoader = (type)=>{\n                const validate = (batchOps)=>{\n                    if (maxURLLength === Infinity) {\n                        // escape hatch for quick calcs\n                        return true;\n                    }\n                    const path = batchOps.map((op)=>op.path).join(',');\n                    const inputs = batchOps.map((op)=>op.input);\n                    const url = (0,_httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_3__.g)({\n                        ...resolvedOpts,\n                        runtime,\n                        type,\n                        path,\n                        inputs\n                    });\n                    return url.length <= maxURLLength;\n                };\n                const fetch = requester({\n                    ...resolvedOpts,\n                    runtime,\n                    type,\n                    opts\n                });\n                return {\n                    validate,\n                    fetch\n                };\n            };\n            const query = dataLoader(batchLoader('query'));\n            const mutation = dataLoader(batchLoader('mutation'));\n            const subscription = dataLoader(batchLoader('subscription'));\n            const loaders = {\n                query,\n                subscription,\n                mutation\n            };\n            return ({ op  })=>{\n                return (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n                    const loader = loaders[op.type];\n                    const { promise , cancel  } = loader.load(op);\n                    let _res = undefined;\n                    promise.then((res)=>{\n                        _res = res;\n                        const transformed = (0,_transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__.t)(res.json, runtime);\n                        if (!transformed.ok) {\n                            observer.error(_TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(transformed.error, {\n                                meta: res.meta\n                            }));\n                            return;\n                        }\n                        observer.next({\n                            context: res.meta,\n                            result: transformed.result\n                        });\n                        observer.complete();\n                    }).catch((err)=>{\n                        observer.error(_TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(err, {\n                            meta: _res?.meta\n                        }));\n                    });\n                    return ()=>{\n                        cancel();\n                    };\n                });\n            };\n        };\n    };\n}\n\nconst batchRequester = (requesterOpts)=>{\n    return (batchOps)=>{\n        const path = batchOps.map((op)=>op.path).join(',');\n        const inputs = batchOps.map((op)=>op.input);\n        const { promise , cancel  } = (0,_httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_3__.j)({\n            ...requesterOpts,\n            path,\n            inputs,\n            headers () {\n                if (!requesterOpts.opts.headers) {\n                    return {};\n                }\n                if (typeof requesterOpts.opts.headers === 'function') {\n                    return requesterOpts.opts.headers({\n                        opList: batchOps\n                    });\n                }\n                return requesterOpts.opts.headers;\n            }\n        });\n        return {\n            promise: promise.then((res)=>{\n                const resJSON = Array.isArray(res.json) ? res.json : batchOps.map(()=>res.json);\n                const result = resJSON.map((item)=>({\n                        meta: res.meta,\n                        json: item\n                    }));\n                return result;\n            }),\n            cancel\n        };\n    };\n};\nconst httpBatchLink = createHTTPBatchLink(batchRequester);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvaHR0cEJhdGNoTGluay0yMDQyMDZhNS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXFEO0FBQ2lCO0FBQ0E7QUFDc0M7O0FBRTVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0JBQW9CO0FBQ3hDO0FBQ0E7QUFDQSwrQkFBK0IsbUJBQW1CO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwwREFBc0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywwREFBTTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLEtBQUs7QUFDM0IsdUJBQXVCLG1FQUFVO0FBQ2pDO0FBQ0EsNEJBQTRCLG9CQUFvQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsZ0VBQWU7QUFDM0Q7QUFDQSwyQ0FBMkMsNERBQWU7QUFDMUQ7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLHFCQUFxQjtBQUNyQix1Q0FBdUMsNERBQWU7QUFDdEQ7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvQkFBb0IsRUFBRSwwREFBaUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV3RCIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9jbGllbnQvZGlzdC9odHRwQmF0Y2hMaW5rLTIwNDIwNmE1Lm1qcz80ZjdkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9ic2VydmFibGUgfSBmcm9tICdAdHJwYy9zZXJ2ZXIvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyB0IGFzIHRyYW5zZm9ybVJlc3VsdCB9IGZyb20gJy4vdHJhbnNmb3JtUmVzdWx0LWFjZTg2NGI4Lm1qcyc7XG5pbXBvcnQgeyBUIGFzIFRSUENDbGllbnRFcnJvciB9IGZyb20gJy4vVFJQQ0NsaWVudEVycm9yLTBkZTRkMjMxLm1qcyc7XG5pbXBvcnQgeyByIGFzIHJlc29sdmVIVFRQTGlua09wdGlvbnMsIGcgYXMgZ2V0VXJsLCBqIGFzIGpzb25IdHRwUmVxdWVzdGVyIH0gZnJvbSAnLi9odHRwVXRpbHMtZjU4Y2VkYTEubWpzJztcblxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiAqLyAvKipcbiAqIEEgZnVuY3Rpb24gdGhhdCBzaG91bGQgbmV2ZXIgYmUgY2FsbGVkIHVubGVzcyB3ZSBtZXNzZWQgc29tZXRoaW5nIHVwLlxuICovIGNvbnN0IHRocm93RmF0YWxFcnJvciA9ICgpPT57XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHN1Ym1pdCBhbiBpc3N1ZSBhdCBodHRwczovL2dpdGh1Yi5jb20vdHJwYy90cnBjL2lzc3Vlcy9uZXcnKTtcbn07XG4vKipcbiAqIERhdGFsb2FkZXIgdGhhdCdzIHZlcnkgaW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2dyYXBocWwvZGF0YWxvYWRlclxuICogTGVzcyBjb25maWd1cmF0aW9uLCBubyBjYWNoaW5nLCBhbmQgYWxsb3dzIHlvdSB0byBjYW5jZWwgcmVxdWVzdHNcbiAqIFdoZW4gY2FuY2VsbGluZyBhIHNpbmdsZSBmZXRjaCB0aGUgd2hvbGUgYmF0Y2ggd2lsbCBiZSBjYW5jZWxsZWQgb25seSB3aGVuIF9hbGxfIGl0ZW1zIGFyZSBjYW5jZWxsZWRcbiAqLyBmdW5jdGlvbiBkYXRhTG9hZGVyKGJhdGNoTG9hZGVyKSB7XG4gICAgbGV0IHBlbmRpbmdJdGVtcyA9IG51bGw7XG4gICAgbGV0IGRpc3BhdGNoVGltZXIgPSBudWxsO1xuICAgIGNvbnN0IGRlc3Ryb3lUaW1lckFuZFBlbmRpbmdJdGVtcyA9ICgpPT57XG4gICAgICAgIGNsZWFyVGltZW91dChkaXNwYXRjaFRpbWVyKTtcbiAgICAgICAgZGlzcGF0Y2hUaW1lciA9IG51bGw7XG4gICAgICAgIHBlbmRpbmdJdGVtcyA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICogSXRlcmF0ZSB0aHJvdWdoIHRoZSBpdGVtcyBhbmQgc3BsaXQgdGhlbSBpbnRvIGdyb3VwcyBiYXNlZCBvbiB0aGUgYGJhdGNoTG9hZGVyYCdzIHZhbGlkYXRlIGZ1bmN0aW9uXG4gICAqLyBmdW5jdGlvbiBncm91cEl0ZW1zKGl0ZW1zKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwZWRJdGVtcyA9IFtcbiAgICAgICAgICAgIFtdXG4gICAgICAgIF07XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIHdoaWxlKHRydWUpe1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2luZGV4XTtcbiAgICAgICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbGFzdEdyb3VwID0gZ3JvdXBlZEl0ZW1zW2dyb3VwZWRJdGVtcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChpdGVtLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBJdGVtIHdhcyBhYm9ydGVkIGJlZm9yZSBpdCB3YXMgZGlzcGF0Y2hlZFxuICAgICAgICAgICAgICAgIGl0ZW0ucmVqZWN0Py4obmV3IEVycm9yKCdBYm9ydGVkJykpO1xuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gYmF0Y2hMb2FkZXIudmFsaWRhdGUobGFzdEdyb3VwLmNvbmNhdChpdGVtKS5tYXAoKGl0KT0+aXQua2V5KSk7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICAgICAgICAgIGxhc3RHcm91cC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFzdEdyb3VwLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGl0ZW0ucmVqZWN0Py4obmV3IEVycm9yKCdJbnB1dCBpcyB0b28gYmlnIGZvciBhIHNpbmdsZSBkaXNwYXRjaCcpKTtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBncm91cCwgbmV4dCBpdGVyYXRpb24gd2lsbCB0cnkgdG8gYWRkIHRoZSBpdGVtIHRvIHRoYXRcbiAgICAgICAgICAgIGdyb3VwZWRJdGVtcy5wdXNoKFtdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JvdXBlZEl0ZW1zO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgICAgY29uc3QgZ3JvdXBlZEl0ZW1zID0gZ3JvdXBJdGVtcyhwZW5kaW5nSXRlbXMpO1xuICAgICAgICBkZXN0cm95VGltZXJBbmRQZW5kaW5nSXRlbXMoKTtcbiAgICAgICAgLy8gQ3JlYXRlIGJhdGNoZXMgZm9yIGVhY2ggZ3JvdXAgb2YgaXRlbXNcbiAgICAgICAgZm9yIChjb25zdCBpdGVtcyBvZiBncm91cGVkSXRlbXMpe1xuICAgICAgICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGJhdGNoID0ge1xuICAgICAgICAgICAgICAgIGl0ZW1zLFxuICAgICAgICAgICAgICAgIGNhbmNlbDogdGhyb3dGYXRhbEVycm9yXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKXtcbiAgICAgICAgICAgICAgICBpdGVtLmJhdGNoID0gYmF0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1bml0UmVzb2x2ZXIgPSAoaW5kZXgsIHZhbHVlKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBiYXRjaC5pdGVtc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaXRlbS5yZXNvbHZlPy4odmFsdWUpO1xuICAgICAgICAgICAgICAgIGl0ZW0uYmF0Y2ggPSBudWxsO1xuICAgICAgICAgICAgICAgIGl0ZW0ucmVqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpdGVtLnJlc29sdmUgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHsgcHJvbWlzZSAsIGNhbmNlbCAgfSA9IGJhdGNoTG9hZGVyLmZldGNoKGJhdGNoLml0ZW1zLm1hcCgoX2l0ZW0pPT5faXRlbS5rZXkpLCB1bml0UmVzb2x2ZXIpO1xuICAgICAgICAgICAgYmF0Y2guY2FuY2VsID0gY2FuY2VsO1xuICAgICAgICAgICAgcHJvbWlzZS50aGVuKChyZXN1bHQpPT57XG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdWx0W2ldO1xuICAgICAgICAgICAgICAgICAgICB1bml0UmVzb2x2ZXIoaSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYmF0Y2guaXRlbXMpe1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnJlamVjdD8uKG5ldyBFcnJvcignTWlzc2luZyByZXN1bHQnKSk7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uYmF0Y2ggPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmNhdGNoKChjYXVzZSk9PntcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYmF0Y2guaXRlbXMpe1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnJlamVjdD8uKGNhdXNlKTtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5iYXRjaCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbG9hZChrZXkpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHtcbiAgICAgICAgICAgIGFib3J0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgYmF0Y2g6IG51bGwsXG4gICAgICAgICAgICByZXNvbHZlOiB0aHJvd0ZhdGFsRXJyb3IsXG4gICAgICAgICAgICByZWplY3Q6IHRocm93RmF0YWxFcnJvclxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICAgICAgICAgIGl0ZW0ucmVqZWN0ID0gcmVqZWN0O1xuICAgICAgICAgICAgaXRlbS5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIGlmICghcGVuZGluZ0l0ZW1zKSB7XG4gICAgICAgICAgICAgICAgcGVuZGluZ0l0ZW1zID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwZW5kaW5nSXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghZGlzcGF0Y2hUaW1lcikge1xuICAgICAgICAgICAgZGlzcGF0Y2hUaW1lciA9IHNldFRpbWVvdXQoZGlzcGF0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhbmNlbCA9ICgpPT57XG4gICAgICAgICAgICBpdGVtLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGl0ZW0uYmF0Y2g/Lml0ZW1zLmV2ZXJ5KChpdGVtKT0+aXRlbS5hYm9ydGVkKSkge1xuICAgICAgICAgICAgICAgIC8vIEFsbCBpdGVtcyBpbiB0aGUgYmF0Y2ggaGF2ZSBiZWVuIGNhbmNlbGxlZFxuICAgICAgICAgICAgICAgIGl0ZW0uYmF0Y2guY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgaXRlbS5iYXRjaCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm9taXNlLFxuICAgICAgICAgICAgY2FuY2VsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGxvYWRcbiAgICB9O1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIGNyZWF0ZUhUVFBCYXRjaExpbmsocmVxdWVzdGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGh0dHBCYXRjaExpbmsob3B0cykge1xuICAgICAgICBjb25zdCByZXNvbHZlZE9wdHMgPSByZXNvbHZlSFRUUExpbmtPcHRpb25zKG9wdHMpO1xuICAgICAgICBjb25zdCBtYXhVUkxMZW5ndGggPSBvcHRzLm1heFVSTExlbmd0aCA/PyBJbmZpbml0eTtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZWQgY29uZmlnXG4gICAgICAgIHJldHVybiAocnVudGltZSk9PntcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoTG9hZGVyID0gKHR5cGUpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdGUgPSAoYmF0Y2hPcHMpPT57XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXhVUkxMZW5ndGggPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2NhcGUgaGF0Y2ggZm9yIHF1aWNrIGNhbGNzXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gYmF0Y2hPcHMubWFwKChvcCk9Pm9wLnBhdGgpLmpvaW4oJywnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRzID0gYmF0Y2hPcHMubWFwKChvcCk9Pm9wLmlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsID0gZ2V0VXJsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlc29sdmVkT3B0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bnRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVybC5sZW5ndGggPD0gbWF4VVJMTGVuZ3RoO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgZmV0Y2ggPSByZXF1ZXN0ZXIoe1xuICAgICAgICAgICAgICAgICAgICAuLi5yZXNvbHZlZE9wdHMsXG4gICAgICAgICAgICAgICAgICAgIHJ1bnRpbWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIG9wdHNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gZGF0YUxvYWRlcihiYXRjaExvYWRlcigncXVlcnknKSk7XG4gICAgICAgICAgICBjb25zdCBtdXRhdGlvbiA9IGRhdGFMb2FkZXIoYmF0Y2hMb2FkZXIoJ211dGF0aW9uJykpO1xuICAgICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gZGF0YUxvYWRlcihiYXRjaExvYWRlcignc3Vic2NyaXB0aW9uJykpO1xuICAgICAgICAgICAgY29uc3QgbG9hZGVycyA9IHtcbiAgICAgICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgbXV0YXRpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gKHsgb3AgIH0pPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmFibGUoKG9ic2VydmVyKT0+e1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2FkZXIgPSBsb2FkZXJzW29wLnR5cGVdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHByb21pc2UgLCBjYW5jZWwgIH0gPSBsb2FkZXIubG9hZChvcCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBfcmVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4oKHJlcyk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZXMgPSByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZCA9IHRyYW5zZm9ybVJlc3VsdChyZXMuanNvbiwgcnVudGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRyYW5zZm9ybWVkLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoVFJQQ0NsaWVudEVycm9yLmZyb20odHJhbnNmb3JtZWQuZXJyb3IsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YTogcmVzLm1ldGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogcmVzLm1ldGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB0cmFuc2Zvcm1lZC5yZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycik9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKFRSUENDbGllbnRFcnJvci5mcm9tKGVyciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGE6IF9yZXM/Lm1ldGFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG59XG5cbmNvbnN0IGJhdGNoUmVxdWVzdGVyID0gKHJlcXVlc3Rlck9wdHMpPT57XG4gICAgcmV0dXJuIChiYXRjaE9wcyk9PntcbiAgICAgICAgY29uc3QgcGF0aCA9IGJhdGNoT3BzLm1hcCgob3ApPT5vcC5wYXRoKS5qb2luKCcsJyk7XG4gICAgICAgIGNvbnN0IGlucHV0cyA9IGJhdGNoT3BzLm1hcCgob3ApPT5vcC5pbnB1dCk7XG4gICAgICAgIGNvbnN0IHsgcHJvbWlzZSAsIGNhbmNlbCAgfSA9IGpzb25IdHRwUmVxdWVzdGVyKHtcbiAgICAgICAgICAgIC4uLnJlcXVlc3Rlck9wdHMsXG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgaW5wdXRzLFxuICAgICAgICAgICAgaGVhZGVycyAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXF1ZXN0ZXJPcHRzLm9wdHMuaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdGVyT3B0cy5vcHRzLmhlYWRlcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3Rlck9wdHMub3B0cy5oZWFkZXJzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wTGlzdDogYmF0Y2hPcHNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0ZXJPcHRzLm9wdHMuaGVhZGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm9taXNlOiBwcm9taXNlLnRoZW4oKHJlcyk9PntcbiAgICAgICAgICAgICAgICBjb25zdCByZXNKU09OID0gQXJyYXkuaXNBcnJheShyZXMuanNvbikgPyByZXMuanNvbiA6IGJhdGNoT3BzLm1hcCgoKT0+cmVzLmpzb24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc0pTT04ubWFwKChpdGVtKT0+KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGE6IHJlcy5tZXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAganNvbjogaXRlbVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgY2FuY2VsXG4gICAgICAgIH07XG4gICAgfTtcbn07XG5jb25zdCBodHRwQmF0Y2hMaW5rID0gY3JlYXRlSFRUUEJhdGNoTGluayhiYXRjaFJlcXVlc3Rlcik7XG5cbmV4cG9ydCB7IGNyZWF0ZUhUVFBCYXRjaExpbmsgYXMgYywgaHR0cEJhdGNoTGluayBhcyBoIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/httpBatchLink-204206a5.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/client/dist/httpUtils-f58ceda1.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/httpUtils-f58ceda1.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   a: () => (/* binding */ getBody),\n/* harmony export */   b: () => (/* binding */ getFetch),\n/* harmony export */   f: () => (/* binding */ fetchHTTPResponse),\n/* harmony export */   g: () => (/* binding */ getUrl),\n/* harmony export */   h: () => (/* binding */ httpRequest),\n/* harmony export */   j: () => (/* binding */ jsonHttpRequester),\n/* harmony export */   r: () => (/* binding */ resolveHTTPLinkOptions)\n/* harmony export */ });\n/* harmony import */ var _TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TRPCClientError-0de4d231.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/TRPCClientError-0de4d231.mjs\");\n\n\nconst isFunction = (fn)=>typeof fn === 'function';\nfunction getFetch(customFetchImpl) {\n    if (customFetchImpl) {\n        return customFetchImpl;\n    }\n    if (typeof window !== 'undefined' && isFunction(window.fetch)) {\n        return window.fetch;\n    }\n    if (typeof globalThis !== 'undefined' && isFunction(globalThis.fetch)) {\n        return globalThis.fetch;\n    }\n    throw new Error('No fetch implementation found');\n}\n\nfunction getAbortController(customAbortControllerImpl) {\n    if (customAbortControllerImpl) {\n        return customAbortControllerImpl;\n    }\n    // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n    if (typeof window !== 'undefined' && window.AbortController) {\n        return window.AbortController;\n    }\n    // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n    if (typeof globalThis !== 'undefined' && globalThis.AbortController) {\n        return globalThis.AbortController;\n    }\n    return null;\n}\n\nfunction resolveHTTPLinkOptions(opts) {\n    return {\n        url: opts.url.toString().replace(/\\/$/, ''),\n        fetch: opts.fetch,\n        AbortController: getAbortController(opts.AbortController)\n    };\n}\n// https://github.com/trpc/trpc/pull/669\nfunction arrayToDict(array) {\n    const dict = {};\n    for(let index = 0; index < array.length; index++){\n        const element = array[index];\n        dict[index] = element;\n    }\n    return dict;\n}\nconst METHOD = {\n    query: 'GET',\n    mutation: 'POST'\n};\nfunction getInput(opts) {\n    return 'input' in opts ? opts.runtime.transformer.serialize(opts.input) : arrayToDict(opts.inputs.map((_input)=>opts.runtime.transformer.serialize(_input)));\n}\nconst getUrl = (opts)=>{\n    let url = opts.url + '/' + opts.path;\n    const queryParts = [];\n    if ('inputs' in opts) {\n        queryParts.push('batch=1');\n    }\n    if (opts.type === 'query') {\n        const input = getInput(opts);\n        if (input !== undefined) {\n            queryParts.push(`input=${encodeURIComponent(JSON.stringify(input))}`);\n        }\n    }\n    if (queryParts.length) {\n        url += '?' + queryParts.join('&');\n    }\n    return url;\n};\nconst getBody = (opts)=>{\n    if (opts.type === 'query') {\n        return undefined;\n    }\n    const input = getInput(opts);\n    return input !== undefined ? JSON.stringify(input) : undefined;\n};\nconst jsonHttpRequester = (opts)=>{\n    return httpRequest({\n        ...opts,\n        contentTypeHeader: 'application/json',\n        getUrl,\n        getBody\n    });\n};\nasync function fetchHTTPResponse(opts, ac) {\n    const url = opts.getUrl(opts);\n    const body = opts.getBody(opts);\n    const { type  } = opts;\n    const resolvedHeaders = await opts.headers();\n    /* istanbul ignore if -- @preserve */ if (type === 'subscription') {\n        throw new Error('Subscriptions should use wsLink');\n    }\n    const headers = {\n        ...opts.contentTypeHeader ? {\n            'content-type': opts.contentTypeHeader\n        } : {},\n        ...opts.batchModeHeader ? {\n            'trpc-batch-mode': opts.batchModeHeader\n        } : {},\n        ...resolvedHeaders\n    };\n    return getFetch(opts.fetch)(url, {\n        method: METHOD[type],\n        signal: ac?.signal,\n        body: body,\n        headers\n    });\n}\nfunction httpRequest(opts) {\n    const ac = opts.AbortController ? new opts.AbortController() : null;\n    const meta = {};\n    let done = false;\n    const promise = new Promise((resolve, reject)=>{\n        fetchHTTPResponse(opts, ac).then((_res)=>{\n            meta.response = _res;\n            done = true;\n            return _res.json();\n        }).then((json)=>{\n            meta.responseJSON = json;\n            resolve({\n                json: json,\n                meta\n            });\n        }).catch((err)=>{\n            done = true;\n            reject(_TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_0__.T.from(err, {\n                meta\n            }));\n        });\n    });\n    const cancel = ()=>{\n        if (!done) {\n            ac?.abort();\n        }\n    };\n    return {\n        promise,\n        cancel\n    };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvaHR0cFV0aWxzLWY1OGNlZGExLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRTs7QUFFdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDBDQUEwQztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxJQUFJO0FBQ2Q7QUFDQTtBQUNBLFVBQVUsSUFBSTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLG1CQUFtQiw0REFBZTtBQUNsQztBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVtSiIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9jbGllbnQvZGlzdC9odHRwVXRpbHMtZjU4Y2VkYTEubWpzPzM2M2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVCBhcyBUUlBDQ2xpZW50RXJyb3IgfSBmcm9tICcuL1RSUENDbGllbnRFcnJvci0wZGU0ZDIzMS5tanMnO1xuXG5jb25zdCBpc0Z1bmN0aW9uID0gKGZuKT0+dHlwZW9mIGZuID09PSAnZnVuY3Rpb24nO1xuZnVuY3Rpb24gZ2V0RmV0Y2goY3VzdG9tRmV0Y2hJbXBsKSB7XG4gICAgaWYgKGN1c3RvbUZldGNoSW1wbCkge1xuICAgICAgICByZXR1cm4gY3VzdG9tRmV0Y2hJbXBsO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNGdW5jdGlvbih3aW5kb3cuZmV0Y2gpKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuZmV0Y2g7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNGdW5jdGlvbihnbG9iYWxUaGlzLmZldGNoKSkge1xuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcy5mZXRjaDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBmZXRjaCBpbXBsZW1lbnRhdGlvbiBmb3VuZCcpO1xufVxuXG5mdW5jdGlvbiBnZXRBYm9ydENvbnRyb2xsZXIoY3VzdG9tQWJvcnRDb250cm9sbGVySW1wbCkge1xuICAgIGlmIChjdXN0b21BYm9ydENvbnRyb2xsZXJJbXBsKSB7XG4gICAgICAgIHJldHVybiBjdXN0b21BYm9ydENvbnRyb2xsZXJJbXBsO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1vcHRpb25hbC1jaGFpblxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuQWJvcnRDb250cm9sbGVyKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuQWJvcnRDb250cm9sbGVyO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1vcHRpb25hbC1jaGFpblxuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsVGhpcy5BYm9ydENvbnRyb2xsZXIpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXMuQWJvcnRDb250cm9sbGVyO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUhUVFBMaW5rT3B0aW9ucyhvcHRzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXJsOiBvcHRzLnVybC50b1N0cmluZygpLnJlcGxhY2UoL1xcLyQvLCAnJyksXG4gICAgICAgIGZldGNoOiBvcHRzLmZldGNoLFxuICAgICAgICBBYm9ydENvbnRyb2xsZXI6IGdldEFib3J0Q29udHJvbGxlcihvcHRzLkFib3J0Q29udHJvbGxlcilcbiAgICB9O1xufVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RycGMvdHJwYy9wdWxsLzY2OVxuZnVuY3Rpb24gYXJyYXlUb0RpY3QoYXJyYXkpIHtcbiAgICBjb25zdCBkaWN0ID0ge307XG4gICAgZm9yKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYXJyYXkubGVuZ3RoOyBpbmRleCsrKXtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgZGljdFtpbmRleF0gPSBlbGVtZW50O1xuICAgIH1cbiAgICByZXR1cm4gZGljdDtcbn1cbmNvbnN0IE1FVEhPRCA9IHtcbiAgICBxdWVyeTogJ0dFVCcsXG4gICAgbXV0YXRpb246ICdQT1NUJ1xufTtcbmZ1bmN0aW9uIGdldElucHV0KG9wdHMpIHtcbiAgICByZXR1cm4gJ2lucHV0JyBpbiBvcHRzID8gb3B0cy5ydW50aW1lLnRyYW5zZm9ybWVyLnNlcmlhbGl6ZShvcHRzLmlucHV0KSA6IGFycmF5VG9EaWN0KG9wdHMuaW5wdXRzLm1hcCgoX2lucHV0KT0+b3B0cy5ydW50aW1lLnRyYW5zZm9ybWVyLnNlcmlhbGl6ZShfaW5wdXQpKSk7XG59XG5jb25zdCBnZXRVcmwgPSAob3B0cyk9PntcbiAgICBsZXQgdXJsID0gb3B0cy51cmwgKyAnLycgKyBvcHRzLnBhdGg7XG4gICAgY29uc3QgcXVlcnlQYXJ0cyA9IFtdO1xuICAgIGlmICgnaW5wdXRzJyBpbiBvcHRzKSB7XG4gICAgICAgIHF1ZXJ5UGFydHMucHVzaCgnYmF0Y2g9MScpO1xuICAgIH1cbiAgICBpZiAob3B0cy50eXBlID09PSAncXVlcnknKSB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gZ2V0SW5wdXQob3B0cyk7XG4gICAgICAgIGlmIChpbnB1dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcnRzLnB1c2goYGlucHV0PSR7ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGlucHV0KSl9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHF1ZXJ5UGFydHMubGVuZ3RoKSB7XG4gICAgICAgIHVybCArPSAnPycgKyBxdWVyeVBhcnRzLmpvaW4oJyYnKTtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbn07XG5jb25zdCBnZXRCb2R5ID0gKG9wdHMpPT57XG4gICAgaWYgKG9wdHMudHlwZSA9PT0gJ3F1ZXJ5Jykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBpbnB1dCA9IGdldElucHV0KG9wdHMpO1xuICAgIHJldHVybiBpbnB1dCAhPT0gdW5kZWZpbmVkID8gSlNPTi5zdHJpbmdpZnkoaW5wdXQpIDogdW5kZWZpbmVkO1xufTtcbmNvbnN0IGpzb25IdHRwUmVxdWVzdGVyID0gKG9wdHMpPT57XG4gICAgcmV0dXJuIGh0dHBSZXF1ZXN0KHtcbiAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgY29udGVudFR5cGVIZWFkZXI6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgZ2V0VXJsLFxuICAgICAgICBnZXRCb2R5XG4gICAgfSk7XG59O1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hIVFRQUmVzcG9uc2Uob3B0cywgYWMpIHtcbiAgICBjb25zdCB1cmwgPSBvcHRzLmdldFVybChvcHRzKTtcbiAgICBjb25zdCBib2R5ID0gb3B0cy5nZXRCb2R5KG9wdHMpO1xuICAgIGNvbnN0IHsgdHlwZSAgfSA9IG9wdHM7XG4gICAgY29uc3QgcmVzb2x2ZWRIZWFkZXJzID0gYXdhaXQgb3B0cy5oZWFkZXJzKCk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmIC0tIEBwcmVzZXJ2ZSAqLyBpZiAodHlwZSA9PT0gJ3N1YnNjcmlwdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdWJzY3JpcHRpb25zIHNob3VsZCB1c2Ugd3NMaW5rJyk7XG4gICAgfVxuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIC4uLm9wdHMuY29udGVudFR5cGVIZWFkZXIgPyB7XG4gICAgICAgICAgICAnY29udGVudC10eXBlJzogb3B0cy5jb250ZW50VHlwZUhlYWRlclxuICAgICAgICB9IDoge30sXG4gICAgICAgIC4uLm9wdHMuYmF0Y2hNb2RlSGVhZGVyID8ge1xuICAgICAgICAgICAgJ3RycGMtYmF0Y2gtbW9kZSc6IG9wdHMuYmF0Y2hNb2RlSGVhZGVyXG4gICAgICAgIH0gOiB7fSxcbiAgICAgICAgLi4ucmVzb2x2ZWRIZWFkZXJzXG4gICAgfTtcbiAgICByZXR1cm4gZ2V0RmV0Y2gob3B0cy5mZXRjaCkodXJsLCB7XG4gICAgICAgIG1ldGhvZDogTUVUSE9EW3R5cGVdLFxuICAgICAgICBzaWduYWw6IGFjPy5zaWduYWwsXG4gICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgIGhlYWRlcnNcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGh0dHBSZXF1ZXN0KG9wdHMpIHtcbiAgICBjb25zdCBhYyA9IG9wdHMuQWJvcnRDb250cm9sbGVyID8gbmV3IG9wdHMuQWJvcnRDb250cm9sbGVyKCkgOiBudWxsO1xuICAgIGNvbnN0IG1ldGEgPSB7fTtcbiAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xuICAgICAgICBmZXRjaEhUVFBSZXNwb25zZShvcHRzLCBhYykudGhlbigoX3Jlcyk9PntcbiAgICAgICAgICAgIG1ldGEucmVzcG9uc2UgPSBfcmVzO1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gX3Jlcy5qc29uKCk7XG4gICAgICAgIH0pLnRoZW4oKGpzb24pPT57XG4gICAgICAgICAgICBtZXRhLnJlc3BvbnNlSlNPTiA9IGpzb247XG4gICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICBqc29uOiBqc29uLFxuICAgICAgICAgICAgICAgIG1ldGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KS5jYXRjaCgoZXJyKT0+e1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZWplY3QoVFJQQ0NsaWVudEVycm9yLmZyb20oZXJyLCB7XG4gICAgICAgICAgICAgICAgbWV0YVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBjb25zdCBjYW5jZWwgPSAoKT0+e1xuICAgICAgICBpZiAoIWRvbmUpIHtcbiAgICAgICAgICAgIGFjPy5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9taXNlLFxuICAgICAgICBjYW5jZWxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBnZXRCb2R5IGFzIGEsIGdldEZldGNoIGFzIGIsIGZldGNoSFRUUFJlc3BvbnNlIGFzIGYsIGdldFVybCBhcyBnLCBodHRwUmVxdWVzdCBhcyBoLCBqc29uSHR0cFJlcXVlc3RlciBhcyBqLCByZXNvbHZlSFRUUExpbmtPcHRpb25zIGFzIHIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/httpUtils-f58ceda1.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/client/dist/index.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@trpc/client/dist/index.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TRPCClientError: () => (/* reexport safe */ _TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__.T),\n/* harmony export */   TRPCUntypedClient: () => (/* binding */ TRPCUntypedClient),\n/* harmony export */   clientCallTypeToProcedureType: () => (/* binding */ clientCallTypeToProcedureType),\n/* harmony export */   createTRPCClient: () => (/* binding */ createTRPCClient),\n/* harmony export */   createTRPCClientProxy: () => (/* binding */ createTRPCClientProxy),\n/* harmony export */   createTRPCProxyClient: () => (/* binding */ createTRPCProxyClient),\n/* harmony export */   createTRPCUntypedClient: () => (/* binding */ createTRPCUntypedClient),\n/* harmony export */   createWSClient: () => (/* reexport safe */ _links_wsLink_mjs__WEBPACK_IMPORTED_MODULE_8__.createWSClient),\n/* harmony export */   experimental_formDataLink: () => (/* binding */ experimental_formDataLink),\n/* harmony export */   getFetch: () => (/* reexport safe */ _httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_4__.b),\n/* harmony export */   getUntypedClient: () => (/* binding */ getUntypedClient),\n/* harmony export */   httpBatchLink: () => (/* reexport safe */ _httpBatchLink_204206a5_mjs__WEBPACK_IMPORTED_MODULE_5__.h),\n/* harmony export */   httpLink: () => (/* reexport safe */ _links_httpLink_mjs__WEBPACK_IMPORTED_MODULE_6__.httpLink),\n/* harmony export */   httpLinkFactory: () => (/* reexport safe */ _links_httpLink_mjs__WEBPACK_IMPORTED_MODULE_6__.httpLinkFactory),\n/* harmony export */   loggerLink: () => (/* reexport safe */ _links_loggerLink_mjs__WEBPACK_IMPORTED_MODULE_7__.loggerLink),\n/* harmony export */   splitLink: () => (/* reexport safe */ _splitLink_4c75f7be_mjs__WEBPACK_IMPORTED_MODULE_1__.s),\n/* harmony export */   unstable_httpBatchStreamLink: () => (/* binding */ unstable_httpBatchStreamLink),\n/* harmony export */   wsLink: () => (/* reexport safe */ _links_wsLink_mjs__WEBPACK_IMPORTED_MODULE_8__.wsLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(ssr)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n/* harmony import */ var _splitLink_4c75f7be_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./splitLink-4c75f7be.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/splitLink-4c75f7be.mjs\");\n/* harmony import */ var _TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TRPCClientError-0de4d231.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/TRPCClientError-0de4d231.mjs\");\n/* harmony import */ var _trpc_server_shared__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @trpc/server/shared */ \"(ssr)/./node_modules/@trpc/server/dist/shared/index.mjs\");\n/* harmony import */ var _httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./httpUtils-f58ceda1.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/httpUtils-f58ceda1.mjs\");\n/* harmony import */ var _httpBatchLink_204206a5_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./httpBatchLink-204206a5.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/httpBatchLink-204206a5.mjs\");\n/* harmony import */ var _links_httpLink_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./links/httpLink.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/links/httpLink.mjs\");\n/* harmony import */ var _links_loggerLink_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./links/loggerLink.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/links/loggerLink.mjs\");\n/* harmony import */ var _links_wsLink_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./links/wsLink.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/links/wsLink.mjs\");\n/* harmony import */ var _transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./transformResult-ace864b8.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass TRPCUntypedClient {\n    $request({ type , input , path , context ={}  }) {\n        const chain$ = (0,_splitLink_4c75f7be_mjs__WEBPACK_IMPORTED_MODULE_1__.c)({\n            links: this.links,\n            op: {\n                id: ++this.requestId,\n                type,\n                path,\n                input,\n                context\n            }\n        });\n        return chain$.pipe((0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.share)());\n    }\n    requestAsPromise(opts) {\n        const req$ = this.$request(opts);\n        const { promise , abort  } = (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observableToPromise)(req$);\n        const abortablePromise = new Promise((resolve, reject)=>{\n            opts.signal?.addEventListener('abort', abort);\n            promise.then((envelope)=>{\n                resolve(envelope.result.data);\n            }).catch((err)=>{\n                reject(_TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(err));\n            });\n        });\n        return abortablePromise;\n    }\n    query(path, input, opts) {\n        return this.requestAsPromise({\n            type: 'query',\n            path,\n            input,\n            context: opts?.context,\n            signal: opts?.signal\n        });\n    }\n    mutation(path, input, opts) {\n        return this.requestAsPromise({\n            type: 'mutation',\n            path,\n            input,\n            context: opts?.context,\n            signal: opts?.signal\n        });\n    }\n    subscription(path, input, opts) {\n        const observable$ = this.$request({\n            type: 'subscription',\n            path,\n            input,\n            context: opts?.context\n        });\n        return observable$.subscribe({\n            next (envelope) {\n                if (envelope.result.type === 'started') {\n                    opts.onStarted?.();\n                } else if (envelope.result.type === 'stopped') {\n                    opts.onStopped?.();\n                } else {\n                    opts.onData?.(envelope.result.data);\n                }\n            },\n            error (err) {\n                opts.onError?.(err);\n            },\n            complete () {\n                opts.onComplete?.();\n            }\n        });\n    }\n    constructor(opts){\n        this.requestId = 0;\n        const combinedTransformer = (()=>{\n            const transformer = opts.transformer;\n            if (!transformer) {\n                return {\n                    input: {\n                        serialize: (data)=>data,\n                        deserialize: (data)=>data\n                    },\n                    output: {\n                        serialize: (data)=>data,\n                        deserialize: (data)=>data\n                    }\n                };\n            }\n            if ('input' in transformer) {\n                return opts.transformer;\n            }\n            return {\n                input: transformer,\n                output: transformer\n            };\n        })();\n        this.runtime = {\n            transformer: {\n                serialize: (data)=>combinedTransformer.input.serialize(data),\n                deserialize: (data)=>combinedTransformer.output.deserialize(data)\n            },\n            combinedTransformer\n        };\n        // Initialize the links\n        this.links = opts.links.map((link)=>link(this.runtime));\n    }\n}\n\nfunction createTRPCUntypedClient(opts) {\n    return new TRPCUntypedClient(opts);\n}\n\n/**\n * @deprecated use `createTRPCProxyClient` instead\n */ function createTRPCClient(opts) {\n    const client = new TRPCUntypedClient(opts);\n    return client;\n}\n\nconst clientCallTypeMap = {\n    query: 'query',\n    mutate: 'mutation',\n    subscribe: 'subscription'\n};\n/** @internal */ const clientCallTypeToProcedureType = (clientCallType)=>{\n    return clientCallTypeMap[clientCallType];\n};\n/**\n * @deprecated use `createTRPCProxyClient` instead\n * @internal\n */ function createTRPCClientProxy(client) {\n    return (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_3__.createFlatProxy)((key)=>{\n        if (client.hasOwnProperty(key)) {\n            return client[key];\n        }\n        if (key === '__untypedClient') {\n            return client;\n        }\n        return (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_3__.createRecursiveProxy)(({ path , args  })=>{\n            const pathCopy = [\n                key,\n                ...path\n            ];\n            const procedureType = clientCallTypeToProcedureType(pathCopy.pop());\n            const fullPath = pathCopy.join('.');\n            return client[procedureType](fullPath, ...args);\n        });\n    });\n}\nfunction createTRPCProxyClient(opts) {\n    const client = new TRPCUntypedClient(opts);\n    const proxy = createTRPCClientProxy(client);\n    return proxy;\n}\n/**\n * Get an untyped client from a proxy client\n * @internal\n */ function getUntypedClient(client) {\n    return client.__untypedClient;\n}\n\nfunction getTextDecoder(customTextDecoder) {\n    if (customTextDecoder) {\n        return customTextDecoder;\n    }\n    // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n    if (typeof window !== 'undefined' && window.TextDecoder) {\n        return new window.TextDecoder();\n    }\n    // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n    if (typeof globalThis !== 'undefined' && globalThis.TextDecoder) {\n        return new globalThis.TextDecoder();\n    }\n    throw new Error('No TextDecoder implementation found');\n}\n\n// Stream parsing adapted from https://www.loginradius.com/blog/engineering/guest-post/http-streaming-with-nodejs-and-fetch-api/\n/**\n * @internal\n * @description Take a stream of bytes and call `onLine` with\n * a JSON object for each line in the stream. Expected stream\n * format is:\n * ```json\n * {\"1\": {...}\n * ,\"0\": {...}\n * }\n * ```\n */ async function parseJSONStream(opts) {\n    const parse = opts.parse ?? JSON.parse;\n    const onLine = (line)=>{\n        if (opts.signal?.aborted) return;\n        if (!line || line === '}') {\n            return;\n        }\n        /**\n     * At this point, `line` can be one of two things:\n     * - The first line of the stream `{\"2\":{...}`\n     * - A line in the middle of the stream `,\"2\":{...}`\n     */ const indexOfColon = line.indexOf(':');\n        const indexAsStr = line.substring(2, indexOfColon - 1);\n        const text = line.substring(indexOfColon + 1);\n        opts.onSingle(Number(indexAsStr), parse(text));\n    };\n    await readLines(opts.readableStream, onLine, opts.textDecoder);\n}\n/**\n * Handle transforming a stream of bytes into lines of text.\n * To avoid using AsyncIterators / AsyncGenerators,\n * we use a callback for each line.\n *\n * @param readableStream can be a NodeJS stream or a WebAPI stream\n * @param onLine will be called for every line ('\\n' delimited) in the stream\n */ async function readLines(readableStream, onLine, textDecoder) {\n    let partOfLine = '';\n    const onChunk = (chunk)=>{\n        const chunkText = textDecoder.decode(chunk);\n        const chunkLines = chunkText.split('\\n');\n        if (chunkLines.length === 1) {\n            partOfLine += chunkLines[0];\n        } else if (chunkLines.length > 1) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- length checked on line above\n            onLine(partOfLine + chunkLines[0]);\n            for(let i = 1; i < chunkLines.length - 1; i++){\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- length checked on line above\n                onLine(chunkLines[i]);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- length doesn't change, so is necessarily > 1\n            partOfLine = chunkLines[chunkLines.length - 1];\n        }\n    };\n    // we handle 2 different types of streams, this if where we figure out which one we have\n    if ('getReader' in readableStream) {\n        await readStandardChunks(readableStream, onChunk);\n    } else {\n        await readNodeChunks(readableStream, onChunk);\n    }\n    onLine(partOfLine);\n}\n/**\n * Handle NodeJS stream\n */ function readNodeChunks(stream, onChunk) {\n    return new Promise((resolve)=>{\n        stream.on('data', onChunk);\n        stream.on('end', resolve);\n    });\n}\n/**\n * Handle WebAPI stream\n */ async function readStandardChunks(stream, onChunk) {\n    const reader = stream.getReader();\n    let readResult = await reader.read();\n    while(!readResult.done){\n        onChunk(readResult.value);\n        readResult = await reader.read();\n    }\n}\nconst streamingJsonHttpRequester = (opts, onSingle)=>{\n    const ac = opts.AbortController ? new opts.AbortController() : null;\n    const responsePromise = (0,_httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_4__.f)({\n        ...opts,\n        contentTypeHeader: 'application/json',\n        batchModeHeader: 'stream',\n        getUrl: _httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_4__.g,\n        getBody: _httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_4__.a\n    }, ac);\n    const cancel = ()=>ac?.abort();\n    const promise = responsePromise.then(async (res)=>{\n        if (!res.body) throw new Error('Received response without body');\n        const meta = {\n            response: res\n        };\n        return parseJSONStream({\n            readableStream: res.body,\n            onSingle,\n            parse: (string)=>({\n                    json: JSON.parse(string),\n                    meta\n                }),\n            signal: ac?.signal,\n            textDecoder: opts.textDecoder\n        });\n    });\n    return {\n        cancel,\n        promise\n    };\n};\n\nconst streamRequester = (requesterOpts)=>{\n    const textDecoder = getTextDecoder(requesterOpts.opts.textDecoder);\n    return (batchOps, unitResolver)=>{\n        const path = batchOps.map((op)=>op.path).join(',');\n        const inputs = batchOps.map((op)=>op.input);\n        const { cancel , promise  } = streamingJsonHttpRequester({\n            ...requesterOpts,\n            textDecoder,\n            path,\n            inputs,\n            headers () {\n                if (!requesterOpts.opts.headers) {\n                    return {};\n                }\n                if (typeof requesterOpts.opts.headers === 'function') {\n                    return requesterOpts.opts.headers({\n                        opList: batchOps\n                    });\n                }\n                return requesterOpts.opts.headers;\n            }\n        }, (index, res)=>{\n            unitResolver(index, res);\n        });\n        return {\n            /**\n       * return an empty array because the batchLoader expects an array of results\n       * but we've already called the `unitResolver` for each of them, there's\n       * nothing left to do here.\n       */ promise: promise.then(()=>[]),\n            cancel\n        };\n    };\n};\nconst unstable_httpBatchStreamLink = (0,_httpBatchLink_204206a5_mjs__WEBPACK_IMPORTED_MODULE_5__.c)(streamRequester);\n\nconst getBody = (opts)=>{\n    if (!('input' in opts)) {\n        return undefined;\n    }\n    if (!(opts.input instanceof FormData)) {\n        throw new Error('Input is not FormData');\n    }\n    return opts.input;\n};\nconst formDataRequester = (opts)=>{\n    if (opts.type !== 'mutation') {\n        // TODO(?) handle formdata queries\n        throw new Error('We only handle mutations with formdata');\n    }\n    return (0,_httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_4__.h)({\n        ...opts,\n        getUrl () {\n            return `${opts.url}/${opts.path}`;\n        },\n        getBody\n    });\n};\nconst experimental_formDataLink = (0,_links_httpLink_mjs__WEBPACK_IMPORTED_MODULE_6__.httpLinkFactory)({\n    requester: formDataRequester\n});\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBcUU7QUFDVDtBQUNGO0FBQ1k7QUFDQTtBQUNNO0FBQ3FDO0FBQ3hEO0FBQ2U7QUFDTjtBQUNYO0FBQ1U7QUFDYjtBQUNRO0FBQ3BCOztBQUV4QztBQUNBLGVBQWUsb0NBQW9DO0FBQ25ELHVCQUF1QiwwREFBVztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDJCQUEyQiw4REFBSztBQUNoQztBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUJBQW1CLEVBQUUsNEVBQW1CO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLHVCQUF1Qiw0REFBZTtBQUN0QyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvRUFBZTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlFQUFvQixJQUFJLGNBQWM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxNQUFNO0FBQ1YsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxLQUFLLElBQUk7QUFDakQsbURBQW1ELElBQUk7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSwyQkFBMkIsMkJBQTJCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDBEQUFpQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsaUJBQWlCLHNEQUFTO0FBQzFCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9CQUFvQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw4REFBbUI7O0FBRXhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDBEQUFXO0FBQ3RCO0FBQ0E7QUFDQSxzQkFBc0IsU0FBUyxHQUFHLFVBQVU7QUFDNUMsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0Esa0NBQWtDLG9FQUFlO0FBQ2pEO0FBQ0EsQ0FBQzs7QUFFK04iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvaW5kZXgubWpzP2FlZmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2hhcmUsIG9ic2VydmFibGVUb1Byb21pc2UgfSBmcm9tICdAdHJwYy9zZXJ2ZXIvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUNoYWluIH0gZnJvbSAnLi9zcGxpdExpbmstNGM3NWY3YmUubWpzJztcbmV4cG9ydCB7IHMgYXMgc3BsaXRMaW5rIH0gZnJvbSAnLi9zcGxpdExpbmstNGM3NWY3YmUubWpzJztcbmltcG9ydCB7IFQgYXMgVFJQQ0NsaWVudEVycm9yIH0gZnJvbSAnLi9UUlBDQ2xpZW50RXJyb3ItMGRlNGQyMzEubWpzJztcbmV4cG9ydCB7IFQgYXMgVFJQQ0NsaWVudEVycm9yIH0gZnJvbSAnLi9UUlBDQ2xpZW50RXJyb3ItMGRlNGQyMzEubWpzJztcbmltcG9ydCB7IGNyZWF0ZUZsYXRQcm94eSwgY3JlYXRlUmVjdXJzaXZlUHJveHkgfSBmcm9tICdAdHJwYy9zZXJ2ZXIvc2hhcmVkJztcbmltcG9ydCB7IGYgYXMgZmV0Y2hIVFRQUmVzcG9uc2UsIGcgYXMgZ2V0VXJsLCBhIGFzIGdldEJvZHkkMSwgaCBhcyBodHRwUmVxdWVzdCB9IGZyb20gJy4vaHR0cFV0aWxzLWY1OGNlZGExLm1qcyc7XG5leHBvcnQgeyBiIGFzIGdldEZldGNoIH0gZnJvbSAnLi9odHRwVXRpbHMtZjU4Y2VkYTEubWpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlSFRUUEJhdGNoTGluayB9IGZyb20gJy4vaHR0cEJhdGNoTGluay0yMDQyMDZhNS5tanMnO1xuZXhwb3J0IHsgaCBhcyBodHRwQmF0Y2hMaW5rIH0gZnJvbSAnLi9odHRwQmF0Y2hMaW5rLTIwNDIwNmE1Lm1qcyc7XG5pbXBvcnQgeyBodHRwTGlua0ZhY3RvcnkgfSBmcm9tICcuL2xpbmtzL2h0dHBMaW5rLm1qcyc7XG5leHBvcnQgeyBodHRwTGluaywgaHR0cExpbmtGYWN0b3J5IH0gZnJvbSAnLi9saW5rcy9odHRwTGluay5tanMnO1xuZXhwb3J0IHsgbG9nZ2VyTGluayB9IGZyb20gJy4vbGlua3MvbG9nZ2VyTGluay5tanMnO1xuZXhwb3J0IHsgY3JlYXRlV1NDbGllbnQsIHdzTGluayB9IGZyb20gJy4vbGlua3Mvd3NMaW5rLm1qcyc7XG5pbXBvcnQgJy4vdHJhbnNmb3JtUmVzdWx0LWFjZTg2NGI4Lm1qcyc7XG5cbmNsYXNzIFRSUENVbnR5cGVkQ2xpZW50IHtcbiAgICAkcmVxdWVzdCh7IHR5cGUgLCBpbnB1dCAsIHBhdGggLCBjb250ZXh0ID17fSAgfSkge1xuICAgICAgICBjb25zdCBjaGFpbiQgPSBjcmVhdGVDaGFpbih7XG4gICAgICAgICAgICBsaW5rczogdGhpcy5saW5rcyxcbiAgICAgICAgICAgIG9wOiB7XG4gICAgICAgICAgICAgICAgaWQ6ICsrdGhpcy5yZXF1ZXN0SWQsXG4gICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjaGFpbiQucGlwZShzaGFyZSgpKTtcbiAgICB9XG4gICAgcmVxdWVzdEFzUHJvbWlzZShvcHRzKSB7XG4gICAgICAgIGNvbnN0IHJlcSQgPSB0aGlzLiRyZXF1ZXN0KG9wdHMpO1xuICAgICAgICBjb25zdCB7IHByb21pc2UgLCBhYm9ydCAgfSA9IG9ic2VydmFibGVUb1Byb21pc2UocmVxJCk7XG4gICAgICAgIGNvbnN0IGFib3J0YWJsZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xuICAgICAgICAgICAgb3B0cy5zaWduYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnQpO1xuICAgICAgICAgICAgcHJvbWlzZS50aGVuKChlbnZlbG9wZSk9PntcbiAgICAgICAgICAgICAgICByZXNvbHZlKGVudmVsb3BlLnJlc3VsdC5kYXRhKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpPT57XG4gICAgICAgICAgICAgICAgcmVqZWN0KFRSUENDbGllbnRFcnJvci5mcm9tKGVycikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYWJvcnRhYmxlUHJvbWlzZTtcbiAgICB9XG4gICAgcXVlcnkocGF0aCwgaW5wdXQsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdEFzUHJvbWlzZSh7XG4gICAgICAgICAgICB0eXBlOiAncXVlcnknLFxuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgY29udGV4dDogb3B0cz8uY29udGV4dCxcbiAgICAgICAgICAgIHNpZ25hbDogb3B0cz8uc2lnbmFsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtdXRhdGlvbihwYXRoLCBpbnB1dCwgb3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0QXNQcm9taXNlKHtcbiAgICAgICAgICAgIHR5cGU6ICdtdXRhdGlvbicsXG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBjb250ZXh0OiBvcHRzPy5jb250ZXh0LFxuICAgICAgICAgICAgc2lnbmFsOiBvcHRzPy5zaWduYWxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN1YnNjcmlwdGlvbihwYXRoLCBpbnB1dCwgb3B0cykge1xuICAgICAgICBjb25zdCBvYnNlcnZhYmxlJCA9IHRoaXMuJHJlcXVlc3Qoe1xuICAgICAgICAgICAgdHlwZTogJ3N1YnNjcmlwdGlvbicsXG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBjb250ZXh0OiBvcHRzPy5jb250ZXh0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZSQuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgIG5leHQgKGVudmVsb3BlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVudmVsb3BlLnJlc3VsdC50eXBlID09PSAnc3RhcnRlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5vblN0YXJ0ZWQ/LigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZW52ZWxvcGUucmVzdWx0LnR5cGUgPT09ICdzdG9wcGVkJykge1xuICAgICAgICAgICAgICAgICAgICBvcHRzLm9uU3RvcHBlZD8uKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5vbkRhdGE/LihlbnZlbG9wZS5yZXN1bHQuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yIChlcnIpIHtcbiAgICAgICAgICAgICAgICBvcHRzLm9uRXJyb3I/LihlcnIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBsZXRlICgpIHtcbiAgICAgICAgICAgICAgICBvcHRzLm9uQ29tcGxldGU/LigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3Iob3B0cyl7XG4gICAgICAgIHRoaXMucmVxdWVzdElkID0gMDtcbiAgICAgICAgY29uc3QgY29tYmluZWRUcmFuc2Zvcm1lciA9ICgoKT0+e1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtZXIgPSBvcHRzLnRyYW5zZm9ybWVyO1xuICAgICAgICAgICAgaWYgKCF0cmFuc2Zvcm1lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemU6IChkYXRhKT0+ZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2VyaWFsaXplOiAoZGF0YSk9PmRhdGFcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemU6IChkYXRhKT0+ZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2VyaWFsaXplOiAoZGF0YSk9PmRhdGFcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ2lucHV0JyBpbiB0cmFuc2Zvcm1lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRzLnRyYW5zZm9ybWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpbnB1dDogdHJhbnNmb3JtZXIsXG4gICAgICAgICAgICAgICAgb3V0cHV0OiB0cmFuc2Zvcm1lclxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkoKTtcbiAgICAgICAgdGhpcy5ydW50aW1lID0ge1xuICAgICAgICAgICAgdHJhbnNmb3JtZXI6IHtcbiAgICAgICAgICAgICAgICBzZXJpYWxpemU6IChkYXRhKT0+Y29tYmluZWRUcmFuc2Zvcm1lci5pbnB1dC5zZXJpYWxpemUoZGF0YSksXG4gICAgICAgICAgICAgICAgZGVzZXJpYWxpemU6IChkYXRhKT0+Y29tYmluZWRUcmFuc2Zvcm1lci5vdXRwdXQuZGVzZXJpYWxpemUoZGF0YSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21iaW5lZFRyYW5zZm9ybWVyXG4gICAgICAgIH07XG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGxpbmtzXG4gICAgICAgIHRoaXMubGlua3MgPSBvcHRzLmxpbmtzLm1hcCgobGluayk9PmxpbmsodGhpcy5ydW50aW1lKSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVUUlBDVW50eXBlZENsaWVudChvcHRzKSB7XG4gICAgcmV0dXJuIG5ldyBUUlBDVW50eXBlZENsaWVudChvcHRzKTtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCB1c2UgYGNyZWF0ZVRSUENQcm94eUNsaWVudGAgaW5zdGVhZFxuICovIGZ1bmN0aW9uIGNyZWF0ZVRSUENDbGllbnQob3B0cykge1xuICAgIGNvbnN0IGNsaWVudCA9IG5ldyBUUlBDVW50eXBlZENsaWVudChvcHRzKTtcbiAgICByZXR1cm4gY2xpZW50O1xufVxuXG5jb25zdCBjbGllbnRDYWxsVHlwZU1hcCA9IHtcbiAgICBxdWVyeTogJ3F1ZXJ5JyxcbiAgICBtdXRhdGU6ICdtdXRhdGlvbicsXG4gICAgc3Vic2NyaWJlOiAnc3Vic2NyaXB0aW9uJ1xufTtcbi8qKiBAaW50ZXJuYWwgKi8gY29uc3QgY2xpZW50Q2FsbFR5cGVUb1Byb2NlZHVyZVR5cGUgPSAoY2xpZW50Q2FsbFR5cGUpPT57XG4gICAgcmV0dXJuIGNsaWVudENhbGxUeXBlTWFwW2NsaWVudENhbGxUeXBlXTtcbn07XG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBgY3JlYXRlVFJQQ1Byb3h5Q2xpZW50YCBpbnN0ZWFkXG4gKiBAaW50ZXJuYWxcbiAqLyBmdW5jdGlvbiBjcmVhdGVUUlBDQ2xpZW50UHJveHkoY2xpZW50KSB7XG4gICAgcmV0dXJuIGNyZWF0ZUZsYXRQcm94eSgoa2V5KT0+e1xuICAgICAgICBpZiAoY2xpZW50Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjbGllbnRba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5ID09PSAnX191bnR5cGVkQ2xpZW50Jykge1xuICAgICAgICAgICAgcmV0dXJuIGNsaWVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJzaXZlUHJveHkoKHsgcGF0aCAsIGFyZ3MgIH0pPT57XG4gICAgICAgICAgICBjb25zdCBwYXRoQ29weSA9IFtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgLi4ucGF0aFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGNvbnN0IHByb2NlZHVyZVR5cGUgPSBjbGllbnRDYWxsVHlwZVRvUHJvY2VkdXJlVHlwZShwYXRoQ29weS5wb3AoKSk7XG4gICAgICAgICAgICBjb25zdCBmdWxsUGF0aCA9IHBhdGhDb3B5LmpvaW4oJy4nKTtcbiAgICAgICAgICAgIHJldHVybiBjbGllbnRbcHJvY2VkdXJlVHlwZV0oZnVsbFBhdGgsIC4uLmFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRSUENQcm94eUNsaWVudChvcHRzKSB7XG4gICAgY29uc3QgY2xpZW50ID0gbmV3IFRSUENVbnR5cGVkQ2xpZW50KG9wdHMpO1xuICAgIGNvbnN0IHByb3h5ID0gY3JlYXRlVFJQQ0NsaWVudFByb3h5KGNsaWVudCk7XG4gICAgcmV0dXJuIHByb3h5O1xufVxuLyoqXG4gKiBHZXQgYW4gdW50eXBlZCBjbGllbnQgZnJvbSBhIHByb3h5IGNsaWVudFxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gZ2V0VW50eXBlZENsaWVudChjbGllbnQpIHtcbiAgICByZXR1cm4gY2xpZW50Ll9fdW50eXBlZENsaWVudDtcbn1cblxuZnVuY3Rpb24gZ2V0VGV4dERlY29kZXIoY3VzdG9tVGV4dERlY29kZXIpIHtcbiAgICBpZiAoY3VzdG9tVGV4dERlY29kZXIpIHtcbiAgICAgICAgcmV0dXJuIGN1c3RvbVRleHREZWNvZGVyO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1vcHRpb25hbC1jaGFpblxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuVGV4dERlY29kZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuVGV4dERlY29kZXIoKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9wcmVmZXItb3B0aW9uYWwtY2hhaW5cbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbFRoaXMuVGV4dERlY29kZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBnbG9iYWxUaGlzLlRleHREZWNvZGVyKCk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignTm8gVGV4dERlY29kZXIgaW1wbGVtZW50YXRpb24gZm91bmQnKTtcbn1cblxuLy8gU3RyZWFtIHBhcnNpbmcgYWRhcHRlZCBmcm9tIGh0dHBzOi8vd3d3LmxvZ2lucmFkaXVzLmNvbS9ibG9nL2VuZ2luZWVyaW5nL2d1ZXN0LXBvc3QvaHR0cC1zdHJlYW1pbmctd2l0aC1ub2RlanMtYW5kLWZldGNoLWFwaS9cbi8qKlxuICogQGludGVybmFsXG4gKiBAZGVzY3JpcHRpb24gVGFrZSBhIHN0cmVhbSBvZiBieXRlcyBhbmQgY2FsbCBgb25MaW5lYCB3aXRoXG4gKiBhIEpTT04gb2JqZWN0IGZvciBlYWNoIGxpbmUgaW4gdGhlIHN0cmVhbS4gRXhwZWN0ZWQgc3RyZWFtXG4gKiBmb3JtYXQgaXM6XG4gKiBgYGBqc29uXG4gKiB7XCIxXCI6IHsuLi59XG4gKiAsXCIwXCI6IHsuLi59XG4gKiB9XG4gKiBgYGBcbiAqLyBhc3luYyBmdW5jdGlvbiBwYXJzZUpTT05TdHJlYW0ob3B0cykge1xuICAgIGNvbnN0IHBhcnNlID0gb3B0cy5wYXJzZSA/PyBKU09OLnBhcnNlO1xuICAgIGNvbnN0IG9uTGluZSA9IChsaW5lKT0+e1xuICAgICAgICBpZiAob3B0cy5zaWduYWw/LmFib3J0ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKCFsaW5lIHx8IGxpbmUgPT09ICd9Jykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAqIEF0IHRoaXMgcG9pbnQsIGBsaW5lYCBjYW4gYmUgb25lIG9mIHR3byB0aGluZ3M6XG4gICAgICogLSBUaGUgZmlyc3QgbGluZSBvZiB0aGUgc3RyZWFtIGB7XCIyXCI6ey4uLn1gXG4gICAgICogLSBBIGxpbmUgaW4gdGhlIG1pZGRsZSBvZiB0aGUgc3RyZWFtIGAsXCIyXCI6ey4uLn1gXG4gICAgICovIGNvbnN0IGluZGV4T2ZDb2xvbiA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgICAgICBjb25zdCBpbmRleEFzU3RyID0gbGluZS5zdWJzdHJpbmcoMiwgaW5kZXhPZkNvbG9uIC0gMSk7XG4gICAgICAgIGNvbnN0IHRleHQgPSBsaW5lLnN1YnN0cmluZyhpbmRleE9mQ29sb24gKyAxKTtcbiAgICAgICAgb3B0cy5vblNpbmdsZShOdW1iZXIoaW5kZXhBc1N0ciksIHBhcnNlKHRleHQpKTtcbiAgICB9O1xuICAgIGF3YWl0IHJlYWRMaW5lcyhvcHRzLnJlYWRhYmxlU3RyZWFtLCBvbkxpbmUsIG9wdHMudGV4dERlY29kZXIpO1xufVxuLyoqXG4gKiBIYW5kbGUgdHJhbnNmb3JtaW5nIGEgc3RyZWFtIG9mIGJ5dGVzIGludG8gbGluZXMgb2YgdGV4dC5cbiAqIFRvIGF2b2lkIHVzaW5nIEFzeW5jSXRlcmF0b3JzIC8gQXN5bmNHZW5lcmF0b3JzLFxuICogd2UgdXNlIGEgY2FsbGJhY2sgZm9yIGVhY2ggbGluZS5cbiAqXG4gKiBAcGFyYW0gcmVhZGFibGVTdHJlYW0gY2FuIGJlIGEgTm9kZUpTIHN0cmVhbSBvciBhIFdlYkFQSSBzdHJlYW1cbiAqIEBwYXJhbSBvbkxpbmUgd2lsbCBiZSBjYWxsZWQgZm9yIGV2ZXJ5IGxpbmUgKCdcXG4nIGRlbGltaXRlZCkgaW4gdGhlIHN0cmVhbVxuICovIGFzeW5jIGZ1bmN0aW9uIHJlYWRMaW5lcyhyZWFkYWJsZVN0cmVhbSwgb25MaW5lLCB0ZXh0RGVjb2Rlcikge1xuICAgIGxldCBwYXJ0T2ZMaW5lID0gJyc7XG4gICAgY29uc3Qgb25DaHVuayA9IChjaHVuayk9PntcbiAgICAgICAgY29uc3QgY2h1bmtUZXh0ID0gdGV4dERlY29kZXIuZGVjb2RlKGNodW5rKTtcbiAgICAgICAgY29uc3QgY2h1bmtMaW5lcyA9IGNodW5rVGV4dC5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGlmIChjaHVua0xpbmVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcGFydE9mTGluZSArPSBjaHVua0xpbmVzWzBdO1xuICAgICAgICB9IGVsc2UgaWYgKGNodW5rTGluZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gLS0gbGVuZ3RoIGNoZWNrZWQgb24gbGluZSBhYm92ZVxuICAgICAgICAgICAgb25MaW5lKHBhcnRPZkxpbmUgKyBjaHVua0xpbmVzWzBdKTtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDE7IGkgPCBjaHVua0xpbmVzLmxlbmd0aCAtIDE7IGkrKyl7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gLS0gbGVuZ3RoIGNoZWNrZWQgb24gbGluZSBhYm92ZVxuICAgICAgICAgICAgICAgIG9uTGluZShjaHVua0xpbmVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uIC0tIGxlbmd0aCBkb2Vzbid0IGNoYW5nZSwgc28gaXMgbmVjZXNzYXJpbHkgPiAxXG4gICAgICAgICAgICBwYXJ0T2ZMaW5lID0gY2h1bmtMaW5lc1tjaHVua0xpbmVzLmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyB3ZSBoYW5kbGUgMiBkaWZmZXJlbnQgdHlwZXMgb2Ygc3RyZWFtcywgdGhpcyBpZiB3aGVyZSB3ZSBmaWd1cmUgb3V0IHdoaWNoIG9uZSB3ZSBoYXZlXG4gICAgaWYgKCdnZXRSZWFkZXInIGluIHJlYWRhYmxlU3RyZWFtKSB7XG4gICAgICAgIGF3YWl0IHJlYWRTdGFuZGFyZENodW5rcyhyZWFkYWJsZVN0cmVhbSwgb25DaHVuayk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgcmVhZE5vZGVDaHVua3MocmVhZGFibGVTdHJlYW0sIG9uQ2h1bmspO1xuICAgIH1cbiAgICBvbkxpbmUocGFydE9mTGluZSk7XG59XG4vKipcbiAqIEhhbmRsZSBOb2RlSlMgc3RyZWFtXG4gKi8gZnVuY3Rpb24gcmVhZE5vZGVDaHVua3Moc3RyZWFtLCBvbkNodW5rKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKT0+e1xuICAgICAgICBzdHJlYW0ub24oJ2RhdGEnLCBvbkNodW5rKTtcbiAgICAgICAgc3RyZWFtLm9uKCdlbmQnLCByZXNvbHZlKTtcbiAgICB9KTtcbn1cbi8qKlxuICogSGFuZGxlIFdlYkFQSSBzdHJlYW1cbiAqLyBhc3luYyBmdW5jdGlvbiByZWFkU3RhbmRhcmRDaHVua3Moc3RyZWFtLCBvbkNodW5rKSB7XG4gICAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICAgIGxldCByZWFkUmVzdWx0ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICB3aGlsZSghcmVhZFJlc3VsdC5kb25lKXtcbiAgICAgICAgb25DaHVuayhyZWFkUmVzdWx0LnZhbHVlKTtcbiAgICAgICAgcmVhZFJlc3VsdCA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgfVxufVxuY29uc3Qgc3RyZWFtaW5nSnNvbkh0dHBSZXF1ZXN0ZXIgPSAob3B0cywgb25TaW5nbGUpPT57XG4gICAgY29uc3QgYWMgPSBvcHRzLkFib3J0Q29udHJvbGxlciA/IG5ldyBvcHRzLkFib3J0Q29udHJvbGxlcigpIDogbnVsbDtcbiAgICBjb25zdCByZXNwb25zZVByb21pc2UgPSBmZXRjaEhUVFBSZXNwb25zZSh7XG4gICAgICAgIC4uLm9wdHMsXG4gICAgICAgIGNvbnRlbnRUeXBlSGVhZGVyOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIGJhdGNoTW9kZUhlYWRlcjogJ3N0cmVhbScsXG4gICAgICAgIGdldFVybCxcbiAgICAgICAgZ2V0Qm9keTogZ2V0Qm9keSQxXG4gICAgfSwgYWMpO1xuICAgIGNvbnN0IGNhbmNlbCA9ICgpPT5hYz8uYWJvcnQoKTtcbiAgICBjb25zdCBwcm9taXNlID0gcmVzcG9uc2VQcm9taXNlLnRoZW4oYXN5bmMgKHJlcyk9PntcbiAgICAgICAgaWYgKCFyZXMuYm9keSkgdGhyb3cgbmV3IEVycm9yKCdSZWNlaXZlZCByZXNwb25zZSB3aXRob3V0IGJvZHknKTtcbiAgICAgICAgY29uc3QgbWV0YSA9IHtcbiAgICAgICAgICAgIHJlc3BvbnNlOiByZXNcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHBhcnNlSlNPTlN0cmVhbSh7XG4gICAgICAgICAgICByZWFkYWJsZVN0cmVhbTogcmVzLmJvZHksXG4gICAgICAgICAgICBvblNpbmdsZSxcbiAgICAgICAgICAgIHBhcnNlOiAoc3RyaW5nKT0+KHtcbiAgICAgICAgICAgICAgICAgICAganNvbjogSlNPTi5wYXJzZShzdHJpbmcpLFxuICAgICAgICAgICAgICAgICAgICBtZXRhXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBzaWduYWw6IGFjPy5zaWduYWwsXG4gICAgICAgICAgICB0ZXh0RGVjb2Rlcjogb3B0cy50ZXh0RGVjb2RlclxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjYW5jZWwsXG4gICAgICAgIHByb21pc2VcbiAgICB9O1xufTtcblxuY29uc3Qgc3RyZWFtUmVxdWVzdGVyID0gKHJlcXVlc3Rlck9wdHMpPT57XG4gICAgY29uc3QgdGV4dERlY29kZXIgPSBnZXRUZXh0RGVjb2RlcihyZXF1ZXN0ZXJPcHRzLm9wdHMudGV4dERlY29kZXIpO1xuICAgIHJldHVybiAoYmF0Y2hPcHMsIHVuaXRSZXNvbHZlcik9PntcbiAgICAgICAgY29uc3QgcGF0aCA9IGJhdGNoT3BzLm1hcCgob3ApPT5vcC5wYXRoKS5qb2luKCcsJyk7XG4gICAgICAgIGNvbnN0IGlucHV0cyA9IGJhdGNoT3BzLm1hcCgob3ApPT5vcC5pbnB1dCk7XG4gICAgICAgIGNvbnN0IHsgY2FuY2VsICwgcHJvbWlzZSAgfSA9IHN0cmVhbWluZ0pzb25IdHRwUmVxdWVzdGVyKHtcbiAgICAgICAgICAgIC4uLnJlcXVlc3Rlck9wdHMsXG4gICAgICAgICAgICB0ZXh0RGVjb2RlcixcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBpbnB1dHMsXG4gICAgICAgICAgICBoZWFkZXJzICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlcXVlc3Rlck9wdHMub3B0cy5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0ZXJPcHRzLm9wdHMuaGVhZGVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdGVyT3B0cy5vcHRzLmhlYWRlcnMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BMaXN0OiBiYXRjaE9wc1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3Rlck9wdHMub3B0cy5oZWFkZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAoaW5kZXgsIHJlcyk9PntcbiAgICAgICAgICAgIHVuaXRSZXNvbHZlcihpbmRleCwgcmVzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAqIHJldHVybiBhbiBlbXB0eSBhcnJheSBiZWNhdXNlIHRoZSBiYXRjaExvYWRlciBleHBlY3RzIGFuIGFycmF5IG9mIHJlc3VsdHNcbiAgICAgICAqIGJ1dCB3ZSd2ZSBhbHJlYWR5IGNhbGxlZCB0aGUgYHVuaXRSZXNvbHZlcmAgZm9yIGVhY2ggb2YgdGhlbSwgdGhlcmUnc1xuICAgICAgICogbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuXG4gICAgICAgKi8gcHJvbWlzZTogcHJvbWlzZS50aGVuKCgpPT5bXSksXG4gICAgICAgICAgICBjYW5jZWxcbiAgICAgICAgfTtcbiAgICB9O1xufTtcbmNvbnN0IHVuc3RhYmxlX2h0dHBCYXRjaFN0cmVhbUxpbmsgPSBjcmVhdGVIVFRQQmF0Y2hMaW5rKHN0cmVhbVJlcXVlc3Rlcik7XG5cbmNvbnN0IGdldEJvZHkgPSAob3B0cyk9PntcbiAgICBpZiAoISgnaW5wdXQnIGluIG9wdHMpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICghKG9wdHMuaW5wdXQgaW5zdGFuY2VvZiBGb3JtRGF0YSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnB1dCBpcyBub3QgRm9ybURhdGEnKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdHMuaW5wdXQ7XG59O1xuY29uc3QgZm9ybURhdGFSZXF1ZXN0ZXIgPSAob3B0cyk9PntcbiAgICBpZiAob3B0cy50eXBlICE9PSAnbXV0YXRpb24nKSB7XG4gICAgICAgIC8vIFRPRE8oPykgaGFuZGxlIGZvcm1kYXRhIHF1ZXJpZXNcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZSBvbmx5IGhhbmRsZSBtdXRhdGlvbnMgd2l0aCBmb3JtZGF0YScpO1xuICAgIH1cbiAgICByZXR1cm4gaHR0cFJlcXVlc3Qoe1xuICAgICAgICAuLi5vcHRzLFxuICAgICAgICBnZXRVcmwgKCkge1xuICAgICAgICAgICAgcmV0dXJuIGAke29wdHMudXJsfS8ke29wdHMucGF0aH1gO1xuICAgICAgICB9LFxuICAgICAgICBnZXRCb2R5XG4gICAgfSk7XG59O1xuY29uc3QgZXhwZXJpbWVudGFsX2Zvcm1EYXRhTGluayA9IGh0dHBMaW5rRmFjdG9yeSh7XG4gICAgcmVxdWVzdGVyOiBmb3JtRGF0YVJlcXVlc3RlclxufSk7XG5cbmV4cG9ydCB7IFRSUENVbnR5cGVkQ2xpZW50LCBjbGllbnRDYWxsVHlwZVRvUHJvY2VkdXJlVHlwZSwgY3JlYXRlVFJQQ0NsaWVudCwgY3JlYXRlVFJQQ0NsaWVudFByb3h5LCBjcmVhdGVUUlBDUHJveHlDbGllbnQsIGNyZWF0ZVRSUENVbnR5cGVkQ2xpZW50LCBleHBlcmltZW50YWxfZm9ybURhdGFMaW5rLCBnZXRVbnR5cGVkQ2xpZW50LCB1bnN0YWJsZV9odHRwQmF0Y2hTdHJlYW1MaW5rIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/client/dist/links/httpLink.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@trpc/client/dist/links/httpLink.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   httpLink: () => (/* binding */ httpLink),\n/* harmony export */   httpLinkFactory: () => (/* binding */ httpLinkFactory)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(ssr)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n/* harmony import */ var _transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../transformResult-ace864b8.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\");\n/* harmony import */ var _TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../TRPCClientError-0de4d231.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/TRPCClientError-0de4d231.mjs\");\n/* harmony import */ var _httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../httpUtils-f58ceda1.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/httpUtils-f58ceda1.mjs\");\n\n\n\n\n\nfunction httpLinkFactory(factoryOpts) {\n    return (opts)=>{\n        const resolvedOpts = (0,_httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_3__.r)(opts);\n        return (runtime)=>({ op  })=>(0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n                    const { path , input , type  } = op;\n                    const { promise , cancel  } = factoryOpts.requester({\n                        ...resolvedOpts,\n                        runtime,\n                        type,\n                        path,\n                        input,\n                        headers () {\n                            if (!opts.headers) {\n                                return {};\n                            }\n                            if (typeof opts.headers === 'function') {\n                                return opts.headers({\n                                    op\n                                });\n                            }\n                            return opts.headers;\n                        }\n                    });\n                    let meta = undefined;\n                    promise.then((res)=>{\n                        meta = res.meta;\n                        const transformed = (0,_transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__.t)(res.json, runtime);\n                        if (!transformed.ok) {\n                            observer.error(_TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(transformed.error, {\n                                meta\n                            }));\n                            return;\n                        }\n                        observer.next({\n                            context: res.meta,\n                            result: transformed.result\n                        });\n                        observer.complete();\n                    }).catch((cause)=>{\n                        observer.error(_TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(cause, {\n                            meta\n                        }));\n                    });\n                    return ()=>{\n                        cancel();\n                    };\n                });\n    };\n}\n/**\n * @see https://trpc.io/docs/client/links/httpLink\n */ const httpLink = httpLinkFactory({\n    requester: _httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_3__.j\n});\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvbGlua3MvaHR0cExpbmsubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFxRDtBQUNrQjtBQUNBO0FBQ3lCOztBQUVoRztBQUNBO0FBQ0EsNkJBQTZCLDBEQUFzQjtBQUNuRCw2QkFBNkIsS0FBSyxHQUFHLG1FQUFVO0FBQy9DLDRCQUE0Qix1QkFBdUI7QUFDbkQsNEJBQTRCLG9CQUFvQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxnRUFBZTtBQUMzRDtBQUNBLDJDQUEyQyw0REFBZTtBQUMxRDtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EscUJBQXFCO0FBQ3JCLHVDQUF1Qyw0REFBZTtBQUN0RDtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHNEQUFpQjtBQUNoQyxDQUFDOztBQUVvQyIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9jbGllbnQvZGlzdC9saW5rcy9odHRwTGluay5tanM/YzQ1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvYnNlcnZhYmxlIH0gZnJvbSAnQHRycGMvc2VydmVyL29ic2VydmFibGUnO1xuaW1wb3J0IHsgdCBhcyB0cmFuc2Zvcm1SZXN1bHQgfSBmcm9tICcuLi90cmFuc2Zvcm1SZXN1bHQtYWNlODY0YjgubWpzJztcbmltcG9ydCB7IFQgYXMgVFJQQ0NsaWVudEVycm9yIH0gZnJvbSAnLi4vVFJQQ0NsaWVudEVycm9yLTBkZTRkMjMxLm1qcyc7XG5pbXBvcnQgeyByIGFzIHJlc29sdmVIVFRQTGlua09wdGlvbnMsIGogYXMganNvbkh0dHBSZXF1ZXN0ZXIgfSBmcm9tICcuLi9odHRwVXRpbHMtZjU4Y2VkYTEubWpzJztcblxuZnVuY3Rpb24gaHR0cExpbmtGYWN0b3J5KGZhY3RvcnlPcHRzKSB7XG4gICAgcmV0dXJuIChvcHRzKT0+e1xuICAgICAgICBjb25zdCByZXNvbHZlZE9wdHMgPSByZXNvbHZlSFRUUExpbmtPcHRpb25zKG9wdHMpO1xuICAgICAgICByZXR1cm4gKHJ1bnRpbWUpPT4oeyBvcCAgfSk9Pm9ic2VydmFibGUoKG9ic2VydmVyKT0+e1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHBhdGggLCBpbnB1dCAsIHR5cGUgIH0gPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBwcm9taXNlICwgY2FuY2VsICB9ID0gZmFjdG9yeU9wdHMucmVxdWVzdGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlc29sdmVkT3B0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bnRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycyAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRzLmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdHMuaGVhZGVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5oZWFkZXJzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5oZWFkZXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1ldGEgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UudGhlbigocmVzKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YSA9IHJlcy5tZXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtZWQgPSB0cmFuc2Zvcm1SZXN1bHQocmVzLmpzb24sIHJ1bnRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFuc2Zvcm1lZC5vaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKFRSUENDbGllbnRFcnJvci5mcm9tKHRyYW5zZm9ybWVkLmVycm9yLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogcmVzLm1ldGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB0cmFuc2Zvcm1lZC5yZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGNhdXNlKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoVFJQQ0NsaWVudEVycm9yLmZyb20oY2F1c2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgIH07XG59XG4vKipcbiAqIEBzZWUgaHR0cHM6Ly90cnBjLmlvL2RvY3MvY2xpZW50L2xpbmtzL2h0dHBMaW5rXG4gKi8gY29uc3QgaHR0cExpbmsgPSBodHRwTGlua0ZhY3Rvcnkoe1xuICAgIHJlcXVlc3RlcjoganNvbkh0dHBSZXF1ZXN0ZXJcbn0pO1xuXG5leHBvcnQgeyBodHRwTGluaywgaHR0cExpbmtGYWN0b3J5IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/links/httpLink.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/client/dist/links/loggerLink.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/links/loggerLink.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loggerLink: () => (/* binding */ loggerLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(ssr)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n\n\n/// <reference lib=\"dom.iterable\" />\nfunction isFormData(value) {\n    if (typeof FormData === 'undefined') {\n        // FormData is not supported\n        return false;\n    }\n    return value instanceof FormData;\n}\nconst palettes = {\n    css: {\n        query: [\n            '72e3ff',\n            '3fb0d8'\n        ],\n        mutation: [\n            'c5a3fc',\n            '904dfc'\n        ],\n        subscription: [\n            'ff49e1',\n            'd83fbe'\n        ]\n    },\n    ansi: {\n        regular: {\n            // Cyan background, black and white text respectively\n            query: [\n                '\\x1b[30;46m',\n                '\\x1b[97;46m'\n            ],\n            // Magenta background, black and white text respectively\n            mutation: [\n                '\\x1b[30;45m',\n                '\\x1b[97;45m'\n            ],\n            // Green background, black and white text respectively\n            subscription: [\n                '\\x1b[30;42m',\n                '\\x1b[97;42m'\n            ]\n        },\n        bold: {\n            query: [\n                '\\x1b[1;30;46m',\n                '\\x1b[1;97;46m'\n            ],\n            mutation: [\n                '\\x1b[1;30;45m',\n                '\\x1b[1;97;45m'\n            ],\n            subscription: [\n                '\\x1b[1;30;42m',\n                '\\x1b[1;97;42m'\n            ]\n        }\n    }\n};\nfunction constructPartsAndArgs(opts) {\n    const { direction , type , path , id , input  } = opts;\n    const parts = [];\n    const args = [];\n    if (opts.colorMode === 'ansi') {\n        const [lightRegular, darkRegular] = palettes.ansi.regular[type];\n        const [lightBold, darkBold] = palettes.ansi.bold[type];\n        const reset = '\\x1b[0m';\n        parts.push(direction === 'up' ? lightRegular : darkRegular, direction === 'up' ? '>>' : '<<', type, direction === 'up' ? lightBold : darkBold, `#${id}`, path, reset);\n        if (direction === 'up') {\n            args.push({\n                input: opts.input\n            });\n        } else {\n            args.push({\n                input: opts.input,\n                // strip context from result cause it's too noisy in terminal wihtout collapse mode\n                result: 'result' in opts.result ? opts.result.result : opts.result,\n                elapsedMs: opts.elapsedMs\n            });\n        }\n        return {\n            parts,\n            args\n        };\n    }\n    const [light, dark] = palettes.css[type];\n    const css = `\n    background-color: #${direction === 'up' ? light : dark}; \n    color: ${direction === 'up' ? 'black' : 'white'};\n    padding: 2px;\n  `;\n    parts.push('%c', direction === 'up' ? '>>' : '<<', type, `#${id}`, `%c${path}%c`, '%O');\n    args.push(css, `${css}; font-weight: bold;`, `${css}; font-weight: normal;`);\n    if (direction === 'up') {\n        args.push({\n            input,\n            context: opts.context\n        });\n    } else {\n        args.push({\n            input,\n            result: opts.result,\n            elapsedMs: opts.elapsedMs,\n            context: opts.context\n        });\n    }\n    return {\n        parts,\n        args\n    };\n}\n// maybe this should be moved to it's own package\nconst defaultLogger = ({ c =console , colorMode ='css'  })=>(props)=>{\n        const rawInput = props.input;\n        const input = isFormData(rawInput) ? Object.fromEntries(rawInput) : rawInput;\n        const { parts , args  } = constructPartsAndArgs({\n            ...props,\n            colorMode,\n            input\n        });\n        const fn = props.direction === 'down' && props.result && (props.result instanceof Error || 'error' in props.result.result) ? 'error' : 'log';\n        c[fn].apply(null, [\n            parts.join(' ')\n        ].concat(args));\n    };\n/**\n * @see https://trpc.io/docs/client/links/loggerLink\n */ function loggerLink(opts = {}) {\n    const { enabled =()=>true  } = opts;\n    const colorMode = opts.colorMode ?? (typeof window === 'undefined' ? 'ansi' : 'css');\n    const { logger =defaultLogger({\n        c: opts.console,\n        colorMode\n    })  } = opts;\n    return ()=>{\n        return ({ op , next  })=>{\n            return (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n                // ->\n                enabled({\n                    ...op,\n                    direction: 'up'\n                }) && logger({\n                    ...op,\n                    direction: 'up'\n                });\n                const requestStartTime = Date.now();\n                function logResult(result) {\n                    const elapsedMs = Date.now() - requestStartTime;\n                    enabled({\n                        ...op,\n                        direction: 'down',\n                        result\n                    }) && logger({\n                        ...op,\n                        direction: 'down',\n                        elapsedMs,\n                        result\n                    });\n                }\n                return next(op).pipe((0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.tap)({\n                    next (result) {\n                        logResult(result);\n                    },\n                    error (result) {\n                        logResult(result);\n                    }\n                })).subscribe(observer);\n            });\n        };\n    };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvbGlua3MvbG9nZ2VyTGluay5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEQ7O0FBRTFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6Qix5QkFBeUI7QUFDekI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHdCQUF3QixHQUFHO0FBQzNCLHdCQUF3QixHQUFHO0FBQzNCO0FBQ0E7QUFDQSx3QkFBd0IsR0FBRztBQUMzQix3QkFBd0IsR0FBRztBQUMzQjtBQUNBO0FBQ0Esd0JBQXdCLEdBQUc7QUFDM0Isd0JBQXdCLEdBQUc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0NBQXdDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJKQUEySixHQUFHO0FBQzlKO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsaUVBQWlFLEdBQUcsUUFBUSxLQUFLO0FBQ2pGLHNCQUFzQixNQUFNLGtCQUFrQixNQUFNLE1BQU0sb0JBQW9CO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGdDQUFnQztBQUN6RDtBQUNBO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsWUFBWSxxQkFBcUI7QUFDakM7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLEtBQUssS0FBSztBQUNWO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUIsbUJBQW1CLG1FQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxxQ0FBcUMsNERBQUc7QUFDeEM7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvbGlua3MvbG9nZ2VyTGluay5tanM/NGJhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvYnNlcnZhYmxlLCB0YXAgfSBmcm9tICdAdHJwYy9zZXJ2ZXIvb2JzZXJ2YWJsZSc7XG5cbi8vLyA8cmVmZXJlbmNlIGxpYj1cImRvbS5pdGVyYWJsZVwiIC8+XG5mdW5jdGlvbiBpc0Zvcm1EYXRhKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBGb3JtRGF0YSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gRm9ybURhdGEgaXMgbm90IHN1cHBvcnRlZFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEZvcm1EYXRhO1xufVxuY29uc3QgcGFsZXR0ZXMgPSB7XG4gICAgY3NzOiB7XG4gICAgICAgIHF1ZXJ5OiBbXG4gICAgICAgICAgICAnNzJlM2ZmJyxcbiAgICAgICAgICAgICczZmIwZDgnXG4gICAgICAgIF0sXG4gICAgICAgIG11dGF0aW9uOiBbXG4gICAgICAgICAgICAnYzVhM2ZjJyxcbiAgICAgICAgICAgICc5MDRkZmMnXG4gICAgICAgIF0sXG4gICAgICAgIHN1YnNjcmlwdGlvbjogW1xuICAgICAgICAgICAgJ2ZmNDllMScsXG4gICAgICAgICAgICAnZDgzZmJlJ1xuICAgICAgICBdXG4gICAgfSxcbiAgICBhbnNpOiB7XG4gICAgICAgIHJlZ3VsYXI6IHtcbiAgICAgICAgICAgIC8vIEN5YW4gYmFja2dyb3VuZCwgYmxhY2sgYW5kIHdoaXRlIHRleHQgcmVzcGVjdGl2ZWx5XG4gICAgICAgICAgICBxdWVyeTogW1xuICAgICAgICAgICAgICAgICdcXHgxYlszMDs0Nm0nLFxuICAgICAgICAgICAgICAgICdcXHgxYls5Nzs0Nm0nXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgLy8gTWFnZW50YSBiYWNrZ3JvdW5kLCBibGFjayBhbmQgd2hpdGUgdGV4dCByZXNwZWN0aXZlbHlcbiAgICAgICAgICAgIG11dGF0aW9uOiBbXG4gICAgICAgICAgICAgICAgJ1xceDFiWzMwOzQ1bScsXG4gICAgICAgICAgICAgICAgJ1xceDFiWzk3OzQ1bSdcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAvLyBHcmVlbiBiYWNrZ3JvdW5kLCBibGFjayBhbmQgd2hpdGUgdGV4dCByZXNwZWN0aXZlbHlcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogW1xuICAgICAgICAgICAgICAgICdcXHgxYlszMDs0Mm0nLFxuICAgICAgICAgICAgICAgICdcXHgxYls5Nzs0Mm0nXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIGJvbGQ6IHtcbiAgICAgICAgICAgIHF1ZXJ5OiBbXG4gICAgICAgICAgICAgICAgJ1xceDFiWzE7MzA7NDZtJyxcbiAgICAgICAgICAgICAgICAnXFx4MWJbMTs5Nzs0Nm0nXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgbXV0YXRpb246IFtcbiAgICAgICAgICAgICAgICAnXFx4MWJbMTszMDs0NW0nLFxuICAgICAgICAgICAgICAgICdcXHgxYlsxOzk3OzQ1bSdcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBzdWJzY3JpcHRpb246IFtcbiAgICAgICAgICAgICAgICAnXFx4MWJbMTszMDs0Mm0nLFxuICAgICAgICAgICAgICAgICdcXHgxYlsxOzk3OzQybSdcbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIH1cbn07XG5mdW5jdGlvbiBjb25zdHJ1Y3RQYXJ0c0FuZEFyZ3Mob3B0cykge1xuICAgIGNvbnN0IHsgZGlyZWN0aW9uICwgdHlwZSAsIHBhdGggLCBpZCAsIGlucHV0ICB9ID0gb3B0cztcbiAgICBjb25zdCBwYXJ0cyA9IFtdO1xuICAgIGNvbnN0IGFyZ3MgPSBbXTtcbiAgICBpZiAob3B0cy5jb2xvck1vZGUgPT09ICdhbnNpJykge1xuICAgICAgICBjb25zdCBbbGlnaHRSZWd1bGFyLCBkYXJrUmVndWxhcl0gPSBwYWxldHRlcy5hbnNpLnJlZ3VsYXJbdHlwZV07XG4gICAgICAgIGNvbnN0IFtsaWdodEJvbGQsIGRhcmtCb2xkXSA9IHBhbGV0dGVzLmFuc2kuYm9sZFt0eXBlXTtcbiAgICAgICAgY29uc3QgcmVzZXQgPSAnXFx4MWJbMG0nO1xuICAgICAgICBwYXJ0cy5wdXNoKGRpcmVjdGlvbiA9PT0gJ3VwJyA/IGxpZ2h0UmVndWxhciA6IGRhcmtSZWd1bGFyLCBkaXJlY3Rpb24gPT09ICd1cCcgPyAnPj4nIDogJzw8JywgdHlwZSwgZGlyZWN0aW9uID09PSAndXAnID8gbGlnaHRCb2xkIDogZGFya0JvbGQsIGAjJHtpZH1gLCBwYXRoLCByZXNldCk7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICd1cCcpIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaCh7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IG9wdHMuaW5wdXRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJncy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpbnB1dDogb3B0cy5pbnB1dCxcbiAgICAgICAgICAgICAgICAvLyBzdHJpcCBjb250ZXh0IGZyb20gcmVzdWx0IGNhdXNlIGl0J3MgdG9vIG5vaXN5IGluIHRlcm1pbmFsIHdpaHRvdXQgY29sbGFwc2UgbW9kZVxuICAgICAgICAgICAgICAgIHJlc3VsdDogJ3Jlc3VsdCcgaW4gb3B0cy5yZXN1bHQgPyBvcHRzLnJlc3VsdC5yZXN1bHQgOiBvcHRzLnJlc3VsdCxcbiAgICAgICAgICAgICAgICBlbGFwc2VkTXM6IG9wdHMuZWxhcHNlZE1zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGFydHMsXG4gICAgICAgICAgICBhcmdzXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IFtsaWdodCwgZGFya10gPSBwYWxldHRlcy5jc3NbdHlwZV07XG4gICAgY29uc3QgY3NzID0gYFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMke2RpcmVjdGlvbiA9PT0gJ3VwJyA/IGxpZ2h0IDogZGFya307IFxuICAgIGNvbG9yOiAke2RpcmVjdGlvbiA9PT0gJ3VwJyA/ICdibGFjaycgOiAnd2hpdGUnfTtcbiAgICBwYWRkaW5nOiAycHg7XG4gIGA7XG4gICAgcGFydHMucHVzaCgnJWMnLCBkaXJlY3Rpb24gPT09ICd1cCcgPyAnPj4nIDogJzw8JywgdHlwZSwgYCMke2lkfWAsIGAlYyR7cGF0aH0lY2AsICclTycpO1xuICAgIGFyZ3MucHVzaChjc3MsIGAke2Nzc307IGZvbnQtd2VpZ2h0OiBib2xkO2AsIGAke2Nzc307IGZvbnQtd2VpZ2h0OiBub3JtYWw7YCk7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3VwJykge1xuICAgICAgICBhcmdzLnB1c2goe1xuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBjb250ZXh0OiBvcHRzLmNvbnRleHRcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXJncy5wdXNoKHtcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgcmVzdWx0OiBvcHRzLnJlc3VsdCxcbiAgICAgICAgICAgIGVsYXBzZWRNczogb3B0cy5lbGFwc2VkTXMsXG4gICAgICAgICAgICBjb250ZXh0OiBvcHRzLmNvbnRleHRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHBhcnRzLFxuICAgICAgICBhcmdzXG4gICAgfTtcbn1cbi8vIG1heWJlIHRoaXMgc2hvdWxkIGJlIG1vdmVkIHRvIGl0J3Mgb3duIHBhY2thZ2VcbmNvbnN0IGRlZmF1bHRMb2dnZXIgPSAoeyBjID1jb25zb2xlICwgY29sb3JNb2RlID0nY3NzJyAgfSk9Pihwcm9wcyk9PntcbiAgICAgICAgY29uc3QgcmF3SW5wdXQgPSBwcm9wcy5pbnB1dDtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBpc0Zvcm1EYXRhKHJhd0lucHV0KSA/IE9iamVjdC5mcm9tRW50cmllcyhyYXdJbnB1dCkgOiByYXdJbnB1dDtcbiAgICAgICAgY29uc3QgeyBwYXJ0cyAsIGFyZ3MgIH0gPSBjb25zdHJ1Y3RQYXJ0c0FuZEFyZ3Moe1xuICAgICAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgICAgICBjb2xvck1vZGUsXG4gICAgICAgICAgICBpbnB1dFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZm4gPSBwcm9wcy5kaXJlY3Rpb24gPT09ICdkb3duJyAmJiBwcm9wcy5yZXN1bHQgJiYgKHByb3BzLnJlc3VsdCBpbnN0YW5jZW9mIEVycm9yIHx8ICdlcnJvcicgaW4gcHJvcHMucmVzdWx0LnJlc3VsdCkgPyAnZXJyb3InIDogJ2xvZyc7XG4gICAgICAgIGNbZm5dLmFwcGx5KG51bGwsIFtcbiAgICAgICAgICAgIHBhcnRzLmpvaW4oJyAnKVxuICAgICAgICBdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbi8qKlxuICogQHNlZSBodHRwczovL3RycGMuaW8vZG9jcy9jbGllbnQvbGlua3MvbG9nZ2VyTGlua1xuICovIGZ1bmN0aW9uIGxvZ2dlckxpbmsob3B0cyA9IHt9KSB7XG4gICAgY29uc3QgeyBlbmFibGVkID0oKT0+dHJ1ZSAgfSA9IG9wdHM7XG4gICAgY29uc3QgY29sb3JNb2RlID0gb3B0cy5jb2xvck1vZGUgPz8gKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnID8gJ2Fuc2knIDogJ2NzcycpO1xuICAgIGNvbnN0IHsgbG9nZ2VyID1kZWZhdWx0TG9nZ2VyKHtcbiAgICAgICAgYzogb3B0cy5jb25zb2xlLFxuICAgICAgICBjb2xvck1vZGVcbiAgICB9KSAgfSA9IG9wdHM7XG4gICAgcmV0dXJuICgpPT57XG4gICAgICAgIHJldHVybiAoeyBvcCAsIG5leHQgIH0pPT57XG4gICAgICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZSgob2JzZXJ2ZXIpPT57XG4gICAgICAgICAgICAgICAgLy8gLT5cbiAgICAgICAgICAgICAgICBlbmFibGVkKHtcbiAgICAgICAgICAgICAgICAgICAgLi4ub3AsXG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogJ3VwJ1xuICAgICAgICAgICAgICAgIH0pICYmIGxvZ2dlcih7XG4gICAgICAgICAgICAgICAgICAgIC4uLm9wLFxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246ICd1cCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBsb2dSZXN1bHQocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsYXBzZWRNcyA9IERhdGUubm93KCkgLSByZXF1ZXN0U3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiAnZG93bicsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgfSkgJiYgbG9nZ2VyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiAnZG93bicsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGFwc2VkTXMsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KG9wKS5waXBlKHRhcCh7XG4gICAgICAgICAgICAgICAgICAgIG5leHQgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nUmVzdWx0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ1Jlc3VsdChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpLnN1YnNjcmliZShvYnNlcnZlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG5leHBvcnQgeyBsb2dnZXJMaW5rIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/links/loggerLink.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/client/dist/links/wsLink.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@trpc/client/dist/links/wsLink.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createWSClient: () => (/* binding */ createWSClient),\n/* harmony export */   wsLink: () => (/* binding */ wsLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(ssr)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n/* harmony import */ var _transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../transformResult-ace864b8.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\");\n/* harmony import */ var _TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../TRPCClientError-0de4d231.mjs */ \"(ssr)/./node_modules/@trpc/client/dist/TRPCClientError-0de4d231.mjs\");\n\n\n\n\n/* istanbul ignore next -- @preserve */ const retryDelay = (attemptIndex)=>attemptIndex === 0 ? 0 : Math.min(1000 * 2 ** attemptIndex, 30000);\n\nfunction createWSClient(opts) {\n    const { url , WebSocket: WebSocketImpl = WebSocket , retryDelayMs: retryDelayFn = retryDelay , onOpen , onClose ,  } = opts;\n    /* istanbul ignore next -- @preserve */ if (!WebSocketImpl) {\n        throw new Error(\"No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill\");\n    }\n    /**\n   * outgoing messages buffer whilst not open\n   */ let outgoing = [];\n    const pendingRequests = Object.create(null);\n    let connectAttempt = 0;\n    let dispatchTimer = null;\n    let connectTimer = null;\n    let activeConnection = createWS();\n    let state = 'connecting';\n    /**\n   * tries to send the list of messages\n   */ function dispatch() {\n        if (state !== 'open' || dispatchTimer) {\n            return;\n        }\n        dispatchTimer = setTimeout(()=>{\n            dispatchTimer = null;\n            if (outgoing.length === 1) {\n                // single send\n                activeConnection.send(JSON.stringify(outgoing.pop()));\n            } else {\n                // batch send\n                activeConnection.send(JSON.stringify(outgoing));\n            }\n            // clear\n            outgoing = [];\n        });\n    }\n    function tryReconnect() {\n        if (connectTimer !== null || state === 'closed') {\n            return;\n        }\n        const timeout = retryDelayFn(connectAttempt++);\n        reconnectInMs(timeout);\n    }\n    function reconnect() {\n        state = 'connecting';\n        const oldConnection = activeConnection;\n        activeConnection = createWS();\n        closeIfNoPending(oldConnection);\n    }\n    function reconnectInMs(ms) {\n        if (connectTimer) {\n            return;\n        }\n        state = 'connecting';\n        connectTimer = setTimeout(reconnect, ms);\n    }\n    function closeIfNoPending(conn) {\n        // disconnect as soon as there are are no pending result\n        const hasPendingRequests = Object.values(pendingRequests).some((p)=>p.ws === conn);\n        if (!hasPendingRequests) {\n            conn.close();\n        }\n    }\n    function closeActiveSubscriptions() {\n        Object.values(pendingRequests).forEach((req)=>{\n            if (req.type === 'subscription') {\n                req.callbacks.complete();\n            }\n        });\n    }\n    function resumeSubscriptionOnReconnect(req) {\n        if (outgoing.some((r)=>r.id === req.op.id)) {\n            return;\n        }\n        request(req.op, req.callbacks);\n    }\n    function createWS() {\n        const urlString = typeof url === 'function' ? url() : url;\n        const conn = new WebSocketImpl(urlString);\n        clearTimeout(connectTimer);\n        connectTimer = null;\n        conn.addEventListener('open', ()=>{\n            /* istanbul ignore next -- @preserve */ if (conn !== activeConnection) {\n                return;\n            }\n            connectAttempt = 0;\n            state = 'open';\n            onOpen?.();\n            dispatch();\n        });\n        conn.addEventListener('error', ()=>{\n            if (conn === activeConnection) {\n                tryReconnect();\n            }\n        });\n        const handleIncomingRequest = (req)=>{\n            if (req.method === 'reconnect' && conn === activeConnection) {\n                if (state === 'open') {\n                    onClose?.();\n                }\n                reconnect();\n                // notify subscribers\n                for (const pendingReq of Object.values(pendingRequests)){\n                    if (pendingReq.type === 'subscription') {\n                        resumeSubscriptionOnReconnect(pendingReq);\n                    }\n                }\n            }\n        };\n        const handleIncomingResponse = (data)=>{\n            const req = data.id !== null && pendingRequests[data.id];\n            if (!req) {\n                // do something?\n                return;\n            }\n            req.callbacks.next?.(data);\n            if (req.ws !== activeConnection && conn === activeConnection) {\n                const oldWs = req.ws;\n                // gracefully replace old connection with this\n                req.ws = activeConnection;\n                closeIfNoPending(oldWs);\n            }\n            if ('result' in data && data.result.type === 'stopped' && conn === activeConnection) {\n                req.callbacks.complete();\n            }\n        };\n        conn.addEventListener('message', ({ data  })=>{\n            const msg = JSON.parse(data);\n            if ('method' in msg) {\n                handleIncomingRequest(msg);\n            } else {\n                handleIncomingResponse(msg);\n            }\n            if (conn !== activeConnection || state === 'closed') {\n                // when receiving a message, we close old connection that has no pending requests\n                closeIfNoPending(conn);\n            }\n        });\n        conn.addEventListener('close', ({ code  })=>{\n            if (state === 'open') {\n                onClose?.({\n                    code\n                });\n            }\n            if (activeConnection === conn) {\n                // connection might have been replaced already\n                tryReconnect();\n            }\n            for (const [key, req] of Object.entries(pendingRequests)){\n                if (req.ws !== conn) {\n                    continue;\n                }\n                if (state === 'closed') {\n                    // If the connection was closed, we just call `complete()` on the request\n                    delete pendingRequests[key];\n                    req.callbacks.complete?.();\n                    continue;\n                }\n                // The connection was closed either unexpectedly or because of a reconnect\n                if (req.type === 'subscription') {\n                    // Subscriptions will resume after we've reconnected\n                    resumeSubscriptionOnReconnect(req);\n                } else {\n                    // Queries and mutations will error if interrupted\n                    delete pendingRequests[key];\n                    req.callbacks.error?.(_TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(new TRPCWebSocketClosedError('WebSocket closed prematurely')));\n                }\n            }\n        });\n        return conn;\n    }\n    function request(op, callbacks) {\n        const { type , input , path , id  } = op;\n        const envelope = {\n            id,\n            method: type,\n            params: {\n                input,\n                path\n            }\n        };\n        pendingRequests[id] = {\n            ws: activeConnection,\n            type,\n            callbacks,\n            op\n        };\n        // enqueue message\n        outgoing.push(envelope);\n        dispatch();\n        return ()=>{\n            const callbacks = pendingRequests[id]?.callbacks;\n            delete pendingRequests[id];\n            outgoing = outgoing.filter((msg)=>msg.id !== id);\n            callbacks?.complete?.();\n            if (activeConnection.readyState === WebSocketImpl.OPEN && op.type === 'subscription') {\n                outgoing.push({\n                    id,\n                    method: 'subscription.stop'\n                });\n                dispatch();\n            }\n        };\n    }\n    return {\n        close: ()=>{\n            state = 'closed';\n            onClose?.();\n            closeActiveSubscriptions();\n            closeIfNoPending(activeConnection);\n            clearTimeout(connectTimer);\n            connectTimer = null;\n        },\n        request,\n        getConnection () {\n            return activeConnection;\n        }\n    };\n}\nclass TRPCWebSocketClosedError extends Error {\n    constructor(message){\n        super(message);\n        this.name = 'TRPCWebSocketClosedError';\n        Object.setPrototypeOf(this, TRPCWebSocketClosedError.prototype);\n    }\n}\n/**\n * @see https://trpc.io/docs/client/links/wsLink\n */ function wsLink(opts) {\n    return (runtime)=>{\n        const { client  } = opts;\n        return ({ op  })=>{\n            return (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n                const { type , path , id , context  } = op;\n                const input = runtime.transformer.serialize(op.input);\n                const unsub = client.request({\n                    type,\n                    path,\n                    input,\n                    id,\n                    context\n                }, {\n                    error (err) {\n                        observer.error(err);\n                        unsub();\n                    },\n                    complete () {\n                        observer.complete();\n                    },\n                    next (message) {\n                        const transformed = (0,_transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__.t)(message, runtime);\n                        if (!transformed.ok) {\n                            observer.error(_TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(transformed.error));\n                            return;\n                        }\n                        observer.next({\n                            result: transformed.result\n                        });\n                        if (op.type !== 'subscription') {\n                            // if it isn't a subscription we don't care about next response\n                            unsub();\n                            observer.complete();\n                        }\n                    }\n                });\n                return ()=>{\n                    unsub();\n                };\n            });\n        };\n    };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvbGlua3Mvd3NMaW5rLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxRDtBQUNrQjtBQUNBOztBQUV2RTs7QUFFQTtBQUNBLFlBQVksNkdBQTZHO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxPQUFPO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsMENBQTBDLE9BQU87QUFDakQ7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSwwQ0FBMEMsNERBQWU7QUFDekQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNEJBQTRCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsVUFBVTtBQUMxQixrQkFBa0IsS0FBSztBQUN2QixtQkFBbUIsbUVBQVU7QUFDN0Isd0JBQXdCLDhCQUE4QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLDRDQUE0QyxnRUFBZTtBQUMzRDtBQUNBLDJDQUEyQyw0REFBZTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvbGlua3Mvd3NMaW5rLm1qcz8zOGE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9ic2VydmFibGUgfSBmcm9tICdAdHJwYy9zZXJ2ZXIvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyB0IGFzIHRyYW5zZm9ybVJlc3VsdCB9IGZyb20gJy4uL3RyYW5zZm9ybVJlc3VsdC1hY2U4NjRiOC5tanMnO1xuaW1wb3J0IHsgVCBhcyBUUlBDQ2xpZW50RXJyb3IgfSBmcm9tICcuLi9UUlBDQ2xpZW50RXJyb3ItMGRlNGQyMzEubWpzJztcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgLS0gQHByZXNlcnZlICovIGNvbnN0IHJldHJ5RGVsYXkgPSAoYXR0ZW1wdEluZGV4KT0+YXR0ZW1wdEluZGV4ID09PSAwID8gMCA6IE1hdGgubWluKDEwMDAgKiAyICoqIGF0dGVtcHRJbmRleCwgMzAwMDApO1xuXG5mdW5jdGlvbiBjcmVhdGVXU0NsaWVudChvcHRzKSB7XG4gICAgY29uc3QgeyB1cmwgLCBXZWJTb2NrZXQ6IFdlYlNvY2tldEltcGwgPSBXZWJTb2NrZXQgLCByZXRyeURlbGF5TXM6IHJldHJ5RGVsYXlGbiA9IHJldHJ5RGVsYXkgLCBvbk9wZW4gLCBvbkNsb3NlICwgIH0gPSBvcHRzO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0tIEBwcmVzZXJ2ZSAqLyBpZiAoIVdlYlNvY2tldEltcGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gV2ViU29ja2V0IGltcGxlbWVudGF0aW9uIGZvdW5kIC0geW91IHByb2JhYmx5IGRvbid0IHdhbnQgdG8gdXNlIHRoaXMgb24gdGhlIHNlcnZlciwgYnV0IGlmIHlvdSBkbyB5b3UgbmVlZCB0byBwYXNzIGEgYFdlYlNvY2tldGAtcG9ueWZpbGxcIik7XG4gICAgfVxuICAgIC8qKlxuICAgKiBvdXRnb2luZyBtZXNzYWdlcyBidWZmZXIgd2hpbHN0IG5vdCBvcGVuXG4gICAqLyBsZXQgb3V0Z29pbmcgPSBbXTtcbiAgICBjb25zdCBwZW5kaW5nUmVxdWVzdHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGxldCBjb25uZWN0QXR0ZW1wdCA9IDA7XG4gICAgbGV0IGRpc3BhdGNoVGltZXIgPSBudWxsO1xuICAgIGxldCBjb25uZWN0VGltZXIgPSBudWxsO1xuICAgIGxldCBhY3RpdmVDb25uZWN0aW9uID0gY3JlYXRlV1MoKTtcbiAgICBsZXQgc3RhdGUgPSAnY29ubmVjdGluZyc7XG4gICAgLyoqXG4gICAqIHRyaWVzIHRvIHNlbmQgdGhlIGxpc3Qgb2YgbWVzc2FnZXNcbiAgICovIGZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICAgICAgICBpZiAoc3RhdGUgIT09ICdvcGVuJyB8fCBkaXNwYXRjaFRpbWVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGlzcGF0Y2hUaW1lciA9IHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgIGRpc3BhdGNoVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKG91dGdvaW5nLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIHNpbmdsZSBzZW5kXG4gICAgICAgICAgICAgICAgYWN0aXZlQ29ubmVjdGlvbi5zZW5kKEpTT04uc3RyaW5naWZ5KG91dGdvaW5nLnBvcCgpKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGJhdGNoIHNlbmRcbiAgICAgICAgICAgICAgICBhY3RpdmVDb25uZWN0aW9uLnNlbmQoSlNPTi5zdHJpbmdpZnkob3V0Z29pbmcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNsZWFyXG4gICAgICAgICAgICBvdXRnb2luZyA9IFtdO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJ5UmVjb25uZWN0KCkge1xuICAgICAgICBpZiAoY29ubmVjdFRpbWVyICE9PSBudWxsIHx8IHN0YXRlID09PSAnY2xvc2VkJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSByZXRyeURlbGF5Rm4oY29ubmVjdEF0dGVtcHQrKyk7XG4gICAgICAgIHJlY29ubmVjdEluTXModGltZW91dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY29ubmVjdCgpIHtcbiAgICAgICAgc3RhdGUgPSAnY29ubmVjdGluZyc7XG4gICAgICAgIGNvbnN0IG9sZENvbm5lY3Rpb24gPSBhY3RpdmVDb25uZWN0aW9uO1xuICAgICAgICBhY3RpdmVDb25uZWN0aW9uID0gY3JlYXRlV1MoKTtcbiAgICAgICAgY2xvc2VJZk5vUGVuZGluZyhvbGRDb25uZWN0aW9uKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjb25uZWN0SW5Ncyhtcykge1xuICAgICAgICBpZiAoY29ubmVjdFRpbWVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUgPSAnY29ubmVjdGluZyc7XG4gICAgICAgIGNvbm5lY3RUaW1lciA9IHNldFRpbWVvdXQocmVjb25uZWN0LCBtcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlSWZOb1BlbmRpbmcoY29ubikge1xuICAgICAgICAvLyBkaXNjb25uZWN0IGFzIHNvb24gYXMgdGhlcmUgYXJlIGFyZSBubyBwZW5kaW5nIHJlc3VsdFxuICAgICAgICBjb25zdCBoYXNQZW5kaW5nUmVxdWVzdHMgPSBPYmplY3QudmFsdWVzKHBlbmRpbmdSZXF1ZXN0cykuc29tZSgocCk9PnAud3MgPT09IGNvbm4pO1xuICAgICAgICBpZiAoIWhhc1BlbmRpbmdSZXF1ZXN0cykge1xuICAgICAgICAgICAgY29ubi5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb3NlQWN0aXZlU3Vic2NyaXB0aW9ucygpIHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhwZW5kaW5nUmVxdWVzdHMpLmZvckVhY2goKHJlcSk9PntcbiAgICAgICAgICAgIGlmIChyZXEudHlwZSA9PT0gJ3N1YnNjcmlwdGlvbicpIHtcbiAgICAgICAgICAgICAgICByZXEuY2FsbGJhY2tzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXN1bWVTdWJzY3JpcHRpb25PblJlY29ubmVjdChyZXEpIHtcbiAgICAgICAgaWYgKG91dGdvaW5nLnNvbWUoKHIpPT5yLmlkID09PSByZXEub3AuaWQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVxdWVzdChyZXEub3AsIHJlcS5jYWxsYmFja3MpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVXUygpIHtcbiAgICAgICAgY29uc3QgdXJsU3RyaW5nID0gdHlwZW9mIHVybCA9PT0gJ2Z1bmN0aW9uJyA/IHVybCgpIDogdXJsO1xuICAgICAgICBjb25zdCBjb25uID0gbmV3IFdlYlNvY2tldEltcGwodXJsU3RyaW5nKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3RUaW1lcik7XG4gICAgICAgIGNvbm5lY3RUaW1lciA9IG51bGw7XG4gICAgICAgIGNvbm4uYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsICgpPT57XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtLSBAcHJlc2VydmUgKi8gaWYgKGNvbm4gIT09IGFjdGl2ZUNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25uZWN0QXR0ZW1wdCA9IDA7XG4gICAgICAgICAgICBzdGF0ZSA9ICdvcGVuJztcbiAgICAgICAgICAgIG9uT3Blbj8uKCk7XG4gICAgICAgICAgICBkaXNwYXRjaCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29ubi5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICgpPT57XG4gICAgICAgICAgICBpZiAoY29ubiA9PT0gYWN0aXZlQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgIHRyeVJlY29ubmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaGFuZGxlSW5jb21pbmdSZXF1ZXN0ID0gKHJlcSk9PntcbiAgICAgICAgICAgIGlmIChyZXEubWV0aG9kID09PSAncmVjb25uZWN0JyAmJiBjb25uID09PSBhY3RpdmVDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT8uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIC8vIG5vdGlmeSBzdWJzY3JpYmVyc1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGVuZGluZ1JlcSBvZiBPYmplY3QudmFsdWVzKHBlbmRpbmdSZXF1ZXN0cykpe1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ1JlcS50eXBlID09PSAnc3Vic2NyaXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdW1lU3Vic2NyaXB0aW9uT25SZWNvbm5lY3QocGVuZGluZ1JlcSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZUluY29taW5nUmVzcG9uc2UgPSAoZGF0YSk9PntcbiAgICAgICAgICAgIGNvbnN0IHJlcSA9IGRhdGEuaWQgIT09IG51bGwgJiYgcGVuZGluZ1JlcXVlc3RzW2RhdGEuaWRdO1xuICAgICAgICAgICAgaWYgKCFyZXEpIHtcbiAgICAgICAgICAgICAgICAvLyBkbyBzb21ldGhpbmc/XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVxLmNhbGxiYWNrcy5uZXh0Py4oZGF0YSk7XG4gICAgICAgICAgICBpZiAocmVxLndzICE9PSBhY3RpdmVDb25uZWN0aW9uICYmIGNvbm4gPT09IGFjdGl2ZUNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRXcyA9IHJlcS53cztcbiAgICAgICAgICAgICAgICAvLyBncmFjZWZ1bGx5IHJlcGxhY2Ugb2xkIGNvbm5lY3Rpb24gd2l0aCB0aGlzXG4gICAgICAgICAgICAgICAgcmVxLndzID0gYWN0aXZlQ29ubmVjdGlvbjtcbiAgICAgICAgICAgICAgICBjbG9zZUlmTm9QZW5kaW5nKG9sZFdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgncmVzdWx0JyBpbiBkYXRhICYmIGRhdGEucmVzdWx0LnR5cGUgPT09ICdzdG9wcGVkJyAmJiBjb25uID09PSBhY3RpdmVDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmVxLmNhbGxiYWNrcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25uLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoeyBkYXRhICB9KT0+e1xuICAgICAgICAgICAgY29uc3QgbXNnID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgIGlmICgnbWV0aG9kJyBpbiBtc2cpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVJbmNvbWluZ1JlcXVlc3QobXNnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlSW5jb21pbmdSZXNwb25zZShtc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbm4gIT09IGFjdGl2ZUNvbm5lY3Rpb24gfHwgc3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgICAgICAgICAgICAgLy8gd2hlbiByZWNlaXZpbmcgYSBtZXNzYWdlLCB3ZSBjbG9zZSBvbGQgY29ubmVjdGlvbiB0aGF0IGhhcyBubyBwZW5kaW5nIHJlcXVlc3RzXG4gICAgICAgICAgICAgICAgY2xvc2VJZk5vUGVuZGluZyhjb25uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbm4uYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCAoeyBjb2RlICB9KT0+e1xuICAgICAgICAgICAgaWYgKHN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgICAgICAgICAgICBvbkNsb3NlPy4oe1xuICAgICAgICAgICAgICAgICAgICBjb2RlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWN0aXZlQ29ubmVjdGlvbiA9PT0gY29ubikge1xuICAgICAgICAgICAgICAgIC8vIGNvbm5lY3Rpb24gbWlnaHQgaGF2ZSBiZWVuIHJlcGxhY2VkIGFscmVhZHlcbiAgICAgICAgICAgICAgICB0cnlSZWNvbm5lY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgcmVxXSBvZiBPYmplY3QuZW50cmllcyhwZW5kaW5nUmVxdWVzdHMpKXtcbiAgICAgICAgICAgICAgICBpZiAocmVxLndzICE9PSBjb25uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjb25uZWN0aW9uIHdhcyBjbG9zZWQsIHdlIGp1c3QgY2FsbCBgY29tcGxldGUoKWAgb24gdGhlIHJlcXVlc3RcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHBlbmRpbmdSZXF1ZXN0c1trZXldO1xuICAgICAgICAgICAgICAgICAgICByZXEuY2FsbGJhY2tzLmNvbXBsZXRlPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRoZSBjb25uZWN0aW9uIHdhcyBjbG9zZWQgZWl0aGVyIHVuZXhwZWN0ZWRseSBvciBiZWNhdXNlIG9mIGEgcmVjb25uZWN0XG4gICAgICAgICAgICAgICAgaWYgKHJlcS50eXBlID09PSAnc3Vic2NyaXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdWJzY3JpcHRpb25zIHdpbGwgcmVzdW1lIGFmdGVyIHdlJ3ZlIHJlY29ubmVjdGVkXG4gICAgICAgICAgICAgICAgICAgIHJlc3VtZVN1YnNjcmlwdGlvbk9uUmVjb25uZWN0KHJlcSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUXVlcmllcyBhbmQgbXV0YXRpb25zIHdpbGwgZXJyb3IgaWYgaW50ZXJydXB0ZWRcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHBlbmRpbmdSZXF1ZXN0c1trZXldO1xuICAgICAgICAgICAgICAgICAgICByZXEuY2FsbGJhY2tzLmVycm9yPy4oVFJQQ0NsaWVudEVycm9yLmZyb20obmV3IFRSUENXZWJTb2NrZXRDbG9zZWRFcnJvcignV2ViU29ja2V0IGNsb3NlZCBwcmVtYXR1cmVseScpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvbm47XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcXVlc3Qob3AsIGNhbGxiYWNrcykge1xuICAgICAgICBjb25zdCB7IHR5cGUgLCBpbnB1dCAsIHBhdGggLCBpZCAgfSA9IG9wO1xuICAgICAgICBjb25zdCBlbnZlbG9wZSA9IHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgbWV0aG9kOiB0eXBlLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgcGF0aFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBwZW5kaW5nUmVxdWVzdHNbaWRdID0ge1xuICAgICAgICAgICAgd3M6IGFjdGl2ZUNvbm5lY3Rpb24sXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgY2FsbGJhY2tzLFxuICAgICAgICAgICAgb3BcbiAgICAgICAgfTtcbiAgICAgICAgLy8gZW5xdWV1ZSBtZXNzYWdlXG4gICAgICAgIG91dGdvaW5nLnB1c2goZW52ZWxvcGUpO1xuICAgICAgICBkaXNwYXRjaCgpO1xuICAgICAgICByZXR1cm4gKCk9PntcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IHBlbmRpbmdSZXF1ZXN0c1tpZF0/LmNhbGxiYWNrcztcbiAgICAgICAgICAgIGRlbGV0ZSBwZW5kaW5nUmVxdWVzdHNbaWRdO1xuICAgICAgICAgICAgb3V0Z29pbmcgPSBvdXRnb2luZy5maWx0ZXIoKG1zZyk9Pm1zZy5pZCAhPT0gaWQpO1xuICAgICAgICAgICAgY2FsbGJhY2tzPy5jb21wbGV0ZT8uKCk7XG4gICAgICAgICAgICBpZiAoYWN0aXZlQ29ubmVjdGlvbi5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXRJbXBsLk9QRU4gJiYgb3AudHlwZSA9PT0gJ3N1YnNjcmlwdGlvbicpIHtcbiAgICAgICAgICAgICAgICBvdXRnb2luZy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3N1YnNjcmlwdGlvbi5zdG9wJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGNsb3NlOiAoKT0+e1xuICAgICAgICAgICAgc3RhdGUgPSAnY2xvc2VkJztcbiAgICAgICAgICAgIG9uQ2xvc2U/LigpO1xuICAgICAgICAgICAgY2xvc2VBY3RpdmVTdWJzY3JpcHRpb25zKCk7XG4gICAgICAgICAgICBjbG9zZUlmTm9QZW5kaW5nKGFjdGl2ZUNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3RUaW1lcik7XG4gICAgICAgICAgICBjb25uZWN0VGltZXIgPSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBnZXRDb25uZWN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVDb25uZWN0aW9uO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmNsYXNzIFRSUENXZWJTb2NrZXRDbG9zZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKXtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdUUlBDV2ViU29ja2V0Q2xvc2VkRXJyb3InO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVFJQQ1dlYlNvY2tldENsb3NlZEVycm9yLnByb3RvdHlwZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAc2VlIGh0dHBzOi8vdHJwYy5pby9kb2NzL2NsaWVudC9saW5rcy93c0xpbmtcbiAqLyBmdW5jdGlvbiB3c0xpbmsob3B0cykge1xuICAgIHJldHVybiAocnVudGltZSk9PntcbiAgICAgICAgY29uc3QgeyBjbGllbnQgIH0gPSBvcHRzO1xuICAgICAgICByZXR1cm4gKHsgb3AgIH0pPT57XG4gICAgICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZSgob2JzZXJ2ZXIpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0eXBlICwgcGF0aCAsIGlkICwgY29udGV4dCAgfSA9IG9wO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gcnVudGltZS50cmFuc2Zvcm1lci5zZXJpYWxpemUob3AuaW5wdXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuc3ViID0gY2xpZW50LnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bnN1YigpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBuZXh0IChtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZCA9IHRyYW5zZm9ybVJlc3VsdChtZXNzYWdlLCBydW50aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdHJhbnNmb3JtZWQub2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihUUlBDQ2xpZW50RXJyb3IuZnJvbSh0cmFuc2Zvcm1lZC5lcnJvcikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogdHJhbnNmb3JtZWQucmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcC50eXBlICE9PSAnc3Vic2NyaXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0IGlzbid0IGEgc3Vic2NyaXB0aW9uIHdlIGRvbid0IGNhcmUgYWJvdXQgbmV4dCByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc3ViKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgICAgICAgICB1bnN1YigpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG5leHBvcnQgeyBjcmVhdGVXU0NsaWVudCwgd3NMaW5rIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/links/wsLink.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/client/dist/splitLink-4c75f7be.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/splitLink-4c75f7be.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   c: () => (/* binding */ createChain),\n/* harmony export */   s: () => (/* binding */ splitLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(ssr)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n\n\n/** @internal */ function createChain(opts) {\n    return (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n        function execute(index = 0, op = opts.op) {\n            const next = opts.links[index];\n            if (!next) {\n                throw new Error('No more links to execute - did you forget to add an ending link?');\n            }\n            const subscription = next({\n                op,\n                next (nextOp) {\n                    const nextObserver = execute(index + 1, nextOp);\n                    return nextObserver;\n                }\n            });\n            return subscription;\n        }\n        const obs$ = execute();\n        return obs$.subscribe(observer);\n    });\n}\n\nfunction asArray(value) {\n    return Array.isArray(value) ? value : [\n        value\n    ];\n}\nfunction splitLink(opts) {\n    return (runtime)=>{\n        const yes = asArray(opts.true).map((link)=>link(runtime));\n        const no = asArray(opts.false).map((link)=>link(runtime));\n        return (props)=>{\n            return (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n                const links = opts.condition(props.op) ? yes : no;\n                return createChain({\n                    op: props.op,\n                    links\n                }).subscribe(observer);\n            });\n        };\n    };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3Qvc3BsaXRMaW5rLTRjNzVmN2JlLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUQ7O0FBRXJEO0FBQ0EsV0FBVyxtRUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1FQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdDMtYXBwLy4vbm9kZV9tb2R1bGVzL0B0cnBjL2NsaWVudC9kaXN0L3NwbGl0TGluay00Yzc1ZjdiZS5tanM/NzUxMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvYnNlcnZhYmxlIH0gZnJvbSAnQHRycGMvc2VydmVyL29ic2VydmFibGUnO1xuXG4vKiogQGludGVybmFsICovIGZ1bmN0aW9uIGNyZWF0ZUNoYWluKG9wdHMpIHtcbiAgICByZXR1cm4gb2JzZXJ2YWJsZSgob2JzZXJ2ZXIpPT57XG4gICAgICAgIGZ1bmN0aW9uIGV4ZWN1dGUoaW5kZXggPSAwLCBvcCA9IG9wdHMub3ApIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBvcHRzLmxpbmtzW2luZGV4XTtcbiAgICAgICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gbW9yZSBsaW5rcyB0byBleGVjdXRlIC0gZGlkIHlvdSBmb3JnZXQgdG8gYWRkIGFuIGVuZGluZyBsaW5rPycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gbmV4dCh7XG4gICAgICAgICAgICAgICAgb3AsXG4gICAgICAgICAgICAgICAgbmV4dCAobmV4dE9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRPYnNlcnZlciA9IGV4ZWN1dGUoaW5kZXggKyAxLCBuZXh0T3ApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dE9ic2VydmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvYnMkID0gZXhlY3V0ZSgpO1xuICAgICAgICByZXR1cm4gb2JzJC5zdWJzY3JpYmUob2JzZXJ2ZXIpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXG4gICAgICAgIHZhbHVlXG4gICAgXTtcbn1cbmZ1bmN0aW9uIHNwbGl0TGluayhvcHRzKSB7XG4gICAgcmV0dXJuIChydW50aW1lKT0+e1xuICAgICAgICBjb25zdCB5ZXMgPSBhc0FycmF5KG9wdHMudHJ1ZSkubWFwKChsaW5rKT0+bGluayhydW50aW1lKSk7XG4gICAgICAgIGNvbnN0IG5vID0gYXNBcnJheShvcHRzLmZhbHNlKS5tYXAoKGxpbmspPT5saW5rKHJ1bnRpbWUpKTtcbiAgICAgICAgcmV0dXJuIChwcm9wcyk9PntcbiAgICAgICAgICAgIHJldHVybiBvYnNlcnZhYmxlKChvYnNlcnZlcik9PntcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rcyA9IG9wdHMuY29uZGl0aW9uKHByb3BzLm9wKSA/IHllcyA6IG5vO1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDaGFpbih7XG4gICAgICAgICAgICAgICAgICAgIG9wOiBwcm9wcy5vcCxcbiAgICAgICAgICAgICAgICAgICAgbGlua3NcbiAgICAgICAgICAgICAgICB9KS5zdWJzY3JpYmUob2JzZXJ2ZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlQ2hhaW4gYXMgYywgc3BsaXRMaW5rIGFzIHMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/splitLink-4c75f7be.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   i: () => (/* binding */ isObject),\n/* harmony export */   t: () => (/* binding */ transformResult)\n/* harmony export */ });\nfunction isObject(value) {\n    // check that value is object\n    return !!value && !Array.isArray(value) && typeof value === 'object';\n}\n\n// FIXME:\n// - the generics here are probably unnecessary\n// - the RPC-spec could probably be simplified to combine HTTP + WS\n/** @internal */ function transformResultInner(response, runtime) {\n    if ('error' in response) {\n        const error = runtime.transformer.deserialize(response.error);\n        return {\n            ok: false,\n            error: {\n                ...response,\n                error\n            }\n        };\n    }\n    const result = {\n        ...response.result,\n        ...(!response.result.type || response.result.type === 'data') && {\n            type: 'data',\n            data: runtime.transformer.deserialize(response.result.data)\n        }\n    };\n    return {\n        ok: true,\n        result\n    };\n}\nclass TransformResultError extends Error {\n    constructor(){\n        super('Unable to transform response from server');\n    }\n}\n/**\n * Transforms and validates that the result is a valid TRPCResponse\n * @internal\n */ function transformResult(response, runtime) {\n    let result;\n    try {\n        // Use the data transformers on the JSON-response\n        result = transformResultInner(response, runtime);\n    } catch (err) {\n        throw new TransformResultError();\n    }\n    // check that output of the transformers is a valid TRPCResponse\n    if (!result.ok && (!isObject(result.error.error) || typeof result.error.error.code !== 'number')) {\n        throw new TransformResultError();\n    }\n    if (result.ok && !isObject(result.result)) {\n        throw new TransformResultError();\n    }\n    return result;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvdHJhbnNmb3JtUmVzdWx0LWFjZTg2NGI4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUrQyIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9jbGllbnQvZGlzdC90cmFuc2Zvcm1SZXN1bHQtYWNlODY0YjgubWpzPzhhZWIiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAvLyBjaGVjayB0aGF0IHZhbHVlIGlzIG9iamVjdFxuICAgIHJldHVybiAhIXZhbHVlICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnO1xufVxuXG4vLyBGSVhNRTpcbi8vIC0gdGhlIGdlbmVyaWNzIGhlcmUgYXJlIHByb2JhYmx5IHVubmVjZXNzYXJ5XG4vLyAtIHRoZSBSUEMtc3BlYyBjb3VsZCBwcm9iYWJseSBiZSBzaW1wbGlmaWVkIHRvIGNvbWJpbmUgSFRUUCArIFdTXG4vKiogQGludGVybmFsICovIGZ1bmN0aW9uIHRyYW5zZm9ybVJlc3VsdElubmVyKHJlc3BvbnNlLCBydW50aW1lKSB7XG4gICAgaWYgKCdlcnJvcicgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBydW50aW1lLnRyYW5zZm9ybWVyLmRlc2VyaWFsaXplKHJlc3BvbnNlLmVycm9yKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgLi4ucmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAuLi5yZXNwb25zZS5yZXN1bHQsXG4gICAgICAgIC4uLighcmVzcG9uc2UucmVzdWx0LnR5cGUgfHwgcmVzcG9uc2UucmVzdWx0LnR5cGUgPT09ICdkYXRhJykgJiYge1xuICAgICAgICAgICAgdHlwZTogJ2RhdGEnLFxuICAgICAgICAgICAgZGF0YTogcnVudGltZS50cmFuc2Zvcm1lci5kZXNlcmlhbGl6ZShyZXNwb25zZS5yZXN1bHQuZGF0YSlcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIHJlc3VsdFxuICAgIH07XG59XG5jbGFzcyBUcmFuc2Zvcm1SZXN1bHRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlcignVW5hYmxlIHRvIHRyYW5zZm9ybSByZXNwb25zZSBmcm9tIHNlcnZlcicpO1xuICAgIH1cbn1cbi8qKlxuICogVHJhbnNmb3JtcyBhbmQgdmFsaWRhdGVzIHRoYXQgdGhlIHJlc3VsdCBpcyBhIHZhbGlkIFRSUENSZXNwb25zZVxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gdHJhbnNmb3JtUmVzdWx0KHJlc3BvbnNlLCBydW50aW1lKSB7XG4gICAgbGV0IHJlc3VsdDtcbiAgICB0cnkge1xuICAgICAgICAvLyBVc2UgdGhlIGRhdGEgdHJhbnNmb3JtZXJzIG9uIHRoZSBKU09OLXJlc3BvbnNlXG4gICAgICAgIHJlc3VsdCA9IHRyYW5zZm9ybVJlc3VsdElubmVyKHJlc3BvbnNlLCBydW50aW1lKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRyYW5zZm9ybVJlc3VsdEVycm9yKCk7XG4gICAgfVxuICAgIC8vIGNoZWNrIHRoYXQgb3V0cHV0IG9mIHRoZSB0cmFuc2Zvcm1lcnMgaXMgYSB2YWxpZCBUUlBDUmVzcG9uc2VcbiAgICBpZiAoIXJlc3VsdC5vayAmJiAoIWlzT2JqZWN0KHJlc3VsdC5lcnJvci5lcnJvcikgfHwgdHlwZW9mIHJlc3VsdC5lcnJvci5lcnJvci5jb2RlICE9PSAnbnVtYmVyJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRyYW5zZm9ybVJlc3VsdEVycm9yKCk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQub2sgJiYgIWlzT2JqZWN0KHJlc3VsdC5yZXN1bHQpKSB7XG4gICAgICAgIHRocm93IG5ldyBUcmFuc2Zvcm1SZXN1bHRFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgeyBpc09iamVjdCBhcyBpLCB0cmFuc2Zvcm1SZXN1bHQgYXMgdCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/react-query/dist/createHooksInternal-bdff7171.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@trpc/react-query/dist/createHooksInternal-bdff7171.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   T: () => (/* binding */ TRPCContext),\n/* harmony export */   a: () => (/* binding */ createReactQueryUtilsProxy),\n/* harmony export */   b: () => (/* binding */ createReactProxyDecoration),\n/* harmony export */   c: () => (/* binding */ createHooksInternal),\n/* harmony export */   d: () => (/* binding */ getClientArgs),\n/* harmony export */   e: () => (/* binding */ createUseQueriesProxy),\n/* harmony export */   f: () => (/* binding */ createRootHooks),\n/* harmony export */   g: () => (/* binding */ getQueryKey),\n/* harmony export */   h: () => (/* binding */ contextProps)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/shared */ \"(ssr)/./node_modules/@trpc/server/dist/shared/index.mjs\");\n/* harmony import */ var _getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getArrayQueryKey-86134f8b.mjs */ \"(ssr)/./node_modules/@trpc/react-query/dist/getArrayQueryKey-86134f8b.mjs\");\n/* harmony import */ var _trpc_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @trpc/client */ \"(ssr)/./node_modules/@trpc/client/dist/index.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/react-query/build/lib/useQuery.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/react-query/build/lib/useMutation.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/query-core/build/lib/utils.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @tanstack/react-query */ \"(ssr)/./node_modules/@tanstack/react-query/build/lib/useQueries.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\n\n\n\n\n\n/**\n * We treat `undefined` as an input the same as omitting an `input`\n * https://github.com/trpc/trpc/issues/2290\n */ function getQueryKeyInternal(path, input) {\n    if (path.length) return input === undefined ? [\n        path\n    ] : [\n        path,\n        input\n    ];\n    return [];\n}\n/**\n * Method to extract the query key for a procedure\n * @param procedureOrRouter - procedure or AnyRouter\n * @param input - input to procedureOrRouter\n * @param type - defaults to `any`\n * @link https://trpc.io/docs/getQueryKey\n */ function getQueryKey(..._params) {\n    const [procedureOrRouter, input, type] = _params;\n    // @ts-expect-error - we don't expose _def on the type layer\n    const path = procedureOrRouter._def().path;\n    const dotPath = path.join('.');\n    const queryKey = (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(getQueryKeyInternal(dotPath, input), type ?? 'any');\n    return queryKey;\n}\n\n/**\n * Create proxy for decorating procedures\n * @internal\n */ function createReactProxyDecoration(name, hooks) {\n    return (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_0__.createRecursiveProxy)((opts)=>{\n        const args = opts.args;\n        const pathCopy = [\n            name,\n            ...opts.path\n        ];\n        // The last arg is for instance `.useMutation` or `.useQuery()`\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const lastArg = pathCopy.pop();\n        // The `path` ends up being something like `post.byId`\n        const path = pathCopy.join('.');\n        if (lastArg === 'useMutation') {\n            return hooks[lastArg](path, ...args);\n        }\n        const [input, ...rest] = args;\n        const queryKey = getQueryKeyInternal(path, input);\n        // Expose queryKey helper\n        if (lastArg === 'getQueryKey') {\n            return (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryKey, rest[0] ?? 'any');\n        }\n        if (lastArg === '_def') {\n            return {\n                path: pathCopy\n            };\n        }\n        if (lastArg.startsWith('useSuspense')) {\n            const opts1 = rest[0] || {};\n            const fn = lastArg === 'useSuspenseQuery' ? 'useQuery' : 'useInfiniteQuery';\n            const result = hooks[fn](queryKey, {\n                ...opts1,\n                suspense: true,\n                enabled: true\n            });\n            return [\n                result.data,\n                result\n            ];\n        }\n        return hooks[lastArg](queryKey, ...rest);\n    });\n}\n\nconst contextProps = [\n    'client',\n    'ssrContext',\n    'ssrState',\n    'abortOnUnmount'\n];\nconst TRPCContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(null);\n\n/**\n * @internal\n */ function createReactQueryUtilsProxy(context) {\n    return (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_0__.createFlatProxy)((key)=>{\n        const contextName = key;\n        if (contextName === 'client') {\n            return (0,_trpc_client__WEBPACK_IMPORTED_MODULE_2__.createTRPCClientProxy)(context.client);\n        }\n        if (contextProps.includes(contextName)) {\n            return context[contextName];\n        }\n        return (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_0__.createRecursiveProxy)(({ path , args  })=>{\n            const pathCopy = [\n                key,\n                ...path\n            ];\n            const utilName = pathCopy.pop();\n            const fullPath = pathCopy.join('.');\n            const getOpts = (name)=>{\n                if ([\n                    'setData',\n                    'setInfiniteData'\n                ].includes(name)) {\n                    const [input, updater, ...rest] = args;\n                    const queryKey = getQueryKeyInternal(fullPath, input);\n                    return {\n                        queryKey,\n                        updater,\n                        rest\n                    };\n                }\n                const [input1, ...rest1] = args;\n                const queryKey1 = getQueryKeyInternal(fullPath, input1);\n                return {\n                    queryKey: queryKey1,\n                    rest: rest1\n                };\n            };\n            const { queryKey , rest , updater  } = getOpts(utilName);\n            const contextMap = {\n                fetch: ()=>context.fetchQuery(queryKey, ...rest),\n                fetchInfinite: ()=>context.fetchInfiniteQuery(queryKey, ...rest),\n                prefetch: ()=>context.prefetchQuery(queryKey, ...rest),\n                prefetchInfinite: ()=>context.prefetchInfiniteQuery(queryKey, ...rest),\n                ensureData: ()=>context.ensureQueryData(queryKey, ...rest),\n                invalidate: ()=>context.invalidateQueries(queryKey, ...rest),\n                reset: ()=>context.resetQueries(queryKey, ...rest),\n                refetch: ()=>context.refetchQueries(queryKey, ...rest),\n                cancel: ()=>context.cancelQuery(queryKey, ...rest),\n                setData: ()=>{\n                    context.setQueryData(queryKey, updater, ...rest);\n                },\n                setInfiniteData: ()=>{\n                    context.setInfiniteQueryData(queryKey, updater, ...rest);\n                },\n                getData: ()=>context.getQueryData(queryKey),\n                getInfiniteData: ()=>context.getInfiniteQueryData(queryKey)\n            };\n            return contextMap[utilName]();\n        });\n    });\n}\n\n/**\n * Create proxy for `useQueries` options\n * @internal\n */ function createUseQueriesProxy(client) {\n    return (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_0__.createRecursiveProxy)((opts)=>{\n        const path = opts.path.join('.');\n        const [input, _opts] = opts.args;\n        const queryKey = getQueryKeyInternal(path, input);\n        const options = {\n            queryKey,\n            queryFn: ()=>{\n                return client.query(path, input, _opts?.trpc);\n            },\n            ..._opts\n        };\n        return options;\n    });\n}\n\nfunction getClientArgs(pathAndInput, opts) {\n    const [path, input] = pathAndInput;\n    return [\n        path,\n        input,\n        opts?.trpc\n    ];\n}\n\n/**\n * Makes a stable reference of the `trpc` prop\n */ function useHookResult(value) {\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(value);\n    ref.current.path = value.path;\n    return ref.current;\n}\n\n/**\n * @internal\n */ function createRootHooks(config) {\n    const mutationSuccessOverride = (config?.overrides ?? config?.unstable_overrides)?.useMutation?.onSuccess ?? ((options)=>options.originalFn());\n    const Context = config?.context ?? TRPCContext;\n    const ReactQueryContext = config?.reactQueryContext;\n    const createClient = (opts)=>{\n        return (0,_trpc_client__WEBPACK_IMPORTED_MODULE_2__.createTRPCClient)(opts);\n    };\n    const TRPCProvider = (props)=>{\n        const { abortOnUnmount =false , client , queryClient , ssrContext  } = props;\n        const [ssrState, setSSRState] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(props.ssrState ?? false);\n        (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n            // Only updating state to `mounted` if we are using SSR.\n            // This makes it so we don't have an unnecessary re-render when opting out of SSR.\n            setSSRState((state)=>state ? 'mounted' : false);\n        }, []);\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_3__.createElement(Context.Provider, {\n            value: {\n                abortOnUnmount,\n                queryClient,\n                client,\n                ssrContext: ssrContext ?? null,\n                ssrState,\n                fetchQuery: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((pathAndInput, opts)=>{\n                    return queryClient.fetchQuery({\n                        ...opts,\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'query'),\n                        queryFn: ()=>client.query(...getClientArgs(pathAndInput, opts))\n                    });\n                }, [\n                    client,\n                    queryClient\n                ]),\n                fetchInfiniteQuery: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((pathAndInput, opts)=>{\n                    return queryClient.fetchInfiniteQuery({\n                        ...opts,\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'infinite'),\n                        queryFn: ({ pageParam  })=>{\n                            const [path, input] = pathAndInput;\n                            const actualInput = {\n                                ...input,\n                                cursor: pageParam\n                            };\n                            return client.query(...getClientArgs([\n                                path,\n                                actualInput\n                            ], opts));\n                        }\n                    });\n                }, [\n                    client,\n                    queryClient\n                ]),\n                prefetchQuery: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((pathAndInput, opts)=>{\n                    return queryClient.prefetchQuery({\n                        ...opts,\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'query'),\n                        queryFn: ()=>client.query(...getClientArgs(pathAndInput, opts))\n                    });\n                }, [\n                    client,\n                    queryClient\n                ]),\n                prefetchInfiniteQuery: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((pathAndInput, opts)=>{\n                    return queryClient.prefetchInfiniteQuery({\n                        ...opts,\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'infinite'),\n                        queryFn: ({ pageParam  })=>{\n                            const [path, input] = pathAndInput;\n                            const actualInput = {\n                                ...input,\n                                cursor: pageParam\n                            };\n                            return client.query(...getClientArgs([\n                                path,\n                                actualInput\n                            ], opts));\n                        }\n                    });\n                }, [\n                    client,\n                    queryClient\n                ]),\n                ensureQueryData: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((pathAndInput, opts)=>{\n                    return queryClient.ensureQueryData({\n                        ...opts,\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'query'),\n                        queryFn: ()=>client.query(...getClientArgs(pathAndInput, opts))\n                    });\n                }, [\n                    client,\n                    queryClient\n                ]),\n                invalidateQueries: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((queryKey, filters, options)=>{\n                    return queryClient.invalidateQueries({\n                        ...filters,\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryKey, 'any')\n                    }, options);\n                }, [\n                    queryClient\n                ]),\n                resetQueries: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((...args)=>{\n                    const [queryKey, filters, options] = args;\n                    return queryClient.resetQueries({\n                        ...filters,\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryKey, 'any')\n                    }, options);\n                }, [\n                    queryClient\n                ]),\n                refetchQueries: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((...args)=>{\n                    const [queryKey, filters, options] = args;\n                    return queryClient.refetchQueries({\n                        ...filters,\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryKey, 'any')\n                    }, options);\n                }, [\n                    queryClient\n                ]),\n                cancelQuery: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((pathAndInput)=>{\n                    return queryClient.cancelQueries({\n                        queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'any')\n                    });\n                }, [\n                    queryClient\n                ]),\n                setQueryData: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((...args)=>{\n                    const [queryKey, ...rest] = args;\n                    return queryClient.setQueryData((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryKey, 'query'), ...rest);\n                }, [\n                    queryClient\n                ]),\n                getQueryData: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((...args)=>{\n                    const [queryKey, ...rest] = args;\n                    return queryClient.getQueryData((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryKey, 'query'), ...rest);\n                }, [\n                    queryClient\n                ]),\n                setInfiniteQueryData: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((...args)=>{\n                    const [queryKey, ...rest] = args;\n                    return queryClient.setQueryData((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryKey, 'infinite'), ...rest);\n                }, [\n                    queryClient\n                ]),\n                getInfiniteQueryData: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((...args)=>{\n                    const [queryKey, ...rest] = args;\n                    return queryClient.getQueryData((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryKey, 'infinite'), ...rest);\n                }, [\n                    queryClient\n                ])\n            }\n        }, props.children);\n    };\n    function useContext() {\n        return react__WEBPACK_IMPORTED_MODULE_3__.useContext(Context);\n    }\n    /**\n   * Hack to make sure errors return `status`='error` when doing SSR\n   * @link https://github.com/trpc/trpc/pull/1645\n   */ function useSSRQueryOptionsIfNeeded(pathAndInput, type, opts) {\n        const { queryClient , ssrState  } = useContext();\n        return ssrState && ssrState !== 'mounted' && queryClient.getQueryCache().find((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, type))?.state.status === 'error' ? {\n            retryOnMount: false,\n            ...opts\n        } : opts;\n    }\n    function useQuery$1(// FIXME path should be a tuple in next major\n    pathAndInput, opts) {\n        const context = useContext();\n        if (!context) {\n            throw new Error('Unable to retrieve application context. Did you forget to wrap your App inside `withTRPC` HoC?');\n        }\n        const { abortOnUnmount , client , ssrState , queryClient , prefetchQuery  } = context;\n        const defaultOpts = queryClient.getQueryDefaults((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'query'));\n        if (typeof window === 'undefined' && ssrState === 'prepass' && opts?.trpc?.ssr !== false && (opts?.enabled ?? defaultOpts?.enabled) !== false && !queryClient.getQueryCache().find((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'query'))) {\n            void prefetchQuery(pathAndInput, opts);\n        }\n        const ssrOpts = useSSRQueryOptionsIfNeeded(pathAndInput, 'query', {\n            ...defaultOpts,\n            ...opts\n        });\n        const shouldAbortOnUnmount = opts?.trpc?.abortOnUnmount ?? config?.abortOnUnmount ?? abortOnUnmount;\n        const hook = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_4__.useQuery)({\n            ...ssrOpts,\n            queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'query'),\n            queryFn: (queryFunctionContext)=>{\n                const actualOpts = {\n                    ...ssrOpts,\n                    trpc: {\n                        ...ssrOpts?.trpc,\n                        ...shouldAbortOnUnmount ? {\n                            signal: queryFunctionContext.signal\n                        } : {}\n                    }\n                };\n                return client.query(...getClientArgs(pathAndInput, actualOpts));\n            },\n            context: ReactQueryContext\n        });\n        hook.trpc = useHookResult({\n            path: pathAndInput[0]\n        });\n        return hook;\n    }\n    function useMutation$1(// FIXME: this should only be a tuple path in next major\n    path, opts) {\n        const { client  } = useContext();\n        const queryClient = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_5__.useQueryClient)({\n            context: ReactQueryContext\n        });\n        const actualPath = Array.isArray(path) ? path[0] : path;\n        const defaultOpts = queryClient.getMutationDefaults([\n            actualPath.split('.')\n        ]);\n        const hook = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_6__.useMutation)({\n            ...opts,\n            mutationKey: [\n                actualPath.split('.')\n            ],\n            mutationFn: (input)=>{\n                return client.mutation(...getClientArgs([\n                    actualPath,\n                    input\n                ], opts));\n            },\n            context: ReactQueryContext,\n            onSuccess (...args) {\n                const originalFn = ()=>opts?.onSuccess?.(...args) ?? defaultOpts?.onSuccess?.(...args);\n                return mutationSuccessOverride({\n                    originalFn,\n                    queryClient,\n                    meta: opts?.meta ?? defaultOpts?.meta ?? {}\n                });\n            }\n        });\n        hook.trpc = useHookResult({\n            path: actualPath\n        });\n        return hook;\n    }\n    /* istanbul ignore next -- @preserve */ function useSubscription(pathAndInput, opts) {\n        const enabled = opts?.enabled ?? true;\n        const queryKey = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__.hashQueryKey)(pathAndInput);\n        const { client  } = useContext();\n        const optsRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(opts);\n        optsRef.current = opts;\n        (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n            if (!enabled) {\n                return;\n            }\n            const [path, input] = pathAndInput;\n            let isStopped = false;\n            const subscription = client.subscription(path, input ?? undefined, {\n                onStarted: ()=>{\n                    if (!isStopped) {\n                        optsRef.current.onStarted?.();\n                    }\n                },\n                onData: (data)=>{\n                    if (!isStopped) {\n                        // FIXME this shouldn't be needed as both should be `unknown` in next major\n                        optsRef.current.onData(data);\n                    }\n                },\n                onError: (err)=>{\n                    if (!isStopped) {\n                        optsRef.current.onError?.(err);\n                    }\n                }\n            });\n            return ()=>{\n                isStopped = true;\n                subscription.unsubscribe();\n            };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [\n            queryKey,\n            enabled\n        ]);\n    }\n    function useInfiniteQuery$1(pathAndInput, opts) {\n        const [path, input] = pathAndInput;\n        const { client , ssrState , prefetchInfiniteQuery , queryClient , abortOnUnmount ,  } = useContext();\n        const defaultOpts = queryClient.getQueryDefaults((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'infinite'));\n        if (typeof window === 'undefined' && ssrState === 'prepass' && opts?.trpc?.ssr !== false && (opts?.enabled ?? defaultOpts?.enabled) !== false && !queryClient.getQueryCache().find((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'infinite'))) {\n            void prefetchInfiniteQuery(pathAndInput, {\n                ...defaultOpts,\n                ...opts\n            });\n        }\n        const ssrOpts = useSSRQueryOptionsIfNeeded(pathAndInput, 'infinite', {\n            ...defaultOpts,\n            ...opts\n        });\n        // request option should take priority over global\n        const shouldAbortOnUnmount = opts?.trpc?.abortOnUnmount ?? abortOnUnmount;\n        const hook = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_8__.useInfiniteQuery)({\n            ...ssrOpts,\n            queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(pathAndInput, 'infinite'),\n            queryFn: (queryFunctionContext)=>{\n                const actualOpts = {\n                    ...ssrOpts,\n                    trpc: {\n                        ...ssrOpts?.trpc,\n                        ...shouldAbortOnUnmount ? {\n                            signal: queryFunctionContext.signal\n                        } : {}\n                    }\n                };\n                const actualInput = {\n                    ...input ?? {},\n                    cursor: queryFunctionContext.pageParam ?? opts?.initialCursor\n                };\n                // FIXME as any shouldn't be needed as client should be untyped too\n                return client.query(...getClientArgs([\n                    path,\n                    actualInput\n                ], actualOpts));\n            },\n            context: ReactQueryContext\n        });\n        hook.trpc = useHookResult({\n            path\n        });\n        return hook;\n    }\n    const useQueries$1 = (queriesCallback, context)=>{\n        const { ssrState , queryClient , prefetchQuery , client  } = useContext();\n        const proxy = createUseQueriesProxy(client);\n        const queries = queriesCallback(proxy);\n        if (typeof window === 'undefined' && ssrState === 'prepass') {\n            for (const query of queries){\n                const queryOption = query;\n                if (queryOption.trpc?.ssr !== false && !queryClient.getQueryCache().find((0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(queryOption.queryKey, 'query'))) {\n                    void prefetchQuery(queryOption.queryKey, queryOption);\n                }\n            }\n        }\n        return (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_9__.useQueries)({\n            queries: queries.map((query)=>({\n                    ...query,\n                    queryKey: (0,_getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(query.queryKey, 'query')\n                })),\n            context\n        });\n    };\n    const useDehydratedState = (client, trpcState)=>{\n        const transformed = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>{\n            if (!trpcState) {\n                return trpcState;\n            }\n            return client.runtime.transformer.deserialize(trpcState);\n        }, [\n            trpcState,\n            client\n        ]);\n        return transformed;\n    };\n    return {\n        Provider: TRPCProvider,\n        createClient,\n        useContext,\n        useUtils: useContext,\n        useQuery: useQuery$1,\n        useQueries: useQueries$1,\n        useMutation: useMutation$1,\n        useSubscription,\n        useDehydratedState,\n        useInfiniteQuery: useInfiniteQuery$1\n    };\n}\n\n/**\n * Create strongly typed react hooks\n * @internal\n * @deprecated\n */ function createHooksInternal(config) {\n    return createRootHooks(config);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvcmVhY3QtcXVlcnkvZGlzdC9jcmVhdGVIb29rc0ludGVybmFsLWJkZmY3MTcxLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTRFO0FBQ0o7QUFDRDtBQUNtRDtBQUMxQjs7QUFFaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixpRUFBZ0I7QUFDckM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcseUVBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaUVBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msb0RBQWE7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0VBQWU7QUFDMUI7QUFDQTtBQUNBLG1CQUFtQixtRUFBcUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlFQUFvQixJQUFJLGNBQWM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw2QkFBNkI7QUFDakQ7QUFDQTtBQUNBO0FB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O0FBQ0EsZ0JBQWdCLDhFQUE4RTtBQUM5Rix5REFBeUQsaUVBQWdCO0FBQ3pFLDJMQUEyTCxpRUFBZ0I7QUFDM007QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxxQkFBcUIsdUVBQWdCO0FBQ3JDO0FBQ0Esc0JBQXNCLGlFQUFnQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbURBQW1EO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUYsaUVBQWdCO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpRUFBVTtBQUN6QjtBQUNBO0FBQ0EsOEJBQThCLGlFQUFnQjtBQUM5QyxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDRCQUE0Qiw4Q0FBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW1PIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdDMtYXBwLy4vbm9kZV9tb2R1bGVzL0B0cnBjL3JlYWN0LXF1ZXJ5L2Rpc3QvY3JlYXRlSG9va3NJbnRlcm5hbC1iZGZmNzE3MS5tanM/Yjg3MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVSZWN1cnNpdmVQcm94eSwgY3JlYXRlRmxhdFByb3h5IH0gZnJvbSAnQHRycGMvc2VydmVyL3NoYXJlZCc7XG5pbXBvcnQgeyBnIGFzIGdldEFycmF5UXVlcnlLZXkgfSBmcm9tICcuL2dldEFycmF5UXVlcnlLZXktODYxMzRmOGIubWpzJztcbmltcG9ydCB7IGNyZWF0ZVRSUENDbGllbnRQcm94eSwgY3JlYXRlVFJQQ0NsaWVudCB9IGZyb20gJ0B0cnBjL2NsaWVudCc7XG5pbXBvcnQgeyB1c2VRdWVyeSwgdXNlUXVlcnlDbGllbnQsIHVzZU11dGF0aW9uLCBoYXNoUXVlcnlLZXksIHVzZUluZmluaXRlUXVlcnksIHVzZVF1ZXJpZXMgfSBmcm9tICdAdGFuc3RhY2svcmVhY3QtcXVlcnknO1xuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogV2UgdHJlYXQgYHVuZGVmaW5lZGAgYXMgYW4gaW5wdXQgdGhlIHNhbWUgYXMgb21pdHRpbmcgYW4gYGlucHV0YFxuICogaHR0cHM6Ly9naXRodWIuY29tL3RycGMvdHJwYy9pc3N1ZXMvMjI5MFxuICovIGZ1bmN0aW9uIGdldFF1ZXJ5S2V5SW50ZXJuYWwocGF0aCwgaW5wdXQpIHtcbiAgICBpZiAocGF0aC5sZW5ndGgpIHJldHVybiBpbnB1dCA9PT0gdW5kZWZpbmVkID8gW1xuICAgICAgICBwYXRoXG4gICAgXSA6IFtcbiAgICAgICAgcGF0aCxcbiAgICAgICAgaW5wdXRcbiAgICBdO1xuICAgIHJldHVybiBbXTtcbn1cbi8qKlxuICogTWV0aG9kIHRvIGV4dHJhY3QgdGhlIHF1ZXJ5IGtleSBmb3IgYSBwcm9jZWR1cmVcbiAqIEBwYXJhbSBwcm9jZWR1cmVPclJvdXRlciAtIHByb2NlZHVyZSBvciBBbnlSb3V0ZXJcbiAqIEBwYXJhbSBpbnB1dCAtIGlucHV0IHRvIHByb2NlZHVyZU9yUm91dGVyXG4gKiBAcGFyYW0gdHlwZSAtIGRlZmF1bHRzIHRvIGBhbnlgXG4gKiBAbGluayBodHRwczovL3RycGMuaW8vZG9jcy9nZXRRdWVyeUtleVxuICovIGZ1bmN0aW9uIGdldFF1ZXJ5S2V5KC4uLl9wYXJhbXMpIHtcbiAgICBjb25zdCBbcHJvY2VkdXJlT3JSb3V0ZXIsIGlucHV0LCB0eXBlXSA9IF9wYXJhbXM7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIHdlIGRvbid0IGV4cG9zZSBfZGVmIG9uIHRoZSB0eXBlIGxheWVyXG4gICAgY29uc3QgcGF0aCA9IHByb2NlZHVyZU9yUm91dGVyLl9kZWYoKS5wYXRoO1xuICAgIGNvbnN0IGRvdFBhdGggPSBwYXRoLmpvaW4oJy4nKTtcbiAgICBjb25zdCBxdWVyeUtleSA9IGdldEFycmF5UXVlcnlLZXkoZ2V0UXVlcnlLZXlJbnRlcm5hbChkb3RQYXRoLCBpbnB1dCksIHR5cGUgPz8gJ2FueScpO1xuICAgIHJldHVybiBxdWVyeUtleTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgcHJveHkgZm9yIGRlY29yYXRpbmcgcHJvY2VkdXJlc1xuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gY3JlYXRlUmVhY3RQcm94eURlY29yYXRpb24obmFtZSwgaG9va3MpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVjdXJzaXZlUHJveHkoKG9wdHMpPT57XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBvcHRzLmFyZ3M7XG4gICAgICAgIGNvbnN0IHBhdGhDb3B5ID0gW1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIC4uLm9wdHMucGF0aFxuICAgICAgICBdO1xuICAgICAgICAvLyBUaGUgbGFzdCBhcmcgaXMgZm9yIGluc3RhbmNlIGAudXNlTXV0YXRpb25gIG9yIGAudXNlUXVlcnkoKWBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgY29uc3QgbGFzdEFyZyA9IHBhdGhDb3B5LnBvcCgpO1xuICAgICAgICAvLyBUaGUgYHBhdGhgIGVuZHMgdXAgYmVpbmcgc29tZXRoaW5nIGxpa2UgYHBvc3QuYnlJZGBcbiAgICAgICAgY29uc3QgcGF0aCA9IHBhdGhDb3B5LmpvaW4oJy4nKTtcbiAgICAgICAgaWYgKGxhc3RBcmcgPT09ICd1c2VNdXRhdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBob29rc1tsYXN0QXJnXShwYXRoLCAuLi5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbaW5wdXQsIC4uLnJlc3RdID0gYXJncztcbiAgICAgICAgY29uc3QgcXVlcnlLZXkgPSBnZXRRdWVyeUtleUludGVybmFsKHBhdGgsIGlucHV0KTtcbiAgICAgICAgLy8gRXhwb3NlIHF1ZXJ5S2V5IGhlbHBlclxuICAgICAgICBpZiAobGFzdEFyZyA9PT0gJ2dldFF1ZXJ5S2V5Jykge1xuICAgICAgICAgICAgcmV0dXJuIGdldEFycmF5UXVlcnlLZXkocXVlcnlLZXksIHJlc3RbMF0gPz8gJ2FueScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYXN0QXJnID09PSAnX2RlZicpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcGF0aDogcGF0aENvcHlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3RBcmcuc3RhcnRzV2l0aCgndXNlU3VzcGVuc2UnKSkge1xuICAgICAgICAgICAgY29uc3Qgb3B0czEgPSByZXN0WzBdIHx8IHt9O1xuICAgICAgICAgICAgY29uc3QgZm4gPSBsYXN0QXJnID09PSAndXNlU3VzcGVuc2VRdWVyeScgPyAndXNlUXVlcnknIDogJ3VzZUluZmluaXRlUXVlcnknO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gaG9va3NbZm5dKHF1ZXJ5S2V5LCB7XG4gICAgICAgICAgICAgICAgLi4ub3B0czEsXG4gICAgICAgICAgICAgICAgc3VzcGVuc2U6IHRydWUsXG4gICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHJlc3VsdC5kYXRhLFxuICAgICAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaG9va3NbbGFzdEFyZ10ocXVlcnlLZXksIC4uLnJlc3QpO1xuICAgIH0pO1xufVxuXG5jb25zdCBjb250ZXh0UHJvcHMgPSBbXG4gICAgJ2NsaWVudCcsXG4gICAgJ3NzckNvbnRleHQnLFxuICAgICdzc3JTdGF0ZScsXG4gICAgJ2Fib3J0T25Vbm1vdW50J1xuXTtcbmNvbnN0IFRSUENDb250ZXh0ID0gLyojX19QVVJFX18qLyBjcmVhdGVDb250ZXh0KG51bGwpO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIGNyZWF0ZVJlYWN0UXVlcnlVdGlsc1Byb3h5KGNvbnRleHQpIHtcbiAgICByZXR1cm4gY3JlYXRlRmxhdFByb3h5KChrZXkpPT57XG4gICAgICAgIGNvbnN0IGNvbnRleHROYW1lID0ga2V5O1xuICAgICAgICBpZiAoY29udGV4dE5hbWUgPT09ICdjbGllbnQnKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVFJQQ0NsaWVudFByb3h5KGNvbnRleHQuY2xpZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dFByb3BzLmluY2x1ZGVzKGNvbnRleHROYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHRbY29udGV4dE5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnNpdmVQcm94eSgoeyBwYXRoICwgYXJncyAgfSk9PntcbiAgICAgICAgICAgIGNvbnN0IHBhdGhDb3B5ID0gW1xuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAuLi5wYXRoXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgY29uc3QgdXRpbE5hbWUgPSBwYXRoQ29weS5wb3AoKTtcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxQYXRoID0gcGF0aENvcHkuam9pbignLicpO1xuICAgICAgICAgICAgY29uc3QgZ2V0T3B0cyA9IChuYW1lKT0+e1xuICAgICAgICAgICAgICAgIGlmIChbXG4gICAgICAgICAgICAgICAgICAgICdzZXREYXRhJyxcbiAgICAgICAgICAgICAgICAgICAgJ3NldEluZmluaXRlRGF0YSdcbiAgICAgICAgICAgICAgICBdLmluY2x1ZGVzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtpbnB1dCwgdXBkYXRlciwgLi4ucmVzdF0gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWVyeUtleSA9IGdldFF1ZXJ5S2V5SW50ZXJuYWwoZnVsbFBhdGgsIGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5S2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgW2lucHV0MSwgLi4ucmVzdDFdID0gYXJncztcbiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeUtleTEgPSBnZXRRdWVyeUtleUludGVybmFsKGZ1bGxQYXRoLCBpbnB1dDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5S2V5OiBxdWVyeUtleTEsXG4gICAgICAgICAgICAgICAgICAgIHJlc3Q6IHJlc3QxXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCB7IHF1ZXJ5S2V5ICwgcmVzdCAsIHVwZGF0ZXIgIH0gPSBnZXRPcHRzKHV0aWxOYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHRNYXAgPSB7XG4gICAgICAgICAgICAgICAgZmV0Y2g6ICgpPT5jb250ZXh0LmZldGNoUXVlcnkocXVlcnlLZXksIC4uLnJlc3QpLFxuICAgICAgICAgICAgICAgIGZldGNoSW5maW5pdGU6ICgpPT5jb250ZXh0LmZldGNoSW5maW5pdGVRdWVyeShxdWVyeUtleSwgLi4ucmVzdCksXG4gICAgICAgICAgICAgICAgcHJlZmV0Y2g6ICgpPT5jb250ZXh0LnByZWZldGNoUXVlcnkocXVlcnlLZXksIC4uLnJlc3QpLFxuICAgICAgICAgICAgICAgIHByZWZldGNoSW5maW5pdGU6ICgpPT5jb250ZXh0LnByZWZldGNoSW5maW5pdGVRdWVyeShxdWVyeUtleSwgLi4ucmVzdCksXG4gICAgICAgICAgICAgICAgZW5zdXJlRGF0YTogKCk9PmNvbnRleHQuZW5zdXJlUXVlcnlEYXRhKHF1ZXJ5S2V5LCAuLi5yZXN0KSxcbiAgICAgICAgICAgICAgICBpbnZhbGlkYXRlOiAoKT0+Y29udGV4dC5pbnZhbGlkYXRlUXVlcmllcyhxdWVyeUtleSwgLi4ucmVzdCksXG4gICAgICAgICAgICAgICAgcmVzZXQ6ICgpPT5jb250ZXh0LnJlc2V0UXVlcmllcyhxdWVyeUtleSwgLi4ucmVzdCksXG4gICAgICAgICAgICAgICAgcmVmZXRjaDogKCk9PmNvbnRleHQucmVmZXRjaFF1ZXJpZXMocXVlcnlLZXksIC4uLnJlc3QpLFxuICAgICAgICAgICAgICAgIGNhbmNlbDogKCk9PmNvbnRleHQuY2FuY2VsUXVlcnkocXVlcnlLZXksIC4uLnJlc3QpLFxuICAgICAgICAgICAgICAgIHNldERhdGE6ICgpPT57XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0UXVlcnlEYXRhKHF1ZXJ5S2V5LCB1cGRhdGVyLCAuLi5yZXN0KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldEluZmluaXRlRGF0YTogKCk9PntcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXRJbmZpbml0ZVF1ZXJ5RGF0YShxdWVyeUtleSwgdXBkYXRlciwgLi4ucmVzdCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXREYXRhOiAoKT0+Y29udGV4dC5nZXRRdWVyeURhdGEocXVlcnlLZXkpLFxuICAgICAgICAgICAgICAgIGdldEluZmluaXRlRGF0YTogKCk9PmNvbnRleHQuZ2V0SW5maW5pdGVRdWVyeURhdGEocXVlcnlLZXkpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHRNYXBbdXRpbE5hbWVdKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZSBwcm94eSBmb3IgYHVzZVF1ZXJpZXNgIG9wdGlvbnNcbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIGNyZWF0ZVVzZVF1ZXJpZXNQcm94eShjbGllbnQpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVjdXJzaXZlUHJveHkoKG9wdHMpPT57XG4gICAgICAgIGNvbnN0IHBhdGggPSBvcHRzLnBhdGguam9pbignLicpO1xuICAgICAgICBjb25zdCBbaW5wdXQsIF9vcHRzXSA9IG9wdHMuYXJncztcbiAgICAgICAgY29uc3QgcXVlcnlLZXkgPSBnZXRRdWVyeUtleUludGVybmFsKHBhdGgsIGlucHV0KTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHF1ZXJ5S2V5LFxuICAgICAgICAgICAgcXVlcnlGbjogKCk9PntcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LnF1ZXJ5KHBhdGgsIGlucHV0LCBfb3B0cz8udHJwYyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLi4uX29wdHNcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldENsaWVudEFyZ3MocGF0aEFuZElucHV0LCBvcHRzKSB7XG4gICAgY29uc3QgW3BhdGgsIGlucHV0XSA9IHBhdGhBbmRJbnB1dDtcbiAgICByZXR1cm4gW1xuICAgICAgICBwYXRoLFxuICAgICAgICBpbnB1dCxcbiAgICAgICAgb3B0cz8udHJwY1xuICAgIF07XG59XG5cbi8qKlxuICogTWFrZXMgYSBzdGFibGUgcmVmZXJlbmNlIG9mIHRoZSBgdHJwY2AgcHJvcFxuICovIGZ1bmN0aW9uIHVzZUhvb2tSZXN1bHQodmFsdWUpIHtcbiAgICBjb25zdCByZWYgPSB1c2VSZWYodmFsdWUpO1xuICAgIHJlZi5jdXJyZW50LnBhdGggPSB2YWx1ZS5wYXRoO1xuICAgIHJldHVybiByZWYuY3VycmVudDtcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqLyBmdW5jdGlvbiBjcmVhdGVSb290SG9va3MoY29uZmlnKSB7XG4gICAgY29uc3QgbXV0YXRpb25TdWNjZXNzT3ZlcnJpZGUgPSAoY29uZmlnPy5vdmVycmlkZXMgPz8gY29uZmlnPy51bnN0YWJsZV9vdmVycmlkZXMpPy51c2VNdXRhdGlvbj8ub25TdWNjZXNzID8/ICgob3B0aW9ucyk9Pm9wdGlvbnMub3JpZ2luYWxGbigpKTtcbiAgICBjb25zdCBDb250ZXh0ID0gY29uZmlnPy5jb250ZXh0ID8/IFRSUENDb250ZXh0O1xuICAgIGNvbnN0IFJlYWN0UXVlcnlDb250ZXh0ID0gY29uZmlnPy5yZWFjdFF1ZXJ5Q29udGV4dDtcbiAgICBjb25zdCBjcmVhdGVDbGllbnQgPSAob3B0cyk9PntcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVRSUENDbGllbnQob3B0cyk7XG4gICAgfTtcbiAgICBjb25zdCBUUlBDUHJvdmlkZXIgPSAocHJvcHMpPT57XG4gICAgICAgIGNvbnN0IHsgYWJvcnRPblVubW91bnQgPWZhbHNlICwgY2xpZW50ICwgcXVlcnlDbGllbnQgLCBzc3JDb250ZXh0ICB9ID0gcHJvcHM7XG4gICAgICAgIGNvbnN0IFtzc3JTdGF0ZSwgc2V0U1NSU3RhdGVdID0gdXNlU3RhdGUocHJvcHMuc3NyU3RhdGUgPz8gZmFsc2UpO1xuICAgICAgICB1c2VFZmZlY3QoKCk9PntcbiAgICAgICAgICAgIC8vIE9ubHkgdXBkYXRpbmcgc3RhdGUgdG8gYG1vdW50ZWRgIGlmIHdlIGFyZSB1c2luZyBTU1IuXG4gICAgICAgICAgICAvLyBUaGlzIG1ha2VzIGl0IHNvIHdlIGRvbid0IGhhdmUgYW4gdW5uZWNlc3NhcnkgcmUtcmVuZGVyIHdoZW4gb3B0aW5nIG91dCBvZiBTU1IuXG4gICAgICAgICAgICBzZXRTU1JTdGF0ZSgoc3RhdGUpPT5zdGF0ZSA/ICdtb3VudGVkJyA6IGZhbHNlKTtcbiAgICAgICAgfSwgW10pO1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qLyBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgYWJvcnRPblVubW91bnQsXG4gICAgICAgICAgICAgICAgcXVlcnlDbGllbnQsXG4gICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgIHNzckNvbnRleHQ6IHNzckNvbnRleHQgPz8gbnVsbCxcbiAgICAgICAgICAgICAgICBzc3JTdGF0ZSxcbiAgICAgICAgICAgICAgICBmZXRjaFF1ZXJ5OiB1c2VDYWxsYmFjaygocGF0aEFuZElucHV0LCBvcHRzKT0+e1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlDbGllbnQuZmV0Y2hRdWVyeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlLZXk6IGdldEFycmF5UXVlcnlLZXkocGF0aEFuZElucHV0LCAncXVlcnknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5Rm46ICgpPT5jbGllbnQucXVlcnkoLi4uZ2V0Q2xpZW50QXJncyhwYXRoQW5kSW5wdXQsIG9wdHMpKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCBbXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlDbGllbnRcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBmZXRjaEluZmluaXRlUXVlcnk6IHVzZUNhbGxiYWNrKChwYXRoQW5kSW5wdXQsIG9wdHMpPT57XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeUNsaWVudC5mZXRjaEluZmluaXRlUXVlcnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5S2V5OiBnZXRBcnJheVF1ZXJ5S2V5KHBhdGhBbmRJbnB1dCwgJ2luZmluaXRlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeUZuOiAoeyBwYWdlUGFyYW0gIH0pPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW3BhdGgsIGlucHV0XSA9IHBhdGhBbmRJbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3R1YWxJbnB1dCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcGFnZVBhcmFtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LnF1ZXJ5KC4uLmdldENsaWVudEFyZ3MoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sIG9wdHMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5Q2xpZW50XG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgcHJlZmV0Y2hRdWVyeTogdXNlQ2FsbGJhY2soKHBhdGhBbmRJbnB1dCwgb3B0cyk9PntcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Q2xpZW50LnByZWZldGNoUXVlcnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5S2V5OiBnZXRBcnJheVF1ZXJ5S2V5KHBhdGhBbmRJbnB1dCwgJ3F1ZXJ5JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeUZuOiAoKT0+Y2xpZW50LnF1ZXJ5KC4uLmdldENsaWVudEFyZ3MocGF0aEFuZElucHV0LCBvcHRzKSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5Q2xpZW50XG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgcHJlZmV0Y2hJbmZpbml0ZVF1ZXJ5OiB1c2VDYWxsYmFjaygocGF0aEFuZElucHV0LCBvcHRzKT0+e1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlDbGllbnQucHJlZmV0Y2hJbmZpbml0ZVF1ZXJ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeUtleTogZ2V0QXJyYXlRdWVyeUtleShwYXRoQW5kSW5wdXQsICdpbmZpbml0ZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlGbjogKHsgcGFnZVBhcmFtICB9KT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFtwYXRoLCBpbnB1dF0gPSBwYXRoQW5kSW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0dWFsSW5wdXQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmlucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBhZ2VQYXJhbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5xdWVyeSguLi5nZXRDbGllbnRBcmdzKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsSW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLCBvcHRzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgICAgICBxdWVyeUNsaWVudFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIGVuc3VyZVF1ZXJ5RGF0YTogdXNlQ2FsbGJhY2soKHBhdGhBbmRJbnB1dCwgb3B0cyk9PntcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Q2xpZW50LmVuc3VyZVF1ZXJ5RGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlLZXk6IGdldEFycmF5UXVlcnlLZXkocGF0aEFuZElucHV0LCAncXVlcnknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5Rm46ICgpPT5jbGllbnQucXVlcnkoLi4uZ2V0Q2xpZW50QXJncyhwYXRoQW5kSW5wdXQsIG9wdHMpKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCBbXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlDbGllbnRcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBpbnZhbGlkYXRlUXVlcmllczogdXNlQ2FsbGJhY2soKHF1ZXJ5S2V5LCBmaWx0ZXJzLCBvcHRpb25zKT0+e1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZmlsdGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5S2V5OiBnZXRBcnJheVF1ZXJ5S2V5KHF1ZXJ5S2V5LCAnYW55JylcbiAgICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgICAgICBxdWVyeUNsaWVudFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIHJlc2V0UXVlcmllczogdXNlQ2FsbGJhY2soKC4uLmFyZ3MpPT57XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtxdWVyeUtleSwgZmlsdGVycywgb3B0aW9uc10gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlDbGllbnQucmVzZXRRdWVyaWVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZpbHRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeUtleTogZ2V0QXJyYXlRdWVyeUtleShxdWVyeUtleSwgJ2FueScpXG4gICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlDbGllbnRcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICByZWZldGNoUXVlcmllczogdXNlQ2FsbGJhY2soKC4uLmFyZ3MpPT57XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtxdWVyeUtleSwgZmlsdGVycywgb3B0aW9uc10gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlDbGllbnQucmVmZXRjaFF1ZXJpZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZmlsdGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5S2V5OiBnZXRBcnJheVF1ZXJ5S2V5KHF1ZXJ5S2V5LCAnYW55JylcbiAgICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgICAgICBxdWVyeUNsaWVudFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIGNhbmNlbFF1ZXJ5OiB1c2VDYWxsYmFjaygocGF0aEFuZElucHV0KT0+e1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlDbGllbnQuY2FuY2VsUXVlcmllcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeUtleTogZ2V0QXJyYXlRdWVyeUtleShwYXRoQW5kSW5wdXQsICdhbnknKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCBbXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5Q2xpZW50XG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgc2V0UXVlcnlEYXRhOiB1c2VDYWxsYmFjaygoLi4uYXJncyk9PntcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW3F1ZXJ5S2V5LCAuLi5yZXN0XSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeUNsaWVudC5zZXRRdWVyeURhdGEoZ2V0QXJyYXlRdWVyeUtleShxdWVyeUtleSwgJ3F1ZXJ5JyksIC4uLnJlc3QpO1xuICAgICAgICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlDbGllbnRcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBnZXRRdWVyeURhdGE6IHVzZUNhbGxiYWNrKCguLi5hcmdzKT0+e1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbcXVlcnlLZXksIC4uLnJlc3RdID0gYXJncztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Q2xpZW50LmdldFF1ZXJ5RGF0YShnZXRBcnJheVF1ZXJ5S2V5KHF1ZXJ5S2V5LCAncXVlcnknKSwgLi4ucmVzdCk7XG4gICAgICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgICAgICBxdWVyeUNsaWVudFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIHNldEluZmluaXRlUXVlcnlEYXRhOiB1c2VDYWxsYmFjaygoLi4uYXJncyk9PntcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW3F1ZXJ5S2V5LCAuLi5yZXN0XSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeUNsaWVudC5zZXRRdWVyeURhdGEoZ2V0QXJyYXlRdWVyeUtleShxdWVyeUtleSwgJ2luZmluaXRlJyksIC4uLnJlc3QpO1xuICAgICAgICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlDbGllbnRcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBnZXRJbmZpbml0ZVF1ZXJ5RGF0YTogdXNlQ2FsbGJhY2soKC4uLmFyZ3MpPT57XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtxdWVyeUtleSwgLi4ucmVzdF0gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlDbGllbnQuZ2V0UXVlcnlEYXRhKGdldEFycmF5UXVlcnlLZXkocXVlcnlLZXksICdpbmZpbml0ZScpLCAuLi5yZXN0KTtcbiAgICAgICAgICAgICAgICB9LCBbXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5Q2xpZW50XG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgcHJvcHMuY2hpbGRyZW4pO1xuICAgIH07XG4gICAgZnVuY3Rpb24gdXNlQ29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LnVzZUNvbnRleHQoQ29udGV4dCk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBIYWNrIHRvIG1ha2Ugc3VyZSBlcnJvcnMgcmV0dXJuIGBzdGF0dXNgPSdlcnJvcmAgd2hlbiBkb2luZyBTU1JcbiAgICogQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3RycGMvdHJwYy9wdWxsLzE2NDVcbiAgICovIGZ1bmN0aW9uIHVzZVNTUlF1ZXJ5T3B0aW9uc0lmTmVlZGVkKHBhdGhBbmRJbnB1dCwgdHlwZSwgb3B0cykge1xuICAgICAgICBjb25zdCB7IHF1ZXJ5Q2xpZW50ICwgc3NyU3RhdGUgIH0gPSB1c2VDb250ZXh0KCk7XG4gICAgICAgIHJldHVybiBzc3JTdGF0ZSAmJiBzc3JTdGF0ZSAhPT0gJ21vdW50ZWQnICYmIHF1ZXJ5Q2xpZW50LmdldFF1ZXJ5Q2FjaGUoKS5maW5kKGdldEFycmF5UXVlcnlLZXkocGF0aEFuZElucHV0LCB0eXBlKSk/LnN0YXRlLnN0YXR1cyA9PT0gJ2Vycm9yJyA/IHtcbiAgICAgICAgICAgIHJldHJ5T25Nb3VudDogZmFsc2UsXG4gICAgICAgICAgICAuLi5vcHRzXG4gICAgICAgIH0gOiBvcHRzO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1c2VRdWVyeSQxKC8vIEZJWE1FIHBhdGggc2hvdWxkIGJlIGEgdHVwbGUgaW4gbmV4dCBtYWpvclxuICAgIHBhdGhBbmRJbnB1dCwgb3B0cykge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dCgpO1xuICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJldHJpZXZlIGFwcGxpY2F0aW9uIGNvbnRleHQuIERpZCB5b3UgZm9yZ2V0IHRvIHdyYXAgeW91ciBBcHAgaW5zaWRlIGB3aXRoVFJQQ2AgSG9DPycpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgYWJvcnRPblVubW91bnQgLCBjbGllbnQgLCBzc3JTdGF0ZSAsIHF1ZXJ5Q2xpZW50ICwgcHJlZmV0Y2hRdWVyeSAgfSA9IGNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRPcHRzID0gcXVlcnlDbGllbnQuZ2V0UXVlcnlEZWZhdWx0cyhnZXRBcnJheVF1ZXJ5S2V5KHBhdGhBbmRJbnB1dCwgJ3F1ZXJ5JykpO1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgJiYgc3NyU3RhdGUgPT09ICdwcmVwYXNzJyAmJiBvcHRzPy50cnBjPy5zc3IgIT09IGZhbHNlICYmIChvcHRzPy5lbmFibGVkID8/IGRlZmF1bHRPcHRzPy5lbmFibGVkKSAhPT0gZmFsc2UgJiYgIXF1ZXJ5Q2xpZW50LmdldFF1ZXJ5Q2FjaGUoKS5maW5kKGdldEFycmF5UXVlcnlLZXkocGF0aEFuZElucHV0LCAncXVlcnknKSkpIHtcbiAgICAgICAgICAgIHZvaWQgcHJlZmV0Y2hRdWVyeShwYXRoQW5kSW5wdXQsIG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNzck9wdHMgPSB1c2VTU1JRdWVyeU9wdGlvbnNJZk5lZWRlZChwYXRoQW5kSW5wdXQsICdxdWVyeScsIHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRPcHRzLFxuICAgICAgICAgICAgLi4ub3B0c1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc2hvdWxkQWJvcnRPblVubW91bnQgPSBvcHRzPy50cnBjPy5hYm9ydE9uVW5tb3VudCA/PyBjb25maWc/LmFib3J0T25Vbm1vdW50ID8/IGFib3J0T25Vbm1vdW50O1xuICAgICAgICBjb25zdCBob29rID0gdXNlUXVlcnkoe1xuICAgICAgICAgICAgLi4uc3NyT3B0cyxcbiAgICAgICAgICAgIHF1ZXJ5S2V5OiBnZXRBcnJheVF1ZXJ5S2V5KHBhdGhBbmRJbnB1dCwgJ3F1ZXJ5JyksXG4gICAgICAgICAgICBxdWVyeUZuOiAocXVlcnlGdW5jdGlvbkNvbnRleHQpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0dWFsT3B0cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uc3NyT3B0cyxcbiAgICAgICAgICAgICAgICAgICAgdHJwYzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3NyT3B0cz8udHJwYyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnNob3VsZEFib3J0T25Vbm1vdW50ID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbDogcXVlcnlGdW5jdGlvbkNvbnRleHQuc2lnbmFsXG4gICAgICAgICAgICAgICAgICAgICAgICB9IDoge31cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5xdWVyeSguLi5nZXRDbGllbnRBcmdzKHBhdGhBbmRJbnB1dCwgYWN0dWFsT3B0cykpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRleHQ6IFJlYWN0UXVlcnlDb250ZXh0XG4gICAgICAgIH0pO1xuICAgICAgICBob29rLnRycGMgPSB1c2VIb29rUmVzdWx0KHtcbiAgICAgICAgICAgIHBhdGg6IHBhdGhBbmRJbnB1dFswXVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGhvb2s7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVzZU11dGF0aW9uJDEoLy8gRklYTUU6IHRoaXMgc2hvdWxkIG9ubHkgYmUgYSB0dXBsZSBwYXRoIGluIG5leHQgbWFqb3JcbiAgICBwYXRoLCBvcHRzKSB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50ICB9ID0gdXNlQ29udGV4dCgpO1xuICAgICAgICBjb25zdCBxdWVyeUNsaWVudCA9IHVzZVF1ZXJ5Q2xpZW50KHtcbiAgICAgICAgICAgIGNvbnRleHQ6IFJlYWN0UXVlcnlDb250ZXh0XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBhY3R1YWxQYXRoID0gQXJyYXkuaXNBcnJheShwYXRoKSA/IHBhdGhbMF0gOiBwYXRoO1xuICAgICAgICBjb25zdCBkZWZhdWx0T3B0cyA9IHF1ZXJ5Q2xpZW50LmdldE11dGF0aW9uRGVmYXVsdHMoW1xuICAgICAgICAgICAgYWN0dWFsUGF0aC5zcGxpdCgnLicpXG4gICAgICAgIF0pO1xuICAgICAgICBjb25zdCBob29rID0gdXNlTXV0YXRpb24oe1xuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgICAgIG11dGF0aW9uS2V5OiBbXG4gICAgICAgICAgICAgICAgYWN0dWFsUGF0aC5zcGxpdCgnLicpXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgbXV0YXRpb25GbjogKGlucHV0KT0+e1xuICAgICAgICAgICAgICAgIHJldHVybiBjbGllbnQubXV0YXRpb24oLi4uZ2V0Q2xpZW50QXJncyhbXG4gICAgICAgICAgICAgICAgICAgIGFjdHVhbFBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0XG4gICAgICAgICAgICAgICAgXSwgb3B0cykpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRleHQ6IFJlYWN0UXVlcnlDb250ZXh0LFxuICAgICAgICAgICAgb25TdWNjZXNzICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxGbiA9ICgpPT5vcHRzPy5vblN1Y2Nlc3M/LiguLi5hcmdzKSA/PyBkZWZhdWx0T3B0cz8ub25TdWNjZXNzPy4oLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG11dGF0aW9uU3VjY2Vzc092ZXJyaWRlKHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxGbixcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlDbGllbnQsXG4gICAgICAgICAgICAgICAgICAgIG1ldGE6IG9wdHM/Lm1ldGEgPz8gZGVmYXVsdE9wdHM/Lm1ldGEgPz8ge31cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGhvb2sudHJwYyA9IHVzZUhvb2tSZXN1bHQoe1xuICAgICAgICAgICAgcGF0aDogYWN0dWFsUGF0aFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGhvb2s7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0tIEBwcmVzZXJ2ZSAqLyBmdW5jdGlvbiB1c2VTdWJzY3JpcHRpb24ocGF0aEFuZElucHV0LCBvcHRzKSB7XG4gICAgICAgIGNvbnN0IGVuYWJsZWQgPSBvcHRzPy5lbmFibGVkID8/IHRydWU7XG4gICAgICAgIGNvbnN0IHF1ZXJ5S2V5ID0gaGFzaFF1ZXJ5S2V5KHBhdGhBbmRJbnB1dCk7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50ICB9ID0gdXNlQ29udGV4dCgpO1xuICAgICAgICBjb25zdCBvcHRzUmVmID0gdXNlUmVmKG9wdHMpO1xuICAgICAgICBvcHRzUmVmLmN1cnJlbnQgPSBvcHRzO1xuICAgICAgICB1c2VFZmZlY3QoKCk9PntcbiAgICAgICAgICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IFtwYXRoLCBpbnB1dF0gPSBwYXRoQW5kSW5wdXQ7XG4gICAgICAgICAgICBsZXQgaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBjbGllbnQuc3Vic2NyaXB0aW9uKHBhdGgsIGlucHV0ID8/IHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgICAgIG9uU3RhcnRlZDogKCk9PntcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1N0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHNSZWYuY3VycmVudC5vblN0YXJ0ZWQ/LigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkRhdGE6IChkYXRhKT0+e1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzU3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklYTUUgdGhpcyBzaG91bGRuJ3QgYmUgbmVlZGVkIGFzIGJvdGggc2hvdWxkIGJlIGB1bmtub3duYCBpbiBuZXh0IG1ham9yXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzUmVmLmN1cnJlbnQub25EYXRhKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkVycm9yOiAoZXJyKT0+e1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzU3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0c1JlZi5jdXJyZW50Lm9uRXJyb3I/LihlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gKCk9PntcbiAgICAgICAgICAgICAgICBpc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgICAgICB9LCBbXG4gICAgICAgICAgICBxdWVyeUtleSxcbiAgICAgICAgICAgIGVuYWJsZWRcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVzZUluZmluaXRlUXVlcnkkMShwYXRoQW5kSW5wdXQsIG9wdHMpIHtcbiAgICAgICAgY29uc3QgW3BhdGgsIGlucHV0XSA9IHBhdGhBbmRJbnB1dDtcbiAgICAgICAgY29uc3QgeyBjbGllbnQgLCBzc3JTdGF0ZSAsIHByZWZldGNoSW5maW5pdGVRdWVyeSAsIHF1ZXJ5Q2xpZW50ICwgYWJvcnRPblVubW91bnQgLCAgfSA9IHVzZUNvbnRleHQoKTtcbiAgICAgICAgY29uc3QgZGVmYXVsdE9wdHMgPSBxdWVyeUNsaWVudC5nZXRRdWVyeURlZmF1bHRzKGdldEFycmF5UXVlcnlLZXkocGF0aEFuZElucHV0LCAnaW5maW5pdGUnKSk7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyAmJiBzc3JTdGF0ZSA9PT0gJ3ByZXBhc3MnICYmIG9wdHM/LnRycGM/LnNzciAhPT0gZmFsc2UgJiYgKG9wdHM/LmVuYWJsZWQgPz8gZGVmYXVsdE9wdHM/LmVuYWJsZWQpICE9PSBmYWxzZSAmJiAhcXVlcnlDbGllbnQuZ2V0UXVlcnlDYWNoZSgpLmZpbmQoZ2V0QXJyYXlRdWVyeUtleShwYXRoQW5kSW5wdXQsICdpbmZpbml0ZScpKSkge1xuICAgICAgICAgICAgdm9pZCBwcmVmZXRjaEluZmluaXRlUXVlcnkocGF0aEFuZElucHV0LCB7XG4gICAgICAgICAgICAgICAgLi4uZGVmYXVsdE9wdHMsXG4gICAgICAgICAgICAgICAgLi4ub3B0c1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3NyT3B0cyA9IHVzZVNTUlF1ZXJ5T3B0aW9uc0lmTmVlZGVkKHBhdGhBbmRJbnB1dCwgJ2luZmluaXRlJywge1xuICAgICAgICAgICAgLi4uZGVmYXVsdE9wdHMsXG4gICAgICAgICAgICAuLi5vcHRzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyByZXF1ZXN0IG9wdGlvbiBzaG91bGQgdGFrZSBwcmlvcml0eSBvdmVyIGdsb2JhbFxuICAgICAgICBjb25zdCBzaG91bGRBYm9ydE9uVW5tb3VudCA9IG9wdHM/LnRycGM/LmFib3J0T25Vbm1vdW50ID8/IGFib3J0T25Vbm1vdW50O1xuICAgICAgICBjb25zdCBob29rID0gdXNlSW5maW5pdGVRdWVyeSh7XG4gICAgICAgICAgICAuLi5zc3JPcHRzLFxuICAgICAgICAgICAgcXVlcnlLZXk6IGdldEFycmF5UXVlcnlLZXkocGF0aEFuZElucHV0LCAnaW5maW5pdGUnKSxcbiAgICAgICAgICAgIHF1ZXJ5Rm46IChxdWVyeUZ1bmN0aW9uQ29udGV4dCk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBhY3R1YWxPcHRzID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5zc3JPcHRzLFxuICAgICAgICAgICAgICAgICAgICB0cnBjOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5zc3JPcHRzPy50cnBjLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc2hvdWxkQWJvcnRPblVubW91bnQgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBxdWVyeUZ1bmN0aW9uQ29udGV4dC5zaWduYWxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gOiB7fVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3R1YWxJbnB1dCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uaW5wdXQgPz8ge30sXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcXVlcnlGdW5jdGlvbkNvbnRleHQucGFnZVBhcmFtID8/IG9wdHM/LmluaXRpYWxDdXJzb3JcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FIGFzIGFueSBzaG91bGRuJ3QgYmUgbmVlZGVkIGFzIGNsaWVudCBzaG91bGQgYmUgdW50eXBlZCB0b29cbiAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LnF1ZXJ5KC4uLmdldENsaWVudEFyZ3MoW1xuICAgICAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgICAgICBhY3R1YWxJbnB1dFxuICAgICAgICAgICAgICAgIF0sIGFjdHVhbE9wdHMpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250ZXh0OiBSZWFjdFF1ZXJ5Q29udGV4dFxuICAgICAgICB9KTtcbiAgICAgICAgaG9vay50cnBjID0gdXNlSG9va1Jlc3VsdCh7XG4gICAgICAgICAgICBwYXRoXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaG9vaztcbiAgICB9XG4gICAgY29uc3QgdXNlUXVlcmllcyQxID0gKHF1ZXJpZXNDYWxsYmFjaywgY29udGV4dCk9PntcbiAgICAgICAgY29uc3QgeyBzc3JTdGF0ZSAsIHF1ZXJ5Q2xpZW50ICwgcHJlZmV0Y2hRdWVyeSAsIGNsaWVudCAgfSA9IHVzZUNvbnRleHQoKTtcbiAgICAgICAgY29uc3QgcHJveHkgPSBjcmVhdGVVc2VRdWVyaWVzUHJveHkoY2xpZW50KTtcbiAgICAgICAgY29uc3QgcXVlcmllcyA9IHF1ZXJpZXNDYWxsYmFjayhwcm94eSk7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyAmJiBzc3JTdGF0ZSA9PT0gJ3ByZXBhc3MnKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHF1ZXJ5IG9mIHF1ZXJpZXMpe1xuICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5T3B0aW9uID0gcXVlcnk7XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXJ5T3B0aW9uLnRycGM/LnNzciAhPT0gZmFsc2UgJiYgIXF1ZXJ5Q2xpZW50LmdldFF1ZXJ5Q2FjaGUoKS5maW5kKGdldEFycmF5UXVlcnlLZXkocXVlcnlPcHRpb24ucXVlcnlLZXksICdxdWVyeScpKSkge1xuICAgICAgICAgICAgICAgICAgICB2b2lkIHByZWZldGNoUXVlcnkocXVlcnlPcHRpb24ucXVlcnlLZXksIHF1ZXJ5T3B0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVzZVF1ZXJpZXMoe1xuICAgICAgICAgICAgcXVlcmllczogcXVlcmllcy5tYXAoKHF1ZXJ5KT0+KHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucXVlcnksXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5S2V5OiBnZXRBcnJheVF1ZXJ5S2V5KHF1ZXJ5LnF1ZXJ5S2V5LCAncXVlcnknKVxuICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCB1c2VEZWh5ZHJhdGVkU3RhdGUgPSAoY2xpZW50LCB0cnBjU3RhdGUpPT57XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkID0gdXNlTWVtbygoKT0+e1xuICAgICAgICAgICAgaWYgKCF0cnBjU3RhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJwY1N0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5ydW50aW1lLnRyYW5zZm9ybWVyLmRlc2VyaWFsaXplKHRycGNTdGF0ZSk7XG4gICAgICAgIH0sIFtcbiAgICAgICAgICAgIHRycGNTdGF0ZSxcbiAgICAgICAgICAgIGNsaWVudFxuICAgICAgICBdKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVkO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgUHJvdmlkZXI6IFRSUENQcm92aWRlcixcbiAgICAgICAgY3JlYXRlQ2xpZW50LFxuICAgICAgICB1c2VDb250ZXh0LFxuICAgICAgICB1c2VVdGlsczogdXNlQ29udGV4dCxcbiAgICAgICAgdXNlUXVlcnk6IHVzZVF1ZXJ5JDEsXG4gICAgICAgIHVzZVF1ZXJpZXM6IHVzZVF1ZXJpZXMkMSxcbiAgICAgICAgdXNlTXV0YXRpb246IHVzZU11dGF0aW9uJDEsXG4gICAgICAgIHVzZVN1YnNjcmlwdGlvbixcbiAgICAgICAgdXNlRGVoeWRyYXRlZFN0YXRlLFxuICAgICAgICB1c2VJbmZpbml0ZVF1ZXJ5OiB1c2VJbmZpbml0ZVF1ZXJ5JDFcbiAgICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZSBzdHJvbmdseSB0eXBlZCByZWFjdCBob29rc1xuICogQGludGVybmFsXG4gKiBAZGVwcmVjYXRlZFxuICovIGZ1bmN0aW9uIGNyZWF0ZUhvb2tzSW50ZXJuYWwoY29uZmlnKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJvb3RIb29rcyhjb25maWcpO1xufVxuXG5leHBvcnQgeyBUUlBDQ29udGV4dCBhcyBULCBjcmVhdGVSZWFjdFF1ZXJ5VXRpbHNQcm94eSBhcyBhLCBjcmVhdGVSZWFjdFByb3h5RGVjb3JhdGlvbiBhcyBiLCBjcmVhdGVIb29rc0ludGVybmFsIGFzIGMsIGdldENsaWVudEFyZ3MgYXMgZCwgY3JlYXRlVXNlUXVlcmllc1Byb3h5IGFzIGUsIGNyZWF0ZVJvb3RIb29rcyBhcyBmLCBnZXRRdWVyeUtleSBhcyBnLCBjb250ZXh0UHJvcHMgYXMgaCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/react-query/dist/createHooksInternal-bdff7171.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/react-query/dist/getArrayQueryKey-86134f8b.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@trpc/react-query/dist/getArrayQueryKey-86134f8b.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   g: () => (/* binding */ getArrayQueryKey)\n/* harmony export */ });\n/**\n * To allow easy interactions with groups of related queries, such as\n * invalidating all queries of a router, we use an array as the path when\n * storing in tanstack query. This function converts from the `.` separated\n * path passed around internally by both the legacy and proxy implementation.\n * https://github.com/trpc/trpc/issues/2611\n **/ function getArrayQueryKey(queryKey, type) {\n    const queryKeyArrayed = Array.isArray(queryKey) ? queryKey : [\n        queryKey\n    ];\n    const [path, input] = queryKeyArrayed;\n    const arrayPath = typeof path !== 'string' || path === '' ? [] : path.split('.');\n    // Construct a query key that is easy to destructure and flexible for\n    // partial selecting etc.\n    // https://github.com/trpc/trpc/issues/3128\n    if (!input && (!type || type === 'any')) // for `utils.invalidate()` to match all queries (including vanilla react-query)\n    // we don't want nested array if path is empty, i.e. `[]` instead of `[[]]`\n    return arrayPath.length ? [\n        arrayPath\n    ] : [];\n    return [\n        arrayPath,\n        {\n            ...typeof input !== 'undefined' && {\n                input: input\n            },\n            ...type && type !== 'any' && {\n                type: type\n            }\n        }\n    ];\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvcmVhY3QtcXVlcnkvZGlzdC9nZXRBcnJheVF1ZXJ5S2V5LTg2MTM0ZjhiLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9yZWFjdC1xdWVyeS9kaXN0L2dldEFycmF5UXVlcnlLZXktODYxMzRmOGIubWpzP2FiZTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUbyBhbGxvdyBlYXN5IGludGVyYWN0aW9ucyB3aXRoIGdyb3VwcyBvZiByZWxhdGVkIHF1ZXJpZXMsIHN1Y2ggYXNcbiAqIGludmFsaWRhdGluZyBhbGwgcXVlcmllcyBvZiBhIHJvdXRlciwgd2UgdXNlIGFuIGFycmF5IGFzIHRoZSBwYXRoIHdoZW5cbiAqIHN0b3JpbmcgaW4gdGFuc3RhY2sgcXVlcnkuIFRoaXMgZnVuY3Rpb24gY29udmVydHMgZnJvbSB0aGUgYC5gIHNlcGFyYXRlZFxuICogcGF0aCBwYXNzZWQgYXJvdW5kIGludGVybmFsbHkgYnkgYm90aCB0aGUgbGVnYWN5IGFuZCBwcm94eSBpbXBsZW1lbnRhdGlvbi5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS90cnBjL3RycGMvaXNzdWVzLzI2MTFcbiAqKi8gZnVuY3Rpb24gZ2V0QXJyYXlRdWVyeUtleShxdWVyeUtleSwgdHlwZSkge1xuICAgIGNvbnN0IHF1ZXJ5S2V5QXJyYXllZCA9IEFycmF5LmlzQXJyYXkocXVlcnlLZXkpID8gcXVlcnlLZXkgOiBbXG4gICAgICAgIHF1ZXJ5S2V5XG4gICAgXTtcbiAgICBjb25zdCBbcGF0aCwgaW5wdXRdID0gcXVlcnlLZXlBcnJheWVkO1xuICAgIGNvbnN0IGFycmF5UGF0aCA9IHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJyB8fCBwYXRoID09PSAnJyA/IFtdIDogcGF0aC5zcGxpdCgnLicpO1xuICAgIC8vIENvbnN0cnVjdCBhIHF1ZXJ5IGtleSB0aGF0IGlzIGVhc3kgdG8gZGVzdHJ1Y3R1cmUgYW5kIGZsZXhpYmxlIGZvclxuICAgIC8vIHBhcnRpYWwgc2VsZWN0aW5nIGV0Yy5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdHJwYy90cnBjL2lzc3Vlcy8zMTI4XG4gICAgaWYgKCFpbnB1dCAmJiAoIXR5cGUgfHwgdHlwZSA9PT0gJ2FueScpKSAvLyBmb3IgYHV0aWxzLmludmFsaWRhdGUoKWAgdG8gbWF0Y2ggYWxsIHF1ZXJpZXMgKGluY2x1ZGluZyB2YW5pbGxhIHJlYWN0LXF1ZXJ5KVxuICAgIC8vIHdlIGRvbid0IHdhbnQgbmVzdGVkIGFycmF5IGlmIHBhdGggaXMgZW1wdHksIGkuZS4gYFtdYCBpbnN0ZWFkIG9mIGBbW11dYFxuICAgIHJldHVybiBhcnJheVBhdGgubGVuZ3RoID8gW1xuICAgICAgICBhcnJheVBhdGhcbiAgICBdIDogW107XG4gICAgcmV0dXJuIFtcbiAgICAgICAgYXJyYXlQYXRoLFxuICAgICAgICB7XG4gICAgICAgICAgICAuLi50eXBlb2YgaW5wdXQgIT09ICd1bmRlZmluZWQnICYmIHtcbiAgICAgICAgICAgICAgICBpbnB1dDogaW5wdXRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAuLi50eXBlICYmIHR5cGUgIT09ICdhbnknICYmIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBdO1xufVxuXG5leHBvcnQgeyBnZXRBcnJheVF1ZXJ5S2V5IGFzIGcgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/react-query/dist/getArrayQueryKey-86134f8b.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/react-query/dist/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@trpc/react-query/dist/index.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TRPCClientError: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.TRPCClientError),\n/* harmony export */   TRPCUntypedClient: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.TRPCUntypedClient),\n/* harmony export */   clientCallTypeToProcedureType: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.clientCallTypeToProcedureType),\n/* harmony export */   createReactQueryHooks: () => (/* binding */ createReactQueryHooks),\n/* harmony export */   createTRPCClient: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.createTRPCClient),\n/* harmony export */   createTRPCClientProxy: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.createTRPCClientProxy),\n/* harmony export */   createTRPCProxyClient: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.createTRPCProxyClient),\n/* harmony export */   createTRPCReact: () => (/* binding */ createTRPCReact),\n/* harmony export */   createTRPCUntypedClient: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.createTRPCUntypedClient),\n/* harmony export */   createWSClient: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.createWSClient),\n/* harmony export */   experimental_formDataLink: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.experimental_formDataLink),\n/* harmony export */   getFetch: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.getFetch),\n/* harmony export */   getQueryKey: () => (/* reexport safe */ _createHooksInternal_bdff7171_mjs__WEBPACK_IMPORTED_MODULE_1__.g),\n/* harmony export */   getUntypedClient: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.getUntypedClient),\n/* harmony export */   httpBatchLink: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.httpBatchLink),\n/* harmony export */   httpLink: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.httpLink),\n/* harmony export */   httpLinkFactory: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.httpLinkFactory),\n/* harmony export */   loggerLink: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.loggerLink),\n/* harmony export */   splitLink: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.splitLink),\n/* harmony export */   unstable_httpBatchStreamLink: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.unstable_httpBatchStreamLink),\n/* harmony export */   wsLink: () => (/* reexport safe */ _trpc_client__WEBPACK_IMPORTED_MODULE_0__.wsLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/client */ \"(ssr)/./node_modules/@trpc/client/dist/index.mjs\");\n/* harmony import */ var _createHooksInternal_bdff7171_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./createHooksInternal-bdff7171.mjs */ \"(ssr)/./node_modules/@trpc/react-query/dist/createHooksInternal-bdff7171.mjs\");\n/* harmony import */ var _trpc_server_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @trpc/server/shared */ \"(ssr)/./node_modules/@trpc/server/dist/shared/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _getArrayQueryKey_86134f8b_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getArrayQueryKey-86134f8b.mjs */ \"(ssr)/./node_modules/@trpc/react-query/dist/getArrayQueryKey-86134f8b.mjs\");\n\n\n\n\n\n\n\n\n/**\n * @internal\n */ function createHooksInternalProxy(trpc) {\n    return (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_2__.createFlatProxy)((key)=>{\n        if (key === 'useContext' || key === 'useUtils') {\n            return ()=>{\n                const context = trpc.useUtils();\n                // create a stable reference of the utils context\n                return (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>{\n                    return (0,_createHooksInternal_bdff7171_mjs__WEBPACK_IMPORTED_MODULE_1__.a)(context);\n                }, [\n                    context\n                ]);\n            };\n        }\n        if (trpc.hasOwnProperty(key)) {\n            return trpc[key];\n        }\n        return (0,_createHooksInternal_bdff7171_mjs__WEBPACK_IMPORTED_MODULE_1__.b)(key, trpc);\n    });\n}\nfunction createTRPCReact(opts) {\n    const hooks = (0,_createHooksInternal_bdff7171_mjs__WEBPACK_IMPORTED_MODULE_1__.c)(opts);\n    const proxy = createHooksInternalProxy(hooks);\n    return proxy;\n}\n\n// interop:\n/**\n * @deprecated use `createTRPCReact` instead\n */ function createReactQueryHooks(opts) {\n    const trpc = (0,_createHooksInternal_bdff7171_mjs__WEBPACK_IMPORTED_MODULE_1__.c)(opts);\n    const proxy = createHooksInternalProxy(trpc);\n    return {\n        ...trpc,\n        proxy\n    };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvcmVhY3QtcXVlcnkvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNkI7QUFDbUg7QUFDMUU7QUFDaEI7QUFDdEI7QUFDRDtBQUNVOztBQUV6QztBQUNBO0FBQ0E7QUFDQSxXQUFXLG9FQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDhDQUFPO0FBQzlCLDJCQUEyQixvRUFBMEI7QUFDckQsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvRUFBMEI7QUFDekMsS0FBSztBQUNMO0FBQ0E7QUFDQSxrQkFBa0Isb0VBQW1CO0FBQ3JDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixvRUFBbUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVrRCIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9yZWFjdC1xdWVyeS9kaXN0L2luZGV4Lm1qcz9lYzk2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJ0B0cnBjL2NsaWVudCc7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUhvb2tzSW50ZXJuYWwsIGEgYXMgY3JlYXRlUmVhY3RRdWVyeVV0aWxzUHJveHksIGIgYXMgY3JlYXRlUmVhY3RQcm94eURlY29yYXRpb24gfSBmcm9tICcuL2NyZWF0ZUhvb2tzSW50ZXJuYWwtYmRmZjcxNzEubWpzJztcbmV4cG9ydCB7IGcgYXMgZ2V0UXVlcnlLZXkgfSBmcm9tICcuL2NyZWF0ZUhvb2tzSW50ZXJuYWwtYmRmZjcxNzEubWpzJztcbmltcG9ydCB7IGNyZWF0ZUZsYXRQcm94eSB9IGZyb20gJ0B0cnBjL3NlcnZlci9zaGFyZWQnO1xuaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JztcbmltcG9ydCAnLi9nZXRBcnJheVF1ZXJ5S2V5LTg2MTM0ZjhiLm1qcyc7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gY3JlYXRlSG9va3NJbnRlcm5hbFByb3h5KHRycGMpIHtcbiAgICByZXR1cm4gY3JlYXRlRmxhdFByb3h5KChrZXkpPT57XG4gICAgICAgIGlmIChrZXkgPT09ICd1c2VDb250ZXh0JyB8fCBrZXkgPT09ICd1c2VVdGlscycpIHtcbiAgICAgICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB0cnBjLnVzZVV0aWxzKCk7XG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIGEgc3RhYmxlIHJlZmVyZW5jZSBvZiB0aGUgdXRpbHMgY29udGV4dFxuICAgICAgICAgICAgICAgIHJldHVybiB1c2VNZW1vKCgpPT57XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVSZWFjdFF1ZXJ5VXRpbHNQcm94eShjb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9LCBbXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRycGMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRycGNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlYXRlUmVhY3RQcm94eURlY29yYXRpb24oa2V5LCB0cnBjKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRSUENSZWFjdChvcHRzKSB7XG4gICAgY29uc3QgaG9va3MgPSBjcmVhdGVIb29rc0ludGVybmFsKG9wdHMpO1xuICAgIGNvbnN0IHByb3h5ID0gY3JlYXRlSG9va3NJbnRlcm5hbFByb3h5KGhvb2tzKTtcbiAgICByZXR1cm4gcHJveHk7XG59XG5cbi8vIGludGVyb3A6XG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBgY3JlYXRlVFJQQ1JlYWN0YCBpbnN0ZWFkXG4gKi8gZnVuY3Rpb24gY3JlYXRlUmVhY3RRdWVyeUhvb2tzKG9wdHMpIHtcbiAgICBjb25zdCB0cnBjID0gY3JlYXRlSG9va3NJbnRlcm5hbChvcHRzKTtcbiAgICBjb25zdCBwcm94eSA9IGNyZWF0ZUhvb2tzSW50ZXJuYWxQcm94eSh0cnBjKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi50cnBjLFxuICAgICAgICBwcm94eVxuICAgIH07XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVJlYWN0UXVlcnlIb29rcywgY3JlYXRlVFJQQ1JlYWN0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/react-query/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@trpc/server/dist/codes-c924c3db.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   T: () => (/* binding */ TRPC_ERROR_CODES_BY_KEY),\n/* harmony export */   a: () => (/* binding */ TRPC_ERROR_CODES_BY_NUMBER),\n/* harmony export */   i: () => (/* binding */ invert)\n/* harmony export */ });\n/**\n * @internal\n */ function invert(obj) {\n    const newObj = Object.create(null);\n    for(const key in obj){\n        const v = obj[key];\n        newObj[v] = key;\n    }\n    return newObj;\n}\n\n// reference: https://www.jsonrpc.org/specification\n/**\n * JSON-RPC 2.0 Error codes\n *\n * `-32000` to `-32099` are reserved for implementation-defined server-errors.\n * For tRPC we're copying the last digits of HTTP 4XX errors.\n */ const TRPC_ERROR_CODES_BY_KEY = {\n    /**\n   * Invalid JSON was received by the server.\n   * An error occurred on the server while parsing the JSON text.\n   */ PARSE_ERROR: -32700,\n    /**\n   * The JSON sent is not a valid Request object.\n   */ BAD_REQUEST: -32600,\n    // Internal JSON-RPC error\n    INTERNAL_SERVER_ERROR: -32603,\n    NOT_IMPLEMENTED: -32603,\n    // Implementation specific errors\n    UNAUTHORIZED: -32001,\n    FORBIDDEN: -32003,\n    NOT_FOUND: -32004,\n    METHOD_NOT_SUPPORTED: -32005,\n    TIMEOUT: -32008,\n    CONFLICT: -32009,\n    PRECONDITION_FAILED: -32012,\n    PAYLOAD_TOO_LARGE: -32013,\n    UNPROCESSABLE_CONTENT: -32022,\n    TOO_MANY_REQUESTS: -32029,\n    CLIENT_CLOSED_REQUEST: -32099\n};\nconst TRPC_ERROR_CODES_BY_NUMBER = invert(TRPC_ERROR_CODES_BY_KEY);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvY29kZXMtYzkyNGMzZGIubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVzRiIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9zZXJ2ZXIvZGlzdC9jb2Rlcy1jOTI0YzNkYi5tanM/N2RmNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIGludmVydChvYmopIHtcbiAgICBjb25zdCBuZXdPYmogPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvcihjb25zdCBrZXkgaW4gb2JqKXtcbiAgICAgICAgY29uc3QgdiA9IG9ialtrZXldO1xuICAgICAgICBuZXdPYmpbdl0gPSBrZXk7XG4gICAgfVxuICAgIHJldHVybiBuZXdPYmo7XG59XG5cbi8vIHJlZmVyZW5jZTogaHR0cHM6Ly93d3cuanNvbnJwYy5vcmcvc3BlY2lmaWNhdGlvblxuLyoqXG4gKiBKU09OLVJQQyAyLjAgRXJyb3IgY29kZXNcbiAqXG4gKiBgLTMyMDAwYCB0byBgLTMyMDk5YCBhcmUgcmVzZXJ2ZWQgZm9yIGltcGxlbWVudGF0aW9uLWRlZmluZWQgc2VydmVyLWVycm9ycy5cbiAqIEZvciB0UlBDIHdlJ3JlIGNvcHlpbmcgdGhlIGxhc3QgZGlnaXRzIG9mIEhUVFAgNFhYIGVycm9ycy5cbiAqLyBjb25zdCBUUlBDX0VSUk9SX0NPREVTX0JZX0tFWSA9IHtcbiAgICAvKipcbiAgICogSW52YWxpZCBKU09OIHdhcyByZWNlaXZlZCBieSB0aGUgc2VydmVyLlxuICAgKiBBbiBlcnJvciBvY2N1cnJlZCBvbiB0aGUgc2VydmVyIHdoaWxlIHBhcnNpbmcgdGhlIEpTT04gdGV4dC5cbiAgICovIFBBUlNFX0VSUk9SOiAtMzI3MDAsXG4gICAgLyoqXG4gICAqIFRoZSBKU09OIHNlbnQgaXMgbm90IGEgdmFsaWQgUmVxdWVzdCBvYmplY3QuXG4gICAqLyBCQURfUkVRVUVTVDogLTMyNjAwLFxuICAgIC8vIEludGVybmFsIEpTT04tUlBDIGVycm9yXG4gICAgSU5URVJOQUxfU0VSVkVSX0VSUk9SOiAtMzI2MDMsXG4gICAgTk9UX0lNUExFTUVOVEVEOiAtMzI2MDMsXG4gICAgLy8gSW1wbGVtZW50YXRpb24gc3BlY2lmaWMgZXJyb3JzXG4gICAgVU5BVVRIT1JJWkVEOiAtMzIwMDEsXG4gICAgRk9SQklEREVOOiAtMzIwMDMsXG4gICAgTk9UX0ZPVU5EOiAtMzIwMDQsXG4gICAgTUVUSE9EX05PVF9TVVBQT1JURUQ6IC0zMjAwNSxcbiAgICBUSU1FT1VUOiAtMzIwMDgsXG4gICAgQ09ORkxJQ1Q6IC0zMjAwOSxcbiAgICBQUkVDT05ESVRJT05fRkFJTEVEOiAtMzIwMTIsXG4gICAgUEFZTE9BRF9UT09fTEFSR0U6IC0zMjAxMyxcbiAgICBVTlBST0NFU1NBQkxFX0NPTlRFTlQ6IC0zMjAyMixcbiAgICBUT09fTUFOWV9SRVFVRVNUUzogLTMyMDI5LFxuICAgIENMSUVOVF9DTE9TRURfUkVRVUVTVDogLTMyMDk5XG59O1xuY29uc3QgVFJQQ19FUlJPUl9DT0RFU19CWV9OVU1CRVIgPSBpbnZlcnQoVFJQQ19FUlJPUl9DT0RFU19CWV9LRVkpO1xuXG5leHBvcnQgeyBUUlBDX0VSUk9SX0NPREVTX0JZX0tFWSBhcyBULCBUUlBDX0VSUk9SX0NPREVTX0JZX05VTUJFUiBhcyBhLCBpbnZlcnQgYXMgaSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/server/dist/index-f91d720c.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@trpc/server/dist/index-f91d720c.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   T: () => (/* binding */ TRPC_ERROR_CODES_BY_NUMBER),\n/* harmony export */   a: () => (/* binding */ createRecursiveProxy),\n/* harmony export */   b: () => (/* binding */ getHTTPStatusCode),\n/* harmony export */   c: () => (/* binding */ createFlatProxy),\n/* harmony export */   g: () => (/* binding */ getHTTPStatusCodeFromError)\n/* harmony export */ });\n/* harmony import */ var _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./codes-c924c3db.mjs */ \"(ssr)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs\");\n\n\nconst TRPC_ERROR_CODES_BY_NUMBER = (0,_codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(_codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_0__.T);\nconst JSONRPC2_TO_HTTP_CODE = {\n    PARSE_ERROR: 400,\n    BAD_REQUEST: 400,\n    UNAUTHORIZED: 401,\n    NOT_FOUND: 404,\n    FORBIDDEN: 403,\n    METHOD_NOT_SUPPORTED: 405,\n    TIMEOUT: 408,\n    CONFLICT: 409,\n    PRECONDITION_FAILED: 412,\n    PAYLOAD_TOO_LARGE: 413,\n    UNPROCESSABLE_CONTENT: 422,\n    TOO_MANY_REQUESTS: 429,\n    CLIENT_CLOSED_REQUEST: 499,\n    INTERNAL_SERVER_ERROR: 500,\n    NOT_IMPLEMENTED: 501\n};\nfunction getStatusCodeFromKey(code) {\n    return JSONRPC2_TO_HTTP_CODE[code] ?? 500;\n}\nfunction getHTTPStatusCode(json) {\n    const arr = Array.isArray(json) ? json : [\n        json\n    ];\n    const httpStatuses = new Set(arr.map((res)=>{\n        if ('error' in res) {\n            const data = res.error.data;\n            if (typeof data.httpStatus === 'number') {\n                return data.httpStatus;\n            }\n            const code = TRPC_ERROR_CODES_BY_NUMBER[res.error.code];\n            return getStatusCodeFromKey(code);\n        }\n        return 200;\n    }));\n    if (httpStatuses.size !== 1) {\n        return 207;\n    }\n    const httpStatus = httpStatuses.values().next().value;\n    return httpStatus;\n}\nfunction getHTTPStatusCodeFromError(error) {\n    return getStatusCodeFromKey(error.code);\n}\n\nconst noop = ()=>{\n// noop\n};\nfunction createInnerProxy(callback, path) {\n    const proxy = new Proxy(noop, {\n        get (_obj, key) {\n            if (typeof key !== 'string' || key === 'then') {\n                // special case for if the proxy is accidentally treated\n                // like a PromiseLike (like in `Promise.resolve(proxy)`)\n                return undefined;\n            }\n            return createInnerProxy(callback, [\n                ...path,\n                key\n            ]);\n        },\n        apply (_1, _2, args) {\n            const isApply = path[path.length - 1] === 'apply';\n            return callback({\n                args: isApply ? args.length >= 2 ? args[1] : [] : args,\n                path: isApply ? path.slice(0, -1) : path\n            });\n        }\n    });\n    return proxy;\n}\n/**\n * Creates a proxy that calls the callback with the path and arguments\n *\n * @internal\n */ const createRecursiveProxy = (callback)=>createInnerProxy(callback, []);\n/**\n * Used in place of `new Proxy` where each handler will map 1 level deep to another value.\n *\n * @internal\n */ const createFlatProxy = (callback)=>{\n    return new Proxy(noop, {\n        get (_obj, name) {\n            if (typeof name !== 'string' || name === 'then') {\n                // special case for if the proxy is accidentally treated\n                // like a PromiseLike (like in `Promise.resolve(proxy)`)\n                return undefined;\n            }\n            return callback(name);\n        }\n    });\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvaW5kZXgtZjkxZDcyMGMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFpRjs7QUFFakYsbUNBQW1DLHNEQUFNLENBQUMsa0RBQXVCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRXFKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdDMtYXBwLy4vbm9kZV9tb2R1bGVzL0B0cnBjL3NlcnZlci9kaXN0L2luZGV4LWY5MWQ3MjBjLm1qcz8wNTEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGkgYXMgaW52ZXJ0LCBUIGFzIFRSUENfRVJST1JfQ09ERVNfQllfS0VZIH0gZnJvbSAnLi9jb2Rlcy1jOTI0YzNkYi5tanMnO1xuXG5jb25zdCBUUlBDX0VSUk9SX0NPREVTX0JZX05VTUJFUiA9IGludmVydChUUlBDX0VSUk9SX0NPREVTX0JZX0tFWSk7XG5jb25zdCBKU09OUlBDMl9UT19IVFRQX0NPREUgPSB7XG4gICAgUEFSU0VfRVJST1I6IDQwMCxcbiAgICBCQURfUkVRVUVTVDogNDAwLFxuICAgIFVOQVVUSE9SSVpFRDogNDAxLFxuICAgIE5PVF9GT1VORDogNDA0LFxuICAgIEZPUkJJRERFTjogNDAzLFxuICAgIE1FVEhPRF9OT1RfU1VQUE9SVEVEOiA0MDUsXG4gICAgVElNRU9VVDogNDA4LFxuICAgIENPTkZMSUNUOiA0MDksXG4gICAgUFJFQ09ORElUSU9OX0ZBSUxFRDogNDEyLFxuICAgIFBBWUxPQURfVE9PX0xBUkdFOiA0MTMsXG4gICAgVU5QUk9DRVNTQUJMRV9DT05URU5UOiA0MjIsXG4gICAgVE9PX01BTllfUkVRVUVTVFM6IDQyOSxcbiAgICBDTElFTlRfQ0xPU0VEX1JFUVVFU1Q6IDQ5OSxcbiAgICBJTlRFUk5BTF9TRVJWRVJfRVJST1I6IDUwMCxcbiAgICBOT1RfSU1QTEVNRU5URUQ6IDUwMVxufTtcbmZ1bmN0aW9uIGdldFN0YXR1c0NvZGVGcm9tS2V5KGNvZGUpIHtcbiAgICByZXR1cm4gSlNPTlJQQzJfVE9fSFRUUF9DT0RFW2NvZGVdID8/IDUwMDtcbn1cbmZ1bmN0aW9uIGdldEhUVFBTdGF0dXNDb2RlKGpzb24pIHtcbiAgICBjb25zdCBhcnIgPSBBcnJheS5pc0FycmF5KGpzb24pID8ganNvbiA6IFtcbiAgICAgICAganNvblxuICAgIF07XG4gICAgY29uc3QgaHR0cFN0YXR1c2VzID0gbmV3IFNldChhcnIubWFwKChyZXMpPT57XG4gICAgICAgIGlmICgnZXJyb3InIGluIHJlcykge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5lcnJvci5kYXRhO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhLmh0dHBTdGF0dXMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuaHR0cFN0YXR1cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBUUlBDX0VSUk9SX0NPREVTX0JZX05VTUJFUltyZXMuZXJyb3IuY29kZV07XG4gICAgICAgICAgICByZXR1cm4gZ2V0U3RhdHVzQ29kZUZyb21LZXkoY29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDIwMDtcbiAgICB9KSk7XG4gICAgaWYgKGh0dHBTdGF0dXNlcy5zaXplICE9PSAxKSB7XG4gICAgICAgIHJldHVybiAyMDc7XG4gICAgfVxuICAgIGNvbnN0IGh0dHBTdGF0dXMgPSBodHRwU3RhdHVzZXMudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuICAgIHJldHVybiBodHRwU3RhdHVzO1xufVxuZnVuY3Rpb24gZ2V0SFRUUFN0YXR1c0NvZGVGcm9tRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4gZ2V0U3RhdHVzQ29kZUZyb21LZXkoZXJyb3IuY29kZSk7XG59XG5cbmNvbnN0IG5vb3AgPSAoKT0+e1xuLy8gbm9vcFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUlubmVyUHJveHkoY2FsbGJhY2ssIHBhdGgpIHtcbiAgICBjb25zdCBwcm94eSA9IG5ldyBQcm94eShub29wLCB7XG4gICAgICAgIGdldCAoX29iaiwga2V5KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycgfHwga2V5ID09PSAndGhlbicpIHtcbiAgICAgICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIGlmIHRoZSBwcm94eSBpcyBhY2NpZGVudGFsbHkgdHJlYXRlZFxuICAgICAgICAgICAgICAgIC8vIGxpa2UgYSBQcm9taXNlTGlrZSAobGlrZSBpbiBgUHJvbWlzZS5yZXNvbHZlKHByb3h5KWApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbm5lclByb3h5KGNhbGxiYWNrLCBbXG4gICAgICAgICAgICAgICAgLi4ucGF0aCxcbiAgICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9LFxuICAgICAgICBhcHBseSAoXzEsIF8yLCBhcmdzKSB7XG4gICAgICAgICAgICBjb25zdCBpc0FwcGx5ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdID09PSAnYXBwbHknO1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICBhcmdzOiBpc0FwcGx5ID8gYXJncy5sZW5ndGggPj0gMiA/IGFyZ3NbMV0gOiBbXSA6IGFyZ3MsXG4gICAgICAgICAgICAgICAgcGF0aDogaXNBcHBseSA/IHBhdGguc2xpY2UoMCwgLTEpIDogcGF0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcHJveHk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBwcm94eSB0aGF0IGNhbGxzIHRoZSBjYWxsYmFjayB3aXRoIHRoZSBwYXRoIGFuZCBhcmd1bWVudHNcbiAqXG4gKiBAaW50ZXJuYWxcbiAqLyBjb25zdCBjcmVhdGVSZWN1cnNpdmVQcm94eSA9IChjYWxsYmFjayk9PmNyZWF0ZUlubmVyUHJveHkoY2FsbGJhY2ssIFtdKTtcbi8qKlxuICogVXNlZCBpbiBwbGFjZSBvZiBgbmV3IFByb3h5YCB3aGVyZSBlYWNoIGhhbmRsZXIgd2lsbCBtYXAgMSBsZXZlbCBkZWVwIHRvIGFub3RoZXIgdmFsdWUuXG4gKlxuICogQGludGVybmFsXG4gKi8gY29uc3QgY3JlYXRlRmxhdFByb3h5ID0gKGNhbGxiYWNrKT0+e1xuICAgIHJldHVybiBuZXcgUHJveHkobm9vcCwge1xuICAgICAgICBnZXQgKF9vYmosIG5hbWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgbmFtZSA9PT0gJ3RoZW4nKSB7XG4gICAgICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBpZiB0aGUgcHJveHkgaXMgYWNjaWRlbnRhbGx5IHRyZWF0ZWRcbiAgICAgICAgICAgICAgICAvLyBsaWtlIGEgUHJvbWlzZUxpa2UgKGxpa2UgaW4gYFByb21pc2UucmVzb2x2ZShwcm94eSlgKVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobmFtZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IFRSUENfRVJST1JfQ09ERVNfQllfTlVNQkVSIGFzIFQsIGNyZWF0ZVJlY3Vyc2l2ZVByb3h5IGFzIGEsIGdldEhUVFBTdGF0dXNDb2RlIGFzIGIsIGNyZWF0ZUZsYXRQcm94eSBhcyBjLCBnZXRIVFRQU3RhdHVzQ29kZUZyb21FcnJvciBhcyBnIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/server/dist/index-f91d720c.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/server/dist/observable-ade1bad8.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@trpc/server/dist/observable-ade1bad8.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   i: () => (/* binding */ isObservable),\n/* harmony export */   o: () => (/* binding */ observable)\n/* harmony export */ });\nfunction identity(x) {\n    return x;\n}\n\n/** @internal */ function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce((prev, fn)=>fn(prev), input);\n    };\n}\n\nfunction isObservable(x) {\n    return typeof x === 'object' && x !== null && 'subscribe' in x;\n}\nfunction observable(subscribe) {\n    const self = {\n        subscribe (observer) {\n            let teardownRef = null;\n            let isDone = false;\n            let unsubscribed = false;\n            let teardownImmediately = false;\n            function unsubscribe() {\n                if (teardownRef === null) {\n                    teardownImmediately = true;\n                    return;\n                }\n                if (unsubscribed) {\n                    return;\n                }\n                unsubscribed = true;\n                if (typeof teardownRef === 'function') {\n                    teardownRef();\n                } else if (teardownRef) {\n                    teardownRef.unsubscribe();\n                }\n            }\n            teardownRef = subscribe({\n                next (value) {\n                    if (isDone) {\n                        return;\n                    }\n                    observer.next?.(value);\n                },\n                error (err) {\n                    if (isDone) {\n                        return;\n                    }\n                    isDone = true;\n                    observer.error?.(err);\n                    unsubscribe();\n                },\n                complete () {\n                    if (isDone) {\n                        return;\n                    }\n                    isDone = true;\n                    observer.complete?.();\n                    unsubscribe();\n                }\n            });\n            if (teardownImmediately) {\n                unsubscribe();\n            }\n            return {\n                unsubscribe\n            };\n        },\n        pipe (...operations) {\n            return pipeFromArray(operations)(self);\n        }\n    };\n    return self;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3Qvb2JzZXJ2YWJsZS1hZGUxYmFkOC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU4QyIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9zZXJ2ZXIvZGlzdC9vYnNlcnZhYmxlLWFkZTFiYWQ4Lm1qcz9hNjE1Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cblxuLyoqIEBpbnRlcm5hbCAqLyBmdW5jdGlvbiBwaXBlRnJvbUFycmF5KGZucykge1xuICAgIGlmIChmbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgcmV0dXJuIGZuc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBmbnMucmVkdWNlKChwcmV2LCBmbik9PmZuKHByZXYpLCBpbnB1dCk7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gaXNPYnNlcnZhYmxlKHgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHggPT09ICdvYmplY3QnICYmIHggIT09IG51bGwgJiYgJ3N1YnNjcmliZScgaW4geDtcbn1cbmZ1bmN0aW9uIG9ic2VydmFibGUoc3Vic2NyaWJlKSB7XG4gICAgY29uc3Qgc2VsZiA9IHtcbiAgICAgICAgc3Vic2NyaWJlIChvYnNlcnZlcikge1xuICAgICAgICAgICAgbGV0IHRlYXJkb3duUmVmID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBpc0RvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCB1bnN1YnNjcmliZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCB0ZWFyZG93bkltbWVkaWF0ZWx5ID0gZmFsc2U7XG4gICAgICAgICAgICBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGVhcmRvd25SZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGVhcmRvd25JbW1lZGlhdGVseSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHVuc3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZWFyZG93blJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0ZWFyZG93blJlZigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGVhcmRvd25SZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGVhcmRvd25SZWYudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZWFyZG93blJlZiA9IHN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgbmV4dCAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQ/Lih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvciAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0RvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcj8uKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0RvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZT8uKCk7XG4gICAgICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodGVhcmRvd25JbW1lZGlhdGVseSkge1xuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBwaXBlICguLi5vcGVyYXRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKShzZWxmKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHNlbGY7XG59XG5cbmV4cG9ydCB7IGlzT2JzZXJ2YWJsZSBhcyBpLCBvYnNlcnZhYmxlIGFzIG8gfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/server/dist/observable-ade1bad8.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/server/dist/observable/index.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@trpc/server/dist/observable/index.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isObservable: () => (/* reexport safe */ _observable_ade1bad8_mjs__WEBPACK_IMPORTED_MODULE_0__.i),\n/* harmony export */   map: () => (/* binding */ map),\n/* harmony export */   observable: () => (/* reexport safe */ _observable_ade1bad8_mjs__WEBPACK_IMPORTED_MODULE_0__.o),\n/* harmony export */   observableToPromise: () => (/* binding */ observableToPromise),\n/* harmony export */   share: () => (/* binding */ share),\n/* harmony export */   tap: () => (/* binding */ tap)\n/* harmony export */ });\n/* harmony import */ var _observable_ade1bad8_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable-ade1bad8.mjs */ \"(ssr)/./node_modules/@trpc/server/dist/observable-ade1bad8.mjs\");\n\n\nfunction share(_opts) {\n    return (originalObserver)=>{\n        let refCount = 0;\n        let subscription = null;\n        const observers = [];\n        function startIfNeeded() {\n            if (subscription) {\n                return;\n            }\n            subscription = originalObserver.subscribe({\n                next (value) {\n                    for (const observer of observers){\n                        observer.next?.(value);\n                    }\n                },\n                error (error) {\n                    for (const observer of observers){\n                        observer.error?.(error);\n                    }\n                },\n                complete () {\n                    for (const observer of observers){\n                        observer.complete?.();\n                    }\n                }\n            });\n        }\n        function resetIfNeeded() {\n            // \"resetOnRefCountZero\"\n            if (refCount === 0 && subscription) {\n                const _sub = subscription;\n                subscription = null;\n                _sub.unsubscribe();\n            }\n        }\n        return {\n            subscribe (observer) {\n                refCount++;\n                observers.push(observer);\n                startIfNeeded();\n                return {\n                    unsubscribe () {\n                        refCount--;\n                        resetIfNeeded();\n                        const index = observers.findIndex((v)=>v === observer);\n                        if (index > -1) {\n                            observers.splice(index, 1);\n                        }\n                    }\n                };\n            }\n        };\n    };\n}\n\nfunction map(project) {\n    return (originalObserver)=>{\n        return {\n            subscribe (observer) {\n                let index = 0;\n                const subscription = originalObserver.subscribe({\n                    next (value) {\n                        observer.next?.(project(value, index++));\n                    },\n                    error (error) {\n                        observer.error?.(error);\n                    },\n                    complete () {\n                        observer.complete?.();\n                    }\n                });\n                return subscription;\n            }\n        };\n    };\n}\n\nfunction tap(observer) {\n    return (originalObserver)=>{\n        return {\n            subscribe (observer2) {\n                return originalObserver.subscribe({\n                    next (v) {\n                        observer.next?.(v);\n                        observer2.next?.(v);\n                    },\n                    error (v) {\n                        observer.error?.(v);\n                        observer2.error?.(v);\n                    },\n                    complete () {\n                        observer.complete?.();\n                        observer2.complete?.();\n                    }\n                });\n            }\n        };\n    };\n}\n\nclass ObservableAbortError extends Error {\n    constructor(message){\n        super(message);\n        this.name = 'ObservableAbortError';\n        Object.setPrototypeOf(this, ObservableAbortError.prototype);\n    }\n}\n/** @internal */ function observableToPromise(observable) {\n    let abort;\n    const promise = new Promise((resolve, reject)=>{\n        let isDone = false;\n        function onDone() {\n            if (isDone) {\n                return;\n            }\n            isDone = true;\n            reject(new ObservableAbortError('This operation was aborted.'));\n            obs$.unsubscribe();\n        }\n        const obs$ = observable.subscribe({\n            next (data) {\n                isDone = true;\n                resolve(data);\n                onDone();\n            },\n            error (data) {\n                isDone = true;\n                reject(data);\n                onDone();\n            },\n            complete () {\n                isDone = true;\n                onDone();\n            }\n        });\n        abort = onDone;\n    });\n    return {\n        promise,\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        abort: abort\n    };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3Qvb2JzZXJ2YWJsZS9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFnRjs7QUFFaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVnRCIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9zZXJ2ZXIvZGlzdC9vYnNlcnZhYmxlL2luZGV4Lm1qcz83YTUyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGkgYXMgaXNPYnNlcnZhYmxlLCBvIGFzIG9ic2VydmFibGUgfSBmcm9tICcuLi9vYnNlcnZhYmxlLWFkZTFiYWQ4Lm1qcyc7XG5cbmZ1bmN0aW9uIHNoYXJlKF9vcHRzKSB7XG4gICAgcmV0dXJuIChvcmlnaW5hbE9ic2VydmVyKT0+e1xuICAgICAgICBsZXQgcmVmQ291bnQgPSAwO1xuICAgICAgICBsZXQgc3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXJzID0gW107XG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0SWZOZWVkZWQoKSB7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gb3JpZ2luYWxPYnNlcnZlci5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgIG5leHQgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2JzZXJ2ZXIgb2Ygb2JzZXJ2ZXJzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQ/Lih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9ic2VydmVyIG9mIG9ic2VydmVycyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcj8uKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGUgKCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9ic2VydmVyIG9mIG9ic2VydmVycyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZT8uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiByZXNldElmTmVlZGVkKCkge1xuICAgICAgICAgICAgLy8gXCJyZXNldE9uUmVmQ291bnRaZXJvXCJcbiAgICAgICAgICAgIGlmIChyZWZDb3VudCA9PT0gMCAmJiBzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBfc3ViID0gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgX3N1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWJzY3JpYmUgKG9ic2VydmVyKSB7XG4gICAgICAgICAgICAgICAgcmVmQ291bnQrKztcbiAgICAgICAgICAgICAgICBvYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gICAgICAgICAgICAgICAgc3RhcnRJZk5lZWRlZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZkNvdW50LS07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldElmTmVlZGVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IG9ic2VydmVycy5maW5kSW5kZXgoKHYpPT52ID09PSBvYnNlcnZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBtYXAocHJvamVjdCkge1xuICAgIHJldHVybiAob3JpZ2luYWxPYnNlcnZlcik9PntcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1YnNjcmliZSAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IG9yaWdpbmFsT2JzZXJ2ZXIuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQ/Lihwcm9qZWN0KHZhbHVlLCBpbmRleCsrKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gdGFwKG9ic2VydmVyKSB7XG4gICAgcmV0dXJuIChvcmlnaW5hbE9ic2VydmVyKT0+e1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3Vic2NyaWJlIChvYnNlcnZlcjIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxPYnNlcnZlci5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgICAgICBuZXh0ICh2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0Py4odik7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlcjIubmV4dD8uKHYpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvciAodikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3I/Lih2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyMi5lcnJvcj8uKHYpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZT8uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlcjIuY29tcGxldGU/LigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuY2xhc3MgT2JzZXJ2YWJsZUFib3J0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSl7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnT2JzZXJ2YWJsZUFib3J0RXJyb3InO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgT2JzZXJ2YWJsZUFib3J0RXJyb3IucHJvdG90eXBlKTtcbiAgICB9XG59XG4vKiogQGludGVybmFsICovIGZ1bmN0aW9uIG9ic2VydmFibGVUb1Byb21pc2Uob2JzZXJ2YWJsZSkge1xuICAgIGxldCBhYm9ydDtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICAgICAgbGV0IGlzRG9uZSA9IGZhbHNlO1xuICAgICAgICBmdW5jdGlvbiBvbkRvbmUoKSB7XG4gICAgICAgICAgICBpZiAoaXNEb25lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlamVjdChuZXcgT2JzZXJ2YWJsZUFib3J0RXJyb3IoJ1RoaXMgb3BlcmF0aW9uIHdhcyBhYm9ydGVkLicpKTtcbiAgICAgICAgICAgIG9icyQudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvYnMkID0gb2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dCAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGlzRG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgICAgICBvbkRvbmUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvciAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGlzRG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGRhdGEpO1xuICAgICAgICAgICAgICAgIG9uRG9uZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBsZXRlICgpIHtcbiAgICAgICAgICAgICAgICBpc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG9uRG9uZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYWJvcnQgPSBvbkRvbmU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvbWlzZSxcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgYWJvcnQ6IGFib3J0XG4gICAgfTtcbn1cblxuZXhwb3J0IHsgbWFwLCBvYnNlcnZhYmxlVG9Qcm9taXNlLCBzaGFyZSwgdGFwIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/server/dist/observable/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/server/dist/shared/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@trpc/server/dist/shared/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createFlatProxy: () => (/* reexport safe */ _index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   createRecursiveProxy: () => (/* reexport safe */ _index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_0__.a),\n/* harmony export */   getErrorShape: () => (/* reexport safe */ _transformTRPCResponse_1153b421_mjs__WEBPACK_IMPORTED_MODULE_1__.g),\n/* harmony export */   transformTRPCResponse: () => (/* reexport safe */ _transformTRPCResponse_1153b421_mjs__WEBPACK_IMPORTED_MODULE_1__.t)\n/* harmony export */ });\n/* harmony import */ var _index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../index-f91d720c.mjs */ \"(ssr)/./node_modules/@trpc/server/dist/index-f91d720c.mjs\");\n/* harmony import */ var _transformTRPCResponse_1153b421_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../transformTRPCResponse-1153b421.mjs */ \"(ssr)/./node_modules/@trpc/server/dist/transformTRPCResponse-1153b421.mjs\");\n/* harmony import */ var _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../codes-c924c3db.mjs */ \"(ssr)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs\");\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3Qvc2hhcmVkL2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXdGO0FBQ2U7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3Qvc2hhcmVkL2luZGV4Lm1qcz81MGFhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGMgYXMgY3JlYXRlRmxhdFByb3h5LCBhIGFzIGNyZWF0ZVJlY3Vyc2l2ZVByb3h5IH0gZnJvbSAnLi4vaW5kZXgtZjkxZDcyMGMubWpzJztcbmV4cG9ydCB7IGcgYXMgZ2V0RXJyb3JTaGFwZSwgdCBhcyB0cmFuc2Zvcm1UUlBDUmVzcG9uc2UgfSBmcm9tICcuLi90cmFuc2Zvcm1UUlBDUmVzcG9uc2UtMTE1M2I0MjEubWpzJztcbmltcG9ydCAnLi4vY29kZXMtYzkyNGMzZGIubWpzJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/server/dist/shared/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@trpc/server/dist/transformTRPCResponse-1153b421.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@trpc/server/dist/transformTRPCResponse-1153b421.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   g: () => (/* binding */ getErrorShape),\n/* harmony export */   t: () => (/* binding */ transformTRPCResponse)\n/* harmony export */ });\n/* harmony import */ var _index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-f91d720c.mjs */ \"(ssr)/./node_modules/@trpc/server/dist/index-f91d720c.mjs\");\n/* harmony import */ var _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./codes-c924c3db.mjs */ \"(ssr)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs\");\n\n\n\n/**\n * @internal\n */ function getErrorShape(opts) {\n    const { path , error , config  } = opts;\n    const { code  } = opts.error;\n    const shape = {\n        message: error.message,\n        code: _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_1__.T[code],\n        data: {\n            code,\n            httpStatus: (0,_index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(error)\n        }\n    };\n    if (config.isDev && typeof opts.error.stack === 'string') {\n        shape.data.stack = opts.error.stack;\n    }\n    if (typeof path === 'string') {\n        shape.data.path = path;\n    }\n    return config.errorFormatter({\n        ...opts,\n        shape\n    });\n}\n\nfunction transformTRPCResponseItem(config, item) {\n    if ('error' in item) {\n        return {\n            ...item,\n            error: config.transformer.output.serialize(item.error)\n        };\n    }\n    if ('data' in item.result) {\n        return {\n            ...item,\n            result: {\n                ...item.result,\n                data: config.transformer.output.serialize(item.result.data)\n            }\n        };\n    }\n    return item;\n}\n/**\n * Takes a unserialized `TRPCResponse` and serializes it with the router's transformers\n **/ function transformTRPCResponse(config, itemOrItems) {\n    return Array.isArray(itemOrItems) ? itemOrItems.map((item)=>transformTRPCResponseItem(config, item)) : transformTRPCResponseItem(config, itemOrItems);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvdHJhbnNmb3JtVFJQQ1Jlc3BvbnNlLTExNTNiNDIxLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXVFO0FBQ0g7O0FBRXBFO0FBQ0E7QUFDQTtBQUNBLFlBQVkseUJBQXlCO0FBQ3JDLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0EsY0FBYyxrREFBdUI7QUFDckM7QUFDQTtBQUNBLHdCQUF3QixzREFBMEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUwRCIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9zZXJ2ZXIvZGlzdC90cmFuc2Zvcm1UUlBDUmVzcG9uc2UtMTE1M2I0MjEubWpzP2M5ZDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZyBhcyBnZXRIVFRQU3RhdHVzQ29kZUZyb21FcnJvciB9IGZyb20gJy4vaW5kZXgtZjkxZDcyMGMubWpzJztcbmltcG9ydCB7IFQgYXMgVFJQQ19FUlJPUl9DT0RFU19CWV9LRVkgfSBmcm9tICcuL2NvZGVzLWM5MjRjM2RiLm1qcyc7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gZ2V0RXJyb3JTaGFwZShvcHRzKSB7XG4gICAgY29uc3QgeyBwYXRoICwgZXJyb3IgLCBjb25maWcgIH0gPSBvcHRzO1xuICAgIGNvbnN0IHsgY29kZSAgfSA9IG9wdHMuZXJyb3I7XG4gICAgY29uc3Qgc2hhcGUgPSB7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIGNvZGU6IFRSUENfRVJST1JfQ09ERVNfQllfS0VZW2NvZGVdLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBjb2RlLFxuICAgICAgICAgICAgaHR0cFN0YXR1czogZ2V0SFRUUFN0YXR1c0NvZGVGcm9tRXJyb3IoZXJyb3IpXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGlmIChjb25maWcuaXNEZXYgJiYgdHlwZW9mIG9wdHMuZXJyb3Iuc3RhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHNoYXBlLmRhdGEuc3RhY2sgPSBvcHRzLmVycm9yLnN0YWNrO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHNoYXBlLmRhdGEucGF0aCA9IHBhdGg7XG4gICAgfVxuICAgIHJldHVybiBjb25maWcuZXJyb3JGb3JtYXR0ZXIoe1xuICAgICAgICAuLi5vcHRzLFxuICAgICAgICBzaGFwZVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1UUlBDUmVzcG9uc2VJdGVtKGNvbmZpZywgaXRlbSkge1xuICAgIGlmICgnZXJyb3InIGluIGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICBlcnJvcjogY29uZmlnLnRyYW5zZm9ybWVyLm91dHB1dC5zZXJpYWxpemUoaXRlbS5lcnJvcilcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCdkYXRhJyBpbiBpdGVtLnJlc3VsdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgIHJlc3VsdDoge1xuICAgICAgICAgICAgICAgIC4uLml0ZW0ucmVzdWx0LFxuICAgICAgICAgICAgICAgIGRhdGE6IGNvbmZpZy50cmFuc2Zvcm1lci5vdXRwdXQuc2VyaWFsaXplKGl0ZW0ucmVzdWx0LmRhdGEpXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBpdGVtO1xufVxuLyoqXG4gKiBUYWtlcyBhIHVuc2VyaWFsaXplZCBgVFJQQ1Jlc3BvbnNlYCBhbmQgc2VyaWFsaXplcyBpdCB3aXRoIHRoZSByb3V0ZXIncyB0cmFuc2Zvcm1lcnNcbiAqKi8gZnVuY3Rpb24gdHJhbnNmb3JtVFJQQ1Jlc3BvbnNlKGNvbmZpZywgaXRlbU9ySXRlbXMpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShpdGVtT3JJdGVtcykgPyBpdGVtT3JJdGVtcy5tYXAoKGl0ZW0pPT50cmFuc2Zvcm1UUlBDUmVzcG9uc2VJdGVtKGNvbmZpZywgaXRlbSkpIDogdHJhbnNmb3JtVFJQQ1Jlc3BvbnNlSXRlbShjb25maWcsIGl0ZW1Pckl0ZW1zKTtcbn1cblxuZXhwb3J0IHsgZ2V0RXJyb3JTaGFwZSBhcyBnLCB0cmFuc2Zvcm1UUlBDUmVzcG9uc2UgYXMgdCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@trpc/server/dist/transformTRPCResponse-1153b421.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/client/dist/TRPCClientError-0de4d231.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/TRPCClientError-0de4d231.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   T: () => (/* binding */ TRPCClientError)\n/* harmony export */ });\n/* harmony import */ var _transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transformResult-ace864b8.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\");\n\nfunction isTRPCClientError(cause) {\n    return cause instanceof TRPCClientError || /**\n     * @deprecated\n     * Delete in next major\n     */ cause instanceof Error && cause.name === \"TRPCClientError\";\n}\nfunction isTRPCErrorResponse(obj) {\n    return (0,_transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(obj) && (0,_transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(obj.error) && typeof obj.error.code === \"number\" && typeof obj.error.message === \"string\";\n}\nclass TRPCClientError extends Error {\n    static from(_cause, opts = {}) {\n        const cause = _cause;\n        if (isTRPCClientError(cause)) {\n            if (opts.meta) {\n                // Decorate with meta error data\n                cause.meta = {\n                    ...cause.meta,\n                    ...opts.meta\n                };\n            }\n            return cause;\n        }\n        if (isTRPCErrorResponse(cause)) {\n            return new TRPCClientError(cause.error.message, {\n                ...opts,\n                result: cause\n            });\n        }\n        if (!(cause instanceof Error)) {\n            return new TRPCClientError(\"Unknown error\", {\n                ...opts,\n                cause: cause\n            });\n        }\n        return new TRPCClientError(cause.message, {\n            ...opts,\n            cause\n        });\n    }\n    constructor(message, opts){\n        const cause = opts?.cause;\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore https://github.com/tc39/proposal-error-cause\n        super(message, {\n            cause\n        });\n        this.meta = opts?.meta;\n        this.cause = cause;\n        this.shape = opts?.result?.error;\n        this.data = opts?.result?.error.data;\n        this.name = \"TRPCClientError\";\n        Object.setPrototypeOf(this, TRPCClientError.prototype);\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvVFJQQ0NsaWVudEVycm9yLTBkZTRkMjMxLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUErRDtBQUUvRCxTQUFTRSxrQkFBa0JDLEtBQUs7SUFDNUIsT0FBT0EsaUJBQWlCQyxtQkFBbUI7OztLQUcxQyxHQUFHRCxpQkFBaUJFLFNBQVNGLE1BQU1HLElBQUksS0FBSztBQUNqRDtBQUNBLFNBQVNDLG9CQUFvQkMsR0FBRztJQUM1QixPQUFPUCxnRUFBUUEsQ0FBQ08sUUFBUVAsZ0VBQVFBLENBQUNPLElBQUlDLEtBQUssS0FBSyxPQUFPRCxJQUFJQyxLQUFLLENBQUNDLElBQUksS0FBSyxZQUFZLE9BQU9GLElBQUlDLEtBQUssQ0FBQ0UsT0FBTyxLQUFLO0FBQ3RIO0FBQ0EsTUFBTVAsd0JBQXdCQztJQUMxQixPQUFPTyxLQUFLQyxNQUFNLEVBQUVDLE9BQU8sQ0FBQyxDQUFDLEVBQUU7UUFDM0IsTUFBTVgsUUFBUVU7UUFDZCxJQUFJWCxrQkFBa0JDLFFBQVE7WUFDMUIsSUFBSVcsS0FBS0MsSUFBSSxFQUFFO2dCQUNYLGdDQUFnQztnQkFDaENaLE1BQU1ZLElBQUksR0FBRztvQkFDVCxHQUFHWixNQUFNWSxJQUFJO29CQUNiLEdBQUdELEtBQUtDLElBQUk7Z0JBQ2hCO1lBQ0o7WUFDQSxPQUFPWjtRQUNYO1FBQ0EsSUFBSUksb0JBQW9CSixRQUFRO1lBQzVCLE9BQU8sSUFBSUMsZ0JBQWdCRCxNQUFNTSxLQUFLLENBQUNFLE9BQU8sRUFBRTtnQkFDNUMsR0FBR0csSUFBSTtnQkFDUEUsUUFBUWI7WUFDWjtRQUNKO1FBQ0EsSUFBSSxDQUFFQSxDQUFBQSxpQkFBaUJFLEtBQUksR0FBSTtZQUMzQixPQUFPLElBQUlELGdCQUFnQixpQkFBaUI7Z0JBQ3hDLEdBQUdVLElBQUk7Z0JBQ1BYLE9BQU9BO1lBQ1g7UUFDSjtRQUNBLE9BQU8sSUFBSUMsZ0JBQWdCRCxNQUFNUSxPQUFPLEVBQUU7WUFDdEMsR0FBR0csSUFBSTtZQUNQWDtRQUNKO0lBQ0o7SUFDQWMsWUFBWU4sT0FBTyxFQUFFRyxJQUFJLENBQUM7UUFDdEIsTUFBTVgsUUFBUVcsTUFBTVg7UUFDcEIsNkRBQTZEO1FBQzdELDBEQUEwRDtRQUMxRCxLQUFLLENBQUNRLFNBQVM7WUFDWFI7UUFDSjtRQUNBLElBQUksQ0FBQ1ksSUFBSSxHQUFHRCxNQUFNQztRQUNsQixJQUFJLENBQUNaLEtBQUssR0FBR0E7UUFDYixJQUFJLENBQUNlLEtBQUssR0FBR0osTUFBTUUsUUFBUVA7UUFDM0IsSUFBSSxDQUFDVSxJQUFJLEdBQUdMLE1BQU1FLFFBQVFQLE1BQU1VO1FBQ2hDLElBQUksQ0FBQ2IsSUFBSSxHQUFHO1FBQ1pjLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUVqQixnQkFBZ0JrQixTQUFTO0lBQ3pEO0FBQ0o7QUFFZ0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvVFJQQ0NsaWVudEVycm9yLTBkZTRkMjMxLm1qcz83MTlhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGkgYXMgaXNPYmplY3QgfSBmcm9tICcuL3RyYW5zZm9ybVJlc3VsdC1hY2U4NjRiOC5tanMnO1xuXG5mdW5jdGlvbiBpc1RSUENDbGllbnRFcnJvcihjYXVzZSkge1xuICAgIHJldHVybiBjYXVzZSBpbnN0YW5jZW9mIFRSUENDbGllbnRFcnJvciB8fCAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIERlbGV0ZSBpbiBuZXh0IG1ham9yXG4gICAgICovIGNhdXNlIGluc3RhbmNlb2YgRXJyb3IgJiYgY2F1c2UubmFtZSA9PT0gJ1RSUENDbGllbnRFcnJvcic7XG59XG5mdW5jdGlvbiBpc1RSUENFcnJvclJlc3BvbnNlKG9iaikge1xuICAgIHJldHVybiBpc09iamVjdChvYmopICYmIGlzT2JqZWN0KG9iai5lcnJvcikgJiYgdHlwZW9mIG9iai5lcnJvci5jb2RlID09PSAnbnVtYmVyJyAmJiB0eXBlb2Ygb2JqLmVycm9yLm1lc3NhZ2UgPT09ICdzdHJpbmcnO1xufVxuY2xhc3MgVFJQQ0NsaWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIHN0YXRpYyBmcm9tKF9jYXVzZSwgb3B0cyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGNhdXNlID0gX2NhdXNlO1xuICAgICAgICBpZiAoaXNUUlBDQ2xpZW50RXJyb3IoY2F1c2UpKSB7XG4gICAgICAgICAgICBpZiAob3B0cy5tZXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gRGVjb3JhdGUgd2l0aCBtZXRhIGVycm9yIGRhdGFcbiAgICAgICAgICAgICAgICBjYXVzZS5tZXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jYXVzZS5tZXRhLFxuICAgICAgICAgICAgICAgICAgICAuLi5vcHRzLm1ldGFcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNhdXNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1RSUENFcnJvclJlc3BvbnNlKGNhdXNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUUlBDQ2xpZW50RXJyb3IoY2F1c2UuZXJyb3IubWVzc2FnZSwge1xuICAgICAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgICAgICAgICAgcmVzdWx0OiBjYXVzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoY2F1c2UgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVFJQQ0NsaWVudEVycm9yKCdVbmtub3duIGVycm9yJywge1xuICAgICAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgICAgICAgICAgY2F1c2U6IGNhdXNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRSUENDbGllbnRFcnJvcihjYXVzZS5tZXNzYWdlLCB7XG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICAgICAgY2F1c2VcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIG9wdHMpe1xuICAgICAgICBjb25zdCBjYXVzZSA9IG9wdHM/LmNhdXNlO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtZXJyb3ItY2F1c2VcbiAgICAgICAgc3VwZXIobWVzc2FnZSwge1xuICAgICAgICAgICAgY2F1c2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWV0YSA9IG9wdHM/Lm1ldGE7XG4gICAgICAgIHRoaXMuY2F1c2UgPSBjYXVzZTtcbiAgICAgICAgdGhpcy5zaGFwZSA9IG9wdHM/LnJlc3VsdD8uZXJyb3I7XG4gICAgICAgIHRoaXMuZGF0YSA9IG9wdHM/LnJlc3VsdD8uZXJyb3IuZGF0YTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1RSUENDbGllbnRFcnJvcic7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBUUlBDQ2xpZW50RXJyb3IucHJvdG90eXBlKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IFRSUENDbGllbnRFcnJvciBhcyBUIH07XG4iXSwibmFtZXMiOlsiaSIsImlzT2JqZWN0IiwiaXNUUlBDQ2xpZW50RXJyb3IiLCJjYXVzZSIsIlRSUENDbGllbnRFcnJvciIsIkVycm9yIiwibmFtZSIsImlzVFJQQ0Vycm9yUmVzcG9uc2UiLCJvYmoiLCJlcnJvciIsImNvZGUiLCJtZXNzYWdlIiwiZnJvbSIsIl9jYXVzZSIsIm9wdHMiLCJtZXRhIiwicmVzdWx0IiwiY29uc3RydWN0b3IiLCJzaGFwZSIsImRhdGEiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIlQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/client/dist/TRPCClientError-0de4d231.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/client/dist/httpBatchLink-204206a5.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/httpBatchLink-204206a5.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   c: () => (/* binding */ createHTTPBatchLink),\n/* harmony export */   h: () => (/* binding */ httpBatchLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(rsc)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n/* harmony import */ var _transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transformResult-ace864b8.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\");\n/* harmony import */ var _TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TRPCClientError-0de4d231.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/TRPCClientError-0de4d231.mjs\");\n/* harmony import */ var _httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./httpUtils-f58ceda1.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/httpUtils-f58ceda1.mjs\");\n\n\n\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */ /**\n * A function that should never be called unless we messed something up.\n */ const throwFatalError = ()=>{\n    throw new Error(\"Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new\");\n};\n/**\n * Dataloader that's very inspired by https://github.com/graphql/dataloader\n * Less configuration, no caching, and allows you to cancel requests\n * When cancelling a single fetch the whole batch will be cancelled only when _all_ items are cancelled\n */ function dataLoader(batchLoader) {\n    let pendingItems = null;\n    let dispatchTimer = null;\n    const destroyTimerAndPendingItems = ()=>{\n        clearTimeout(dispatchTimer);\n        dispatchTimer = null;\n        pendingItems = null;\n    };\n    /**\n   * Iterate through the items and split them into groups based on the `batchLoader`'s validate function\n   */ function groupItems(items) {\n        const groupedItems = [\n            []\n        ];\n        let index = 0;\n        while(true){\n            const item = items[index];\n            if (!item) {\n                break;\n            }\n            const lastGroup = groupedItems[groupedItems.length - 1];\n            if (item.aborted) {\n                // Item was aborted before it was dispatched\n                item.reject?.(new Error(\"Aborted\"));\n                index++;\n                continue;\n            }\n            const isValid = batchLoader.validate(lastGroup.concat(item).map((it)=>it.key));\n            if (isValid) {\n                lastGroup.push(item);\n                index++;\n                continue;\n            }\n            if (lastGroup.length === 0) {\n                item.reject?.(new Error(\"Input is too big for a single dispatch\"));\n                index++;\n                continue;\n            }\n            // Create new group, next iteration will try to add the item to that\n            groupedItems.push([]);\n        }\n        return groupedItems;\n    }\n    function dispatch() {\n        const groupedItems = groupItems(pendingItems);\n        destroyTimerAndPendingItems();\n        // Create batches for each group of items\n        for (const items of groupedItems){\n            if (!items.length) {\n                continue;\n            }\n            const batch = {\n                items,\n                cancel: throwFatalError\n            };\n            for (const item of items){\n                item.batch = batch;\n            }\n            const unitResolver = (index, value)=>{\n                const item = batch.items[index];\n                item.resolve?.(value);\n                item.batch = null;\n                item.reject = null;\n                item.resolve = null;\n            };\n            const { promise, cancel } = batchLoader.fetch(batch.items.map((_item)=>_item.key), unitResolver);\n            batch.cancel = cancel;\n            promise.then((result)=>{\n                for(let i = 0; i < result.length; i++){\n                    const value = result[i];\n                    unitResolver(i, value);\n                }\n                for (const item of batch.items){\n                    item.reject?.(new Error(\"Missing result\"));\n                    item.batch = null;\n                }\n            }).catch((cause)=>{\n                for (const item of batch.items){\n                    item.reject?.(cause);\n                    item.batch = null;\n                }\n            });\n        }\n    }\n    function load(key) {\n        const item = {\n            aborted: false,\n            key,\n            batch: null,\n            resolve: throwFatalError,\n            reject: throwFatalError\n        };\n        const promise = new Promise((resolve, reject)=>{\n            item.reject = reject;\n            item.resolve = resolve;\n            if (!pendingItems) {\n                pendingItems = [];\n            }\n            pendingItems.push(item);\n        });\n        if (!dispatchTimer) {\n            dispatchTimer = setTimeout(dispatch);\n        }\n        const cancel = ()=>{\n            item.aborted = true;\n            if (item.batch?.items.every((item)=>item.aborted)) {\n                // All items in the batch have been cancelled\n                item.batch.cancel();\n                item.batch = null;\n            }\n        };\n        return {\n            promise,\n            cancel\n        };\n    }\n    return {\n        load\n    };\n}\n/**\n * @internal\n */ function createHTTPBatchLink(requester) {\n    return function httpBatchLink(opts) {\n        const resolvedOpts = (0,_httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_3__.r)(opts);\n        const maxURLLength = opts.maxURLLength ?? Infinity;\n        // initialized config\n        return (runtime)=>{\n            const batchLoader = (type)=>{\n                const validate = (batchOps)=>{\n                    if (maxURLLength === Infinity) {\n                        // escape hatch for quick calcs\n                        return true;\n                    }\n                    const path = batchOps.map((op)=>op.path).join(\",\");\n                    const inputs = batchOps.map((op)=>op.input);\n                    const url = (0,_httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_3__.g)({\n                        ...resolvedOpts,\n                        runtime,\n                        type,\n                        path,\n                        inputs\n                    });\n                    return url.length <= maxURLLength;\n                };\n                const fetch = requester({\n                    ...resolvedOpts,\n                    runtime,\n                    type,\n                    opts\n                });\n                return {\n                    validate,\n                    fetch\n                };\n            };\n            const query = dataLoader(batchLoader(\"query\"));\n            const mutation = dataLoader(batchLoader(\"mutation\"));\n            const subscription = dataLoader(batchLoader(\"subscription\"));\n            const loaders = {\n                query,\n                subscription,\n                mutation\n            };\n            return ({ op })=>{\n                return (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n                    const loader = loaders[op.type];\n                    const { promise, cancel } = loader.load(op);\n                    let _res = undefined;\n                    promise.then((res)=>{\n                        _res = res;\n                        const transformed = (0,_transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__.t)(res.json, runtime);\n                        if (!transformed.ok) {\n                            observer.error(_TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(transformed.error, {\n                                meta: res.meta\n                            }));\n                            return;\n                        }\n                        observer.next({\n                            context: res.meta,\n                            result: transformed.result\n                        });\n                        observer.complete();\n                    }).catch((err)=>{\n                        observer.error(_TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(err, {\n                            meta: _res?.meta\n                        }));\n                    });\n                    return ()=>{\n                        cancel();\n                    };\n                });\n            };\n        };\n    };\n}\nconst batchRequester = (requesterOpts)=>{\n    return (batchOps)=>{\n        const path = batchOps.map((op)=>op.path).join(\",\");\n        const inputs = batchOps.map((op)=>op.input);\n        const { promise, cancel } = (0,_httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_3__.j)({\n            ...requesterOpts,\n            path,\n            inputs,\n            headers () {\n                if (!requesterOpts.opts.headers) {\n                    return {};\n                }\n                if (typeof requesterOpts.opts.headers === \"function\") {\n                    return requesterOpts.opts.headers({\n                        opList: batchOps\n                    });\n                }\n                return requesterOpts.opts.headers;\n            }\n        });\n        return {\n            promise: promise.then((res)=>{\n                const resJSON = Array.isArray(res.json) ? res.json : batchOps.map(()=>res.json);\n                const result = resJSON.map((item)=>({\n                        meta: res.meta,\n                        json: item\n                    }));\n                return result;\n            }),\n            cancel\n        };\n    };\n};\nconst httpBatchLink = createHTTPBatchLink(batchRequester);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvaHR0cEJhdGNoTGluay0yMDQyMDZhNS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXFEO0FBQ2lCO0FBQ0E7QUFDc0M7QUFFNUcsMkRBQTJELEdBQUc7O0NBRTdELEdBQUcsTUFBTVcsa0JBQWtCO0lBQ3hCLE1BQU0sSUFBSUMsTUFBTTtBQUNwQjtBQUNBOzs7O0NBSUMsR0FBRyxTQUFTQyxXQUFXQyxXQUFXO0lBQy9CLElBQUlDLGVBQWU7SUFDbkIsSUFBSUMsZ0JBQWdCO0lBQ3BCLE1BQU1DLDhCQUE4QjtRQUNoQ0MsYUFBYUY7UUFDYkEsZ0JBQWdCO1FBQ2hCRCxlQUFlO0lBQ25CO0lBQ0E7O0dBRUQsR0FBRyxTQUFTSSxXQUFXQyxLQUFLO1FBQ3ZCLE1BQU1DLGVBQWU7WUFDakIsRUFBRTtTQUNMO1FBQ0QsSUFBSUMsUUFBUTtRQUNaLE1BQU0sS0FBSztZQUNQLE1BQU1DLE9BQU9ILEtBQUssQ0FBQ0UsTUFBTTtZQUN6QixJQUFJLENBQUNDLE1BQU07Z0JBQ1A7WUFDSjtZQUNBLE1BQU1DLFlBQVlILFlBQVksQ0FBQ0EsYUFBYUksTUFBTSxHQUFHLEVBQUU7WUFDdkQsSUFBSUYsS0FBS0csT0FBTyxFQUFFO2dCQUNkLDRDQUE0QztnQkFDNUNILEtBQUtJLE1BQU0sR0FBRyxJQUFJZixNQUFNO2dCQUN4QlU7Z0JBQ0E7WUFDSjtZQUNBLE1BQU1NLFVBQVVkLFlBQVllLFFBQVEsQ0FBQ0wsVUFBVU0sTUFBTSxDQUFDUCxNQUFNUSxHQUFHLENBQUMsQ0FBQ0MsS0FBS0EsR0FBR0MsR0FBRztZQUM1RSxJQUFJTCxTQUFTO2dCQUNUSixVQUFVVSxJQUFJLENBQUNYO2dCQUNmRDtnQkFDQTtZQUNKO1lBQ0EsSUFBSUUsVUFBVUMsTUFBTSxLQUFLLEdBQUc7Z0JBQ3hCRixLQUFLSSxNQUFNLEdBQUcsSUFBSWYsTUFBTTtnQkFDeEJVO2dCQUNBO1lBQ0o7WUFDQSxvRUFBb0U7WUFDcEVELGFB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QUNqQixJQUFJRSxJQUFJLElBQUlGLElBQUlFLElBQUksR0FBR2pCLFNBQVMvQixHQUFHLENBQUMsSUFBSThDLElBQUlFLElBQUk7Z0JBQzlFLE1BQU1sQyxTQUFTK0MsUUFBUTdELEdBQUcsQ0FBQyxDQUFDUixPQUFRO3dCQUM1QjRELE1BQU1OLElBQUlNLElBQUk7d0JBQ2RKLE1BQU14RDtvQkFDVjtnQkFDSixPQUFPc0I7WUFDWDtZQUNBUjtRQUNKO0lBQ0o7QUFDSjtBQUNBLE1BQU1rQixnQkFBZ0JGLG9CQUFvQm1DO0FBRWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvaHR0cEJhdGNoTGluay0yMDQyMDZhNS5tanM/Y2NmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvYnNlcnZhYmxlIH0gZnJvbSAnQHRycGMvc2VydmVyL29ic2VydmFibGUnO1xuaW1wb3J0IHsgdCBhcyB0cmFuc2Zvcm1SZXN1bHQgfSBmcm9tICcuL3RyYW5zZm9ybVJlc3VsdC1hY2U4NjRiOC5tanMnO1xuaW1wb3J0IHsgVCBhcyBUUlBDQ2xpZW50RXJyb3IgfSBmcm9tICcuL1RSUENDbGllbnRFcnJvci0wZGU0ZDIzMS5tanMnO1xuaW1wb3J0IHsgciBhcyByZXNvbHZlSFRUUExpbmtPcHRpb25zLCBnIGFzIGdldFVybCwgaiBhcyBqc29uSHR0cFJlcXVlc3RlciB9IGZyb20gJy4vaHR0cFV0aWxzLWY1OGNlZGExLm1qcyc7XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gKi8gLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCB1bmxlc3Mgd2UgbWVzc2VkIHNvbWV0aGluZyB1cC5cbiAqLyBjb25zdCB0aHJvd0ZhdGFsRXJyb3IgPSAoKT0+e1xuICAgIHRocm93IG5ldyBFcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSBzdWJtaXQgYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL3RycGMvdHJwYy9pc3N1ZXMvbmV3Jyk7XG59O1xuLyoqXG4gKiBEYXRhbG9hZGVyIHRoYXQncyB2ZXJ5IGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9ncmFwaHFsL2RhdGFsb2FkZXJcbiAqIExlc3MgY29uZmlndXJhdGlvbiwgbm8gY2FjaGluZywgYW5kIGFsbG93cyB5b3UgdG8gY2FuY2VsIHJlcXVlc3RzXG4gKiBXaGVuIGNhbmNlbGxpbmcgYSBzaW5nbGUgZmV0Y2ggdGhlIHdob2xlIGJhdGNoIHdpbGwgYmUgY2FuY2VsbGVkIG9ubHkgd2hlbiBfYWxsXyBpdGVtcyBhcmUgY2FuY2VsbGVkXG4gKi8gZnVuY3Rpb24gZGF0YUxvYWRlcihiYXRjaExvYWRlcikge1xuICAgIGxldCBwZW5kaW5nSXRlbXMgPSBudWxsO1xuICAgIGxldCBkaXNwYXRjaFRpbWVyID0gbnVsbDtcbiAgICBjb25zdCBkZXN0cm95VGltZXJBbmRQZW5kaW5nSXRlbXMgPSAoKT0+e1xuICAgICAgICBjbGVhclRpbWVvdXQoZGlzcGF0Y2hUaW1lcik7XG4gICAgICAgIGRpc3BhdGNoVGltZXIgPSBudWxsO1xuICAgICAgICBwZW5kaW5nSXRlbXMgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAqIEl0ZXJhdGUgdGhyb3VnaCB0aGUgaXRlbXMgYW5kIHNwbGl0IHRoZW0gaW50byBncm91cHMgYmFzZWQgb24gdGhlIGBiYXRjaExvYWRlcmAncyB2YWxpZGF0ZSBmdW5jdGlvblxuICAgKi8gZnVuY3Rpb24gZ3JvdXBJdGVtcyhpdGVtcykge1xuICAgICAgICBjb25zdCBncm91cGVkSXRlbXMgPSBbXG4gICAgICAgICAgICBbXVxuICAgICAgICBdO1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICB3aGlsZSh0cnVlKXtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpbmRleF07XG4gICAgICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxhc3RHcm91cCA9IGdyb3VwZWRJdGVtc1tncm91cGVkSXRlbXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAoaXRlbS5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gSXRlbSB3YXMgYWJvcnRlZCBiZWZvcmUgaXQgd2FzIGRpc3BhdGNoZWRcbiAgICAgICAgICAgICAgICBpdGVtLnJlamVjdD8uKG5ldyBFcnJvcignQWJvcnRlZCcpKTtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXNWYWxpZCA9IGJhdGNoTG9hZGVyLnZhbGlkYXRlKGxhc3RHcm91cC5jb25jYXQoaXRlbSkubWFwKChpdCk9Pml0LmtleSkpO1xuICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICBsYXN0R3JvdXAucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhc3RHcm91cC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBpdGVtLnJlamVjdD8uKG5ldyBFcnJvcignSW5wdXQgaXMgdG9vIGJpZyBmb3IgYSBzaW5nbGUgZGlzcGF0Y2gnKSk7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgZ3JvdXAsIG5leHQgaXRlcmF0aW9uIHdpbGwgdHJ5IHRvIGFkZCB0aGUgaXRlbSB0byB0aGF0XG4gICAgICAgICAgICBncm91cGVkSXRlbXMucHVzaChbXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdyb3VwZWRJdGVtcztcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwZWRJdGVtcyA9IGdyb3VwSXRlbXMocGVuZGluZ0l0ZW1zKTtcbiAgICAgICAgZGVzdHJveVRpbWVyQW5kUGVuZGluZ0l0ZW1zKCk7XG4gICAgICAgIC8vIENyZWF0ZSBiYXRjaGVzIGZvciBlYWNoIGdyb3VwIG9mIGl0ZW1zXG4gICAgICAgIGZvciAoY29uc3QgaXRlbXMgb2YgZ3JvdXBlZEl0ZW1zKXtcbiAgICAgICAgICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBiYXRjaCA9IHtcbiAgICAgICAgICAgICAgICBpdGVtcyxcbiAgICAgICAgICAgICAgICBjYW5jZWw6IHRocm93RmF0YWxFcnJvclxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcyl7XG4gICAgICAgICAgICAgICAgaXRlbS5iYXRjaCA9IGJhdGNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdW5pdFJlc29sdmVyID0gKGluZGV4LCB2YWx1ZSk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gYmF0Y2guaXRlbXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGl0ZW0ucmVzb2x2ZT8uKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpdGVtLmJhdGNoID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpdGVtLnJlamVjdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaXRlbS5yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCB7IHByb21pc2UgLCBjYW5jZWwgIH0gPSBiYXRjaExvYWRlci5mZXRjaChiYXRjaC5pdGVtcy5tYXAoKF9pdGVtKT0+X2l0ZW0ua2V5KSwgdW5pdFJlc29sdmVyKTtcbiAgICAgICAgICAgIGJhdGNoLmNhbmNlbCA9IGNhbmNlbDtcbiAgICAgICAgICAgIHByb21pc2UudGhlbigocmVzdWx0KT0+e1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc3VsdFtpXTtcbiAgICAgICAgICAgICAgICAgICAgdW5pdFJlc29sdmVyKGksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGJhdGNoLml0ZW1zKXtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5yZWplY3Q/LihuZXcgRXJyb3IoJ01pc3NpbmcgcmVzdWx0JykpO1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmJhdGNoID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5jYXRjaCgoY2F1c2UpPT57XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGJhdGNoLml0ZW1zKXtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5yZWplY3Q/LihjYXVzZSk7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uYmF0Y2ggPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxvYWQoa2V5KSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB7XG4gICAgICAgICAgICBhYm9ydGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGJhdGNoOiBudWxsLFxuICAgICAgICAgICAgcmVzb2x2ZTogdGhyb3dGYXRhbEVycm9yLFxuICAgICAgICAgICAgcmVqZWN0OiB0aHJvd0ZhdGFsRXJyb3JcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT57XG4gICAgICAgICAgICBpdGVtLnJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgICAgIGl0ZW0ucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICBpZiAoIXBlbmRpbmdJdGVtcykge1xuICAgICAgICAgICAgICAgIHBlbmRpbmdJdGVtcyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGVuZGluZ0l0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWRpc3BhdGNoVGltZXIpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoVGltZXIgPSBzZXRUaW1lb3V0KGRpc3BhdGNoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYW5jZWwgPSAoKT0+e1xuICAgICAgICAgICAgaXRlbS5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChpdGVtLmJhdGNoPy5pdGVtcy5ldmVyeSgoaXRlbSk9Pml0ZW0uYWJvcnRlZCkpIHtcbiAgICAgICAgICAgICAgICAvLyBBbGwgaXRlbXMgaW4gdGhlIGJhdGNoIGhhdmUgYmVlbiBjYW5jZWxsZWRcbiAgICAgICAgICAgICAgICBpdGVtLmJhdGNoLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIGl0ZW0uYmF0Y2ggPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvbWlzZSxcbiAgICAgICAgICAgIGNhbmNlbFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBsb2FkXG4gICAgfTtcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqLyBmdW5jdGlvbiBjcmVhdGVIVFRQQmF0Y2hMaW5rKHJlcXVlc3Rlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBodHRwQmF0Y2hMaW5rKG9wdHMpIHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRPcHRzID0gcmVzb2x2ZUhUVFBMaW5rT3B0aW9ucyhvcHRzKTtcbiAgICAgICAgY29uc3QgbWF4VVJMTGVuZ3RoID0gb3B0cy5tYXhVUkxMZW5ndGggPz8gSW5maW5pdHk7XG4gICAgICAgIC8vIGluaXRpYWxpemVkIGNvbmZpZ1xuICAgICAgICByZXR1cm4gKHJ1bnRpbWUpPT57XG4gICAgICAgICAgICBjb25zdCBiYXRjaExvYWRlciA9ICh0eXBlKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRlID0gKGJhdGNoT3BzKT0+e1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF4VVJMTGVuZ3RoID09PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNjYXBlIGhhdGNoIGZvciBxdWljayBjYWxjc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGJhdGNoT3BzLm1hcCgob3ApPT5vcC5wYXRoKS5qb2luKCcsJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0cyA9IGJhdGNoT3BzLm1hcCgob3ApPT5vcC5pbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IGdldFVybCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5yZXNvbHZlZE9wdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBydW50aW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dHNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1cmwubGVuZ3RoIDw9IG1heFVSTExlbmd0aDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGZldGNoID0gcmVxdWVzdGVyKHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucmVzb2x2ZWRPcHRzLFxuICAgICAgICAgICAgICAgICAgICBydW50aW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICBvcHRzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgIGZldGNoXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IGRhdGFMb2FkZXIoYmF0Y2hMb2FkZXIoJ3F1ZXJ5JykpO1xuICAgICAgICAgICAgY29uc3QgbXV0YXRpb24gPSBkYXRhTG9hZGVyKGJhdGNoTG9hZGVyKCdtdXRhdGlvbicpKTtcbiAgICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGRhdGFMb2FkZXIoYmF0Y2hMb2FkZXIoJ3N1YnNjcmlwdGlvbicpKTtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIG11dGF0aW9uXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuICh7IG9wICB9KT0+e1xuICAgICAgICAgICAgICAgIHJldHVybiBvYnNlcnZhYmxlKChvYnNlcnZlcik9PntcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9hZGVyID0gbG9hZGVyc1tvcC50eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBwcm9taXNlICwgY2FuY2VsICB9ID0gbG9hZGVyLmxvYWQob3ApO1xuICAgICAgICAgICAgICAgICAgICBsZXQgX3JlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKChyZXMpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVzID0gcmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtZWQgPSB0cmFuc2Zvcm1SZXN1bHQocmVzLmpzb24sIHJ1bnRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFuc2Zvcm1lZC5vaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKFRSUENDbGllbnRFcnJvci5mcm9tKHRyYW5zZm9ybWVkLmVycm9yLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGE6IHJlcy5tZXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHJlcy5tZXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogdHJhbnNmb3JtZWQucmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihUUlBDQ2xpZW50RXJyb3IuZnJvbShlcnIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhOiBfcmVzPy5tZXRhXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG5jb25zdCBiYXRjaFJlcXVlc3RlciA9IChyZXF1ZXN0ZXJPcHRzKT0+e1xuICAgIHJldHVybiAoYmF0Y2hPcHMpPT57XG4gICAgICAgIGNvbnN0IHBhdGggPSBiYXRjaE9wcy5tYXAoKG9wKT0+b3AucGF0aCkuam9pbignLCcpO1xuICAgICAgICBjb25zdCBpbnB1dHMgPSBiYXRjaE9wcy5tYXAoKG9wKT0+b3AuaW5wdXQpO1xuICAgICAgICBjb25zdCB7IHByb21pc2UgLCBjYW5jZWwgIH0gPSBqc29uSHR0cFJlcXVlc3Rlcih7XG4gICAgICAgICAgICAuLi5yZXF1ZXN0ZXJPcHRzLFxuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIGlucHV0cyxcbiAgICAgICAgICAgIGhlYWRlcnMgKCkge1xuICAgICAgICAgICAgICAgIGlmICghcmVxdWVzdGVyT3B0cy5vcHRzLmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3Rlck9wdHMub3B0cy5oZWFkZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0ZXJPcHRzLm9wdHMuaGVhZGVycyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcExpc3Q6IGJhdGNoT3BzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdGVyT3B0cy5vcHRzLmhlYWRlcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvbWlzZTogcHJvbWlzZS50aGVuKChyZXMpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzSlNPTiA9IEFycmF5LmlzQXJyYXkocmVzLmpzb24pID8gcmVzLmpzb24gOiBiYXRjaE9wcy5tYXAoKCk9PnJlcy5qc29uKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXNKU09OLm1hcCgoaXRlbSk9Pih7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhOiByZXMubWV0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb246IGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGNhbmNlbFxuICAgICAgICB9O1xuICAgIH07XG59O1xuY29uc3QgaHR0cEJhdGNoTGluayA9IGNyZWF0ZUhUVFBCYXRjaExpbmsoYmF0Y2hSZXF1ZXN0ZXIpO1xuXG5leHBvcnQgeyBjcmVhdGVIVFRQQmF0Y2hMaW5rIGFzIGMsIGh0dHBCYXRjaExpbmsgYXMgaCB9O1xuIl0sIm5hbWVzIjpbIm9ic2VydmFibGUiLCJ0IiwidHJhbnNmb3JtUmVzdWx0IiwiVCIsIlRSUENDbGllbnRFcnJvciIsInIiLCJyZXNvbHZlSFRUUExpbmtPcHRpb25zIiwiZyIsImdldFVybCIsImoiLCJqc29uSHR0cFJlcXVlc3RlciIsInRocm93RmF0YWxFcnJvciIsIkVycm9yIiwiZGF0YUxvYWRlciIsImJhdGNoTG9hZGVyIiwicGVuZGluZ0l0ZW1zIiwiZGlzcGF0Y2hUaW1lciIsImRlc3Ryb3lUaW1lckFuZFBlbmRpbmdJdGVtcyIsImNsZWFyVGltZW91dCIsImdyb3VwSXRlbXMiLCJpdGVtcyIsImdyb3VwZWRJdGVtcyIsImluZGV4IiwiaXRlbSIsImxhc3RHcm91cCIsImxlbmd0aCIsImFib3J0ZWQiLCJyZWplY3QiLCJpc1ZhbGlkIiwidmFsaWRhdGUiLCJjb25jYXQiLCJtYXAiLCJpdCIsImtleSIsInB1c2giLCJkaXNwYXRjaCIsImJhdGNoIiwiY2FuY2VsIiwidW5pdFJlc29sdmVyIiwidmFsdWUiLCJyZXNvbHZlIiwicHJvbWlzZSIsImZldGNoIiwiX2l0ZW0iLCJ0aGVuIiwicmVzdWx0IiwiaSIsImNhdGNoIiwiY2F1c2UiLCJsb2FkIiwiUHJvbWlzZSIsInNldFRpbWVvdXQiLCJldmVyeSIsImNyZWF0ZUhUVFBCYXRjaExpbmsiLCJyZXF1ZXN0ZXIiLCJodHRwQmF0Y2hMaW5rIiwib3B0cyIsInJlc29sdmVkT3B0cyIsIm1heFVSTExlbmd0aCIsIkluZmluaXR5IiwicnVudGltZSIsInR5cGUiLCJiYXRjaE9wcyIsInBhdGgiLCJvcCIsImpvaW4iLCJpbnB1dHMiLCJpbnB1dCIsInVybCIsInF1ZXJ5IiwibXV0YXRpb24iLCJzdWJzY3JpcHRpb24iLCJsb2FkZXJzIiwib2JzZXJ2ZXIiLCJsb2FkZXIiLCJfcmVzIiwidW5kZWZpbmVkIiwicmVzIiwidHJhbnNmb3JtZWQiLCJqc29uIiwib2siLCJlcnJvciIsImZyb20iLCJtZXRhIiwibmV4dCIsImNvbnRleHQiLCJjb21wbGV0ZSIsImVyciIsImJhdGNoUmVxdWVzdGVyIiwicmVxdWVzdGVyT3B0cyIsImhlYWRlcnMiLCJvcExpc3QiLCJyZXNKU09OIiwiQXJyYXkiLCJpc0FycmF5IiwiYyIsImgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/client/dist/httpBatchLink-204206a5.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/client/dist/httpUtils-f58ceda1.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/httpUtils-f58ceda1.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   a: () => (/* binding */ getBody),\n/* harmony export */   b: () => (/* binding */ getFetch),\n/* harmony export */   f: () => (/* binding */ fetchHTTPResponse),\n/* harmony export */   g: () => (/* binding */ getUrl),\n/* harmony export */   h: () => (/* binding */ httpRequest),\n/* harmony export */   j: () => (/* binding */ jsonHttpRequester),\n/* harmony export */   r: () => (/* binding */ resolveHTTPLinkOptions)\n/* harmony export */ });\n/* harmony import */ var _TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TRPCClientError-0de4d231.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/TRPCClientError-0de4d231.mjs\");\n\nconst isFunction = (fn)=>typeof fn === \"function\";\nfunction getFetch(customFetchImpl) {\n    if (customFetchImpl) {\n        return customFetchImpl;\n    }\n    if (false) {}\n    if (typeof globalThis !== \"undefined\" && isFunction(globalThis.fetch)) {\n        return globalThis.fetch;\n    }\n    throw new Error(\"No fetch implementation found\");\n}\nfunction getAbortController(customAbortControllerImpl) {\n    if (customAbortControllerImpl) {\n        return customAbortControllerImpl;\n    }\n    // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n    if (false) {}\n    // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n    if (typeof globalThis !== \"undefined\" && globalThis.AbortController) {\n        return globalThis.AbortController;\n    }\n    return null;\n}\nfunction resolveHTTPLinkOptions(opts) {\n    return {\n        url: opts.url.toString().replace(/\\/$/, \"\"),\n        fetch: opts.fetch,\n        AbortController: getAbortController(opts.AbortController)\n    };\n}\n// https://github.com/trpc/trpc/pull/669\nfunction arrayToDict(array) {\n    const dict = {};\n    for(let index = 0; index < array.length; index++){\n        const element = array[index];\n        dict[index] = element;\n    }\n    return dict;\n}\nconst METHOD = {\n    query: \"GET\",\n    mutation: \"POST\"\n};\nfunction getInput(opts) {\n    return \"input\" in opts ? opts.runtime.transformer.serialize(opts.input) : arrayToDict(opts.inputs.map((_input)=>opts.runtime.transformer.serialize(_input)));\n}\nconst getUrl = (opts)=>{\n    let url = opts.url + \"/\" + opts.path;\n    const queryParts = [];\n    if (\"inputs\" in opts) {\n        queryParts.push(\"batch=1\");\n    }\n    if (opts.type === \"query\") {\n        const input = getInput(opts);\n        if (input !== undefined) {\n            queryParts.push(`input=${encodeURIComponent(JSON.stringify(input))}`);\n        }\n    }\n    if (queryParts.length) {\n        url += \"?\" + queryParts.join(\"&\");\n    }\n    return url;\n};\nconst getBody = (opts)=>{\n    if (opts.type === \"query\") {\n        return undefined;\n    }\n    const input = getInput(opts);\n    return input !== undefined ? JSON.stringify(input) : undefined;\n};\nconst jsonHttpRequester = (opts)=>{\n    return httpRequest({\n        ...opts,\n        contentTypeHeader: \"application/json\",\n        getUrl,\n        getBody\n    });\n};\nasync function fetchHTTPResponse(opts, ac) {\n    const url = opts.getUrl(opts);\n    const body = opts.getBody(opts);\n    const { type } = opts;\n    const resolvedHeaders = await opts.headers();\n    /* istanbul ignore if -- @preserve */ if (type === \"subscription\") {\n        throw new Error(\"Subscriptions should use wsLink\");\n    }\n    const headers = {\n        ...opts.contentTypeHeader ? {\n            \"content-type\": opts.contentTypeHeader\n        } : {},\n        ...opts.batchModeHeader ? {\n            \"trpc-batch-mode\": opts.batchModeHeader\n        } : {},\n        ...resolvedHeaders\n    };\n    return getFetch(opts.fetch)(url, {\n        method: METHOD[type],\n        signal: ac?.signal,\n        body: body,\n        headers\n    });\n}\nfunction httpRequest(opts) {\n    const ac = opts.AbortController ? new opts.AbortController() : null;\n    const meta = {};\n    let done = false;\n    const promise = new Promise((resolve, reject)=>{\n        fetchHTTPResponse(opts, ac).then((_res)=>{\n            meta.response = _res;\n            done = true;\n            return _res.json();\n        }).then((json)=>{\n            meta.responseJSON = json;\n            resolve({\n                json: json,\n                meta\n            });\n        }).catch((err)=>{\n            done = true;\n            reject(_TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_0__.T.from(err, {\n                meta\n            }));\n        });\n    });\n    const cancel = ()=>{\n        if (!done) {\n            ac?.abort();\n        }\n    };\n    return {\n        promise,\n        cancel\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvaHR0cFV0aWxzLWY1OGNlZGExLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRTtBQUV0RSxNQUFNRSxhQUFhLENBQUNDLEtBQUssT0FBT0EsT0FBTztBQUN2QyxTQUFTQyxTQUFTQyxlQUFlO0lBQzdCLElBQUlBLGlCQUFpQjtRQUNqQixPQUFPQTtJQUNYO0lBQ0EsSUFBSSxLQUF5RCxFQUFFLEVBRTlEO0lBQ0QsSUFBSSxPQUFPRyxlQUFlLGVBQWVOLFdBQVdNLFdBQVdELEtBQUssR0FBRztRQUNuRSxPQUFPQyxXQUFXRCxLQUFLO0lBQzNCO0lBQ0EsTUFBTSxJQUFJRSxNQUFNO0FBQ3BCO0FBRUEsU0FBU0MsbUJBQW1CQyx5QkFBeUI7SUFDakQsSUFBSUEsMkJBQTJCO1FBQzNCLE9BQU9BO0lBQ1g7SUFDQSxvRUFBb0U7SUFDcEUsSUFBSSxLQUF1RCxFQUFFLEVBRTVEO0lBQ0Qsb0VBQW9FO0lBQ3BFLElBQUksT0FBT0gsZUFBZSxlQUFlQSxXQUFXSSxlQUFlLEVBQUU7UUFDakUsT0FBT0osV0FBV0ksZUFBZTtJQUNyQztJQUNBLE9BQU87QUFDWDtBQUVBLFNBQVNDLHVCQUF1QkMsSUFBSTtJQUNoQyxPQUFPO1FBQ0hDLEtBQUtELEtBQUtDLEdBQUcsQ0FBQ0MsUUFBUSxHQUFHQyxPQUFPLENBQUMsT0FBTztRQUN4Q1YsT0FBT08sS0FBS1AsS0FBSztRQUNqQkssaUJBQWlCRixtQkFBbUJJLEtBQUtGLGVBQWU7SUFDNUQ7QUFDSjtBQUNBLHdDQUF3QztBQUN4QyxTQUFTTSxZQUFZQyxLQUFLO0lBQ3RCLE1BQU1DLE9BQU8sQ0FBQztJQUNkLElBQUksSUFBSUMsUUFBUSxHQUFHQSxRQUFRRixNQUFNRyxNQUFNLEVBQUVELFFBQVE7UUFDN0MsTUFBTUUsVUFBVUosS0FBSyxDQUFDRSxNQUFNO1FBQzVCRCxJQUFJLENBQUNDLE1BQU0sR0FBR0U7SUFDbEI7SUFDQSxPQUFPSDtBQUNY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VDtZQUNKO1FBQ0osR0FBR1csS0FBSyxDQUFDLENBQUNDO1lBQ05YLE9BQU87WUFDUEksT0FBTzdELDREQUFlQSxDQUFDcUUsSUFBSSxDQUFDRCxLQUFLO2dCQUM3Qlo7WUFDSjtRQUNKO0lBQ0o7SUFDQSxNQUFNYyxTQUFTO1FBQ1gsSUFBSSxDQUFDYixNQUFNO1lBQ1BSLElBQUlzQjtRQUNSO0lBQ0o7SUFDQSxPQUFPO1FBQ0hiO1FBQ0FZO0lBQ0o7QUFDSjtBQUVtSiIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9jbGllbnQvZGlzdC9odHRwVXRpbHMtZjU4Y2VkYTEubWpzP2E4ZDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVCBhcyBUUlBDQ2xpZW50RXJyb3IgfSBmcm9tICcuL1RSUENDbGllbnRFcnJvci0wZGU0ZDIzMS5tanMnO1xuXG5jb25zdCBpc0Z1bmN0aW9uID0gKGZuKT0+dHlwZW9mIGZuID09PSAnZnVuY3Rpb24nO1xuZnVuY3Rpb24gZ2V0RmV0Y2goY3VzdG9tRmV0Y2hJbXBsKSB7XG4gICAgaWYgKGN1c3RvbUZldGNoSW1wbCkge1xuICAgICAgICByZXR1cm4gY3VzdG9tRmV0Y2hJbXBsO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNGdW5jdGlvbih3aW5kb3cuZmV0Y2gpKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuZmV0Y2g7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNGdW5jdGlvbihnbG9iYWxUaGlzLmZldGNoKSkge1xuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcy5mZXRjaDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBmZXRjaCBpbXBsZW1lbnRhdGlvbiBmb3VuZCcpO1xufVxuXG5mdW5jdGlvbiBnZXRBYm9ydENvbnRyb2xsZXIoY3VzdG9tQWJvcnRDb250cm9sbGVySW1wbCkge1xuICAgIGlmIChjdXN0b21BYm9ydENvbnRyb2xsZXJJbXBsKSB7XG4gICAgICAgIHJldHVybiBjdXN0b21BYm9ydENvbnRyb2xsZXJJbXBsO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1vcHRpb25hbC1jaGFpblxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuQWJvcnRDb250cm9sbGVyKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuQWJvcnRDb250cm9sbGVyO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1vcHRpb25hbC1jaGFpblxuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsVGhpcy5BYm9ydENvbnRyb2xsZXIpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXMuQWJvcnRDb250cm9sbGVyO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUhUVFBMaW5rT3B0aW9ucyhvcHRzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXJsOiBvcHRzLnVybC50b1N0cmluZygpLnJlcGxhY2UoL1xcLyQvLCAnJyksXG4gICAgICAgIGZldGNoOiBvcHRzLmZldGNoLFxuICAgICAgICBBYm9ydENvbnRyb2xsZXI6IGdldEFib3J0Q29udHJvbGxlcihvcHRzLkFib3J0Q29udHJvbGxlcilcbiAgICB9O1xufVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RycGMvdHJwYy9wdWxsLzY2OVxuZnVuY3Rpb24gYXJyYXlUb0RpY3QoYXJyYXkpIHtcbiAgICBjb25zdCBkaWN0ID0ge307XG4gICAgZm9yKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYXJyYXkubGVuZ3RoOyBpbmRleCsrKXtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgZGljdFtpbmRleF0gPSBlbGVtZW50O1xuICAgIH1cbiAgICByZXR1cm4gZGljdDtcbn1cbmNvbnN0IE1FVEhPRCA9IHtcbiAgICBxdWVyeTogJ0dFVCcsXG4gICAgbXV0YXRpb246ICdQT1NUJ1xufTtcbmZ1bmN0aW9uIGdldElucHV0KG9wdHMpIHtcbiAgICByZXR1cm4gJ2lucHV0JyBpbiBvcHRzID8gb3B0cy5ydW50aW1lLnRyYW5zZm9ybWVyLnNlcmlhbGl6ZShvcHRzLmlucHV0KSA6IGFycmF5VG9EaWN0KG9wdHMuaW5wdXRzLm1hcCgoX2lucHV0KT0+b3B0cy5ydW50aW1lLnRyYW5zZm9ybWVyLnNlcmlhbGl6ZShfaW5wdXQpKSk7XG59XG5jb25zdCBnZXRVcmwgPSAob3B0cyk9PntcbiAgICBsZXQgdXJsID0gb3B0cy51cmwgKyAnLycgKyBvcHRzLnBhdGg7XG4gICAgY29uc3QgcXVlcnlQYXJ0cyA9IFtdO1xuICAgIGlmICgnaW5wdXRzJyBpbiBvcHRzKSB7XG4gICAgICAgIHF1ZXJ5UGFydHMucHVzaCgnYmF0Y2g9MScpO1xuICAgIH1cbiAgICBpZiAob3B0cy50eXBlID09PSAncXVlcnknKSB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gZ2V0SW5wdXQob3B0cyk7XG4gICAgICAgIGlmIChpbnB1dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeVBhcnRzLnB1c2goYGlucHV0PSR7ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGlucHV0KSl9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHF1ZXJ5UGFydHMubGVuZ3RoKSB7XG4gICAgICAgIHVybCArPSAnPycgKyBxdWVyeVBhcnRzLmpvaW4oJyYnKTtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbn07XG5jb25zdCBnZXRCb2R5ID0gKG9wdHMpPT57XG4gICAgaWYgKG9wdHMudHlwZSA9PT0gJ3F1ZXJ5Jykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBpbnB1dCA9IGdldElucHV0KG9wdHMpO1xuICAgIHJldHVybiBpbnB1dCAhPT0gdW5kZWZpbmVkID8gSlNPTi5zdHJpbmdpZnkoaW5wdXQpIDogdW5kZWZpbmVkO1xufTtcbmNvbnN0IGpzb25IdHRwUmVxdWVzdGVyID0gKG9wdHMpPT57XG4gICAgcmV0dXJuIGh0dHBSZXF1ZXN0KHtcbiAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgY29udGVudFR5cGVIZWFkZXI6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgZ2V0VXJsLFxuICAgICAgICBnZXRCb2R5XG4gICAgfSk7XG59O1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hIVFRQUmVzcG9uc2Uob3B0cywgYWMpIHtcbiAgICBjb25zdCB1cmwgPSBvcHRzLmdldFVybChvcHRzKTtcbiAgICBjb25zdCBib2R5ID0gb3B0cy5nZXRCb2R5KG9wdHMpO1xuICAgIGNvbnN0IHsgdHlwZSAgfSA9IG9wdHM7XG4gICAgY29uc3QgcmVzb2x2ZWRIZWFkZXJzID0gYXdhaXQgb3B0cy5oZWFkZXJzKCk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmIC0tIEBwcmVzZXJ2ZSAqLyBpZiAodHlwZSA9PT0gJ3N1YnNjcmlwdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdWJzY3JpcHRpb25zIHNob3VsZCB1c2Ugd3NMaW5rJyk7XG4gICAgfVxuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIC4uLm9wdHMuY29udGVudFR5cGVIZWFkZXIgPyB7XG4gICAgICAgICAgICAnY29udGVudC10eXBlJzogb3B0cy5jb250ZW50VHlwZUhlYWRlclxuICAgICAgICB9IDoge30sXG4gICAgICAgIC4uLm9wdHMuYmF0Y2hNb2RlSGVhZGVyID8ge1xuICAgICAgICAgICAgJ3RycGMtYmF0Y2gtbW9kZSc6IG9wdHMuYmF0Y2hNb2RlSGVhZGVyXG4gICAgICAgIH0gOiB7fSxcbiAgICAgICAgLi4ucmVzb2x2ZWRIZWFkZXJzXG4gICAgfTtcbiAgICByZXR1cm4gZ2V0RmV0Y2gob3B0cy5mZXRjaCkodXJsLCB7XG4gICAgICAgIG1ldGhvZDogTUVUSE9EW3R5cGVdLFxuICAgICAgICBzaWduYWw6IGFjPy5zaWduYWwsXG4gICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgIGhlYWRlcnNcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGh0dHBSZXF1ZXN0KG9wdHMpIHtcbiAgICBjb25zdCBhYyA9IG9wdHMuQWJvcnRDb250cm9sbGVyID8gbmV3IG9wdHMuQWJvcnRDb250cm9sbGVyKCkgOiBudWxsO1xuICAgIGNvbnN0IG1ldGEgPSB7fTtcbiAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xuICAgICAgICBmZXRjaEhUVFBSZXNwb25zZShvcHRzLCBhYykudGhlbigoX3Jlcyk9PntcbiAgICAgICAgICAgIG1ldGEucmVzcG9uc2UgPSBfcmVzO1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gX3Jlcy5qc29uKCk7XG4gICAgICAgIH0pLnRoZW4oKGpzb24pPT57XG4gICAgICAgICAgICBtZXRhLnJlc3BvbnNlSlNPTiA9IGpzb247XG4gICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICBqc29uOiBqc29uLFxuICAgICAgICAgICAgICAgIG1ldGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KS5jYXRjaCgoZXJyKT0+e1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZWplY3QoVFJQQ0NsaWVudEVycm9yLmZyb20oZXJyLCB7XG4gICAgICAgICAgICAgICAgbWV0YVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBjb25zdCBjYW5jZWwgPSAoKT0+e1xuICAgICAgICBpZiAoIWRvbmUpIHtcbiAgICAgICAgICAgIGFjPy5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9taXNlLFxuICAgICAgICBjYW5jZWxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBnZXRCb2R5IGFzIGEsIGdldEZldGNoIGFzIGIsIGZldGNoSFRUUFJlc3BvbnNlIGFzIGYsIGdldFVybCBhcyBnLCBodHRwUmVxdWVzdCBhcyBoLCBqc29uSHR0cFJlcXVlc3RlciBhcyBqLCByZXNvbHZlSFRUUExpbmtPcHRpb25zIGFzIHIgfTtcbiJdLCJuYW1lcyI6WyJUIiwiVFJQQ0NsaWVudEVycm9yIiwiaXNGdW5jdGlvbiIsImZuIiwiZ2V0RmV0Y2giLCJjdXN0b21GZXRjaEltcGwiLCJ3aW5kb3ciLCJmZXRjaCIsImdsb2JhbFRoaXMiLCJFcnJvciIsImdldEFib3J0Q29udHJvbGxlciIsImN1c3RvbUFib3J0Q29udHJvbGxlckltcGwiLCJBYm9ydENvbnRyb2xsZXIiLCJyZXNvbHZlSFRUUExpbmtPcHRpb25zIiwib3B0cyIsInVybCIsInRvU3RyaW5nIiwicmVwbGFjZSIsImFycmF5VG9EaWN0IiwiYXJyYXkiLCJkaWN0IiwiaW5kZXgiLCJsZW5ndGgiLCJlbGVtZW50IiwiTUVUSE9EIiwicXVlcnkiLCJtdXRhdGlvbiIsImdldElucHV0IiwicnVudGltZSIsInRyYW5zZm9ybWVyIiwic2VyaWFsaXplIiwiaW5wdXQiLCJpbnB1dHMiLCJtYXAiLCJfaW5wdXQiLCJnZXRVcmwiLCJwYXRoIiwicXVlcnlQYXJ0cyIsInB1c2giLCJ0eXBlIiwidW5kZWZpbmVkIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImpvaW4iLCJnZXRCb2R5IiwianNvbkh0dHBSZXF1ZXN0ZXIiLCJodHRwUmVxdWVzdCIsImNvbnRlbnRUeXBlSGVhZGVyIiwiZmV0Y2hIVFRQUmVzcG9uc2UiLCJhYyIsImJvZHkiLCJyZXNvbHZlZEhlYWRlcnMiLCJoZWFkZXJzIiwiYmF0Y2hNb2RlSGVhZGVyIiwibWV0aG9kIiwic2lnbmFsIiwibWV0YSIsImRvbmUiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ0aGVuIiwiX3JlcyIsInJlc3BvbnNlIiwianNvbiIsInJlc3BvbnNlSlNPTiIsImNhdGNoIiwiZXJyIiwiZnJvbSIsImNhbmNlbCIsImFib3J0IiwiYSIsImIiLCJmIiwiZyIsImgiLCJqIiwiciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/client/dist/httpUtils-f58ceda1.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/client/dist/index.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@trpc/client/dist/index.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TRPCClientError: () => (/* reexport safe */ _TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__.T),\n/* harmony export */   TRPCUntypedClient: () => (/* binding */ TRPCUntypedClient),\n/* harmony export */   clientCallTypeToProcedureType: () => (/* binding */ clientCallTypeToProcedureType),\n/* harmony export */   createTRPCClient: () => (/* binding */ createTRPCClient),\n/* harmony export */   createTRPCClientProxy: () => (/* binding */ createTRPCClientProxy),\n/* harmony export */   createTRPCProxyClient: () => (/* binding */ createTRPCProxyClient),\n/* harmony export */   createTRPCUntypedClient: () => (/* binding */ createTRPCUntypedClient),\n/* harmony export */   createWSClient: () => (/* reexport safe */ _links_wsLink_mjs__WEBPACK_IMPORTED_MODULE_8__.createWSClient),\n/* harmony export */   experimental_formDataLink: () => (/* binding */ experimental_formDataLink),\n/* harmony export */   getFetch: () => (/* reexport safe */ _httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_4__.b),\n/* harmony export */   getUntypedClient: () => (/* binding */ getUntypedClient),\n/* harmony export */   httpBatchLink: () => (/* reexport safe */ _httpBatchLink_204206a5_mjs__WEBPACK_IMPORTED_MODULE_5__.h),\n/* harmony export */   httpLink: () => (/* reexport safe */ _links_httpLink_mjs__WEBPACK_IMPORTED_MODULE_6__.httpLink),\n/* harmony export */   httpLinkFactory: () => (/* reexport safe */ _links_httpLink_mjs__WEBPACK_IMPORTED_MODULE_6__.httpLinkFactory),\n/* harmony export */   loggerLink: () => (/* reexport safe */ _links_loggerLink_mjs__WEBPACK_IMPORTED_MODULE_7__.loggerLink),\n/* harmony export */   splitLink: () => (/* reexport safe */ _splitLink_4c75f7be_mjs__WEBPACK_IMPORTED_MODULE_1__.s),\n/* harmony export */   unstable_httpBatchStreamLink: () => (/* binding */ unstable_httpBatchStreamLink),\n/* harmony export */   wsLink: () => (/* reexport safe */ _links_wsLink_mjs__WEBPACK_IMPORTED_MODULE_8__.wsLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(rsc)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n/* harmony import */ var _splitLink_4c75f7be_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./splitLink-4c75f7be.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/splitLink-4c75f7be.mjs\");\n/* harmony import */ var _TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TRPCClientError-0de4d231.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/TRPCClientError-0de4d231.mjs\");\n/* harmony import */ var _trpc_server_shared__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @trpc/server/shared */ \"(rsc)/./node_modules/@trpc/server/dist/shared/index.mjs\");\n/* harmony import */ var _httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./httpUtils-f58ceda1.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/httpUtils-f58ceda1.mjs\");\n/* harmony import */ var _httpBatchLink_204206a5_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./httpBatchLink-204206a5.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/httpBatchLink-204206a5.mjs\");\n/* harmony import */ var _links_httpLink_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./links/httpLink.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/links/httpLink.mjs\");\n/* harmony import */ var _links_loggerLink_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./links/loggerLink.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/links/loggerLink.mjs\");\n/* harmony import */ var _links_wsLink_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./links/wsLink.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/links/wsLink.mjs\");\n/* harmony import */ var _transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./transformResult-ace864b8.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass TRPCUntypedClient {\n    $request({ type, input, path, context = {} }) {\n        const chain$ = (0,_splitLink_4c75f7be_mjs__WEBPACK_IMPORTED_MODULE_1__.c)({\n            links: this.links,\n            op: {\n                id: ++this.requestId,\n                type,\n                path,\n                input,\n                context\n            }\n        });\n        return chain$.pipe((0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.share)());\n    }\n    requestAsPromise(opts) {\n        const req$ = this.$request(opts);\n        const { promise, abort } = (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observableToPromise)(req$);\n        const abortablePromise = new Promise((resolve, reject)=>{\n            opts.signal?.addEventListener(\"abort\", abort);\n            promise.then((envelope)=>{\n                resolve(envelope.result.data);\n            }).catch((err)=>{\n                reject(_TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(err));\n            });\n        });\n        return abortablePromise;\n    }\n    query(path, input, opts) {\n        return this.requestAsPromise({\n            type: \"query\",\n            path,\n            input,\n            context: opts?.context,\n            signal: opts?.signal\n        });\n    }\n    mutation(path, input, opts) {\n        return this.requestAsPromise({\n            type: \"mutation\",\n            path,\n            input,\n            context: opts?.context,\n            signal: opts?.signal\n        });\n    }\n    subscription(path, input, opts) {\n        const observable$ = this.$request({\n            type: \"subscription\",\n            path,\n            input,\n            context: opts?.context\n        });\n        return observable$.subscribe({\n            next (envelope) {\n                if (envelope.result.type === \"started\") {\n                    opts.onStarted?.();\n                } else if (envelope.result.type === \"stopped\") {\n                    opts.onStopped?.();\n                } else {\n                    opts.onData?.(envelope.result.data);\n                }\n            },\n            error (err) {\n                opts.onError?.(err);\n            },\n            complete () {\n                opts.onComplete?.();\n            }\n        });\n    }\n    constructor(opts){\n        this.requestId = 0;\n        const combinedTransformer = (()=>{\n            const transformer = opts.transformer;\n            if (!transformer) {\n                return {\n                    input: {\n                        serialize: (data)=>data,\n                        deserialize: (data)=>data\n                    },\n                    output: {\n                        serialize: (data)=>data,\n                        deserialize: (data)=>data\n                    }\n                };\n            }\n            if (\"input\" in transformer) {\n                return opts.transformer;\n            }\n            return {\n                input: transformer,\n                output: transformer\n            };\n        })();\n        this.runtime = {\n            transformer: {\n                serialize: (data)=>combinedTransformer.input.serialize(data),\n                deserialize: (data)=>combinedTransformer.output.deserialize(data)\n            },\n            combinedTransformer\n        };\n        // Initialize the links\n        this.links = opts.links.map((link)=>link(this.runtime));\n    }\n}\nfunction createTRPCUntypedClient(opts) {\n    return new TRPCUntypedClient(opts);\n}\n/**\n * @deprecated use `createTRPCProxyClient` instead\n */ function createTRPCClient(opts) {\n    const client = new TRPCUntypedClient(opts);\n    return client;\n}\nconst clientCallTypeMap = {\n    query: \"query\",\n    mutate: \"mutation\",\n    subscribe: \"subscription\"\n};\n/** @internal */ const clientCallTypeToProcedureType = (clientCallType)=>{\n    return clientCallTypeMap[clientCallType];\n};\n/**\n * @deprecated use `createTRPCProxyClient` instead\n * @internal\n */ function createTRPCClientProxy(client) {\n    return (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_3__.createFlatProxy)((key)=>{\n        if (client.hasOwnProperty(key)) {\n            return client[key];\n        }\n        if (key === \"__untypedClient\") {\n            return client;\n        }\n        return (0,_trpc_server_shared__WEBPACK_IMPORTED_MODULE_3__.createRecursiveProxy)(({ path, args })=>{\n            const pathCopy = [\n                key,\n                ...path\n            ];\n            const procedureType = clientCallTypeToProcedureType(pathCopy.pop());\n            const fullPath = pathCopy.join(\".\");\n            return client[procedureType](fullPath, ...args);\n        });\n    });\n}\nfunction createTRPCProxyClient(opts) {\n    const client = new TRPCUntypedClient(opts);\n    const proxy = createTRPCClientProxy(client);\n    return proxy;\n}\n/**\n * Get an untyped client from a proxy client\n * @internal\n */ function getUntypedClient(client) {\n    return client.__untypedClient;\n}\nfunction getTextDecoder(customTextDecoder) {\n    if (customTextDecoder) {\n        return customTextDecoder;\n    }\n    // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n    if (false) {}\n    // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n    if (typeof globalThis !== \"undefined\" && globalThis.TextDecoder) {\n        return new globalThis.TextDecoder();\n    }\n    throw new Error(\"No TextDecoder implementation found\");\n}\n// Stream parsing adapted from https://www.loginradius.com/blog/engineering/guest-post/http-streaming-with-nodejs-and-fetch-api/\n/**\n * @internal\n * @description Take a stream of bytes and call `onLine` with\n * a JSON object for each line in the stream. Expected stream\n * format is:\n * ```json\n * {\"1\": {...}\n * ,\"0\": {...}\n * }\n * ```\n */ async function parseJSONStream(opts) {\n    const parse = opts.parse ?? JSON.parse;\n    const onLine = (line)=>{\n        if (opts.signal?.aborted) return;\n        if (!line || line === \"}\") {\n            return;\n        }\n        /**\n     * At this point, `line` can be one of two things:\n     * - The first line of the stream `{\"2\":{...}`\n     * - A line in the middle of the stream `,\"2\":{...}`\n     */ const indexOfColon = line.indexOf(\":\");\n        const indexAsStr = line.substring(2, indexOfColon - 1);\n        const text = line.substring(indexOfColon + 1);\n        opts.onSingle(Number(indexAsStr), parse(text));\n    };\n    await readLines(opts.readableStream, onLine, opts.textDecoder);\n}\n/**\n * Handle transforming a stream of bytes into lines of text.\n * To avoid using AsyncIterators / AsyncGenerators,\n * we use a callback for each line.\n *\n * @param readableStream can be a NodeJS stream or a WebAPI stream\n * @param onLine will be called for every line ('\\n' delimited) in the stream\n */ async function readLines(readableStream, onLine, textDecoder) {\n    let partOfLine = \"\";\n    const onChunk = (chunk)=>{\n        const chunkText = textDecoder.decode(chunk);\n        const chunkLines = chunkText.split(\"\\n\");\n        if (chunkLines.length === 1) {\n            partOfLine += chunkLines[0];\n        } else if (chunkLines.length > 1) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- length checked on line above\n            onLine(partOfLine + chunkLines[0]);\n            for(let i = 1; i < chunkLines.length - 1; i++){\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- length checked on line above\n                onLine(chunkLines[i]);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- length doesn't change, so is necessarily > 1\n            partOfLine = chunkLines[chunkLines.length - 1];\n        }\n    };\n    // we handle 2 different types of streams, this if where we figure out which one we have\n    if (\"getReader\" in readableStream) {\n        await readStandardChunks(readableStream, onChunk);\n    } else {\n        await readNodeChunks(readableStream, onChunk);\n    }\n    onLine(partOfLine);\n}\n/**\n * Handle NodeJS stream\n */ function readNodeChunks(stream, onChunk) {\n    return new Promise((resolve)=>{\n        stream.on(\"data\", onChunk);\n        stream.on(\"end\", resolve);\n    });\n}\n/**\n * Handle WebAPI stream\n */ async function readStandardChunks(stream, onChunk) {\n    const reader = stream.getReader();\n    let readResult = await reader.read();\n    while(!readResult.done){\n        onChunk(readResult.value);\n        readResult = await reader.read();\n    }\n}\nconst streamingJsonHttpRequester = (opts, onSingle)=>{\n    const ac = opts.AbortController ? new opts.AbortController() : null;\n    const responsePromise = (0,_httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_4__.f)({\n        ...opts,\n        contentTypeHeader: \"application/json\",\n        batchModeHeader: \"stream\",\n        getUrl: _httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_4__.g,\n        getBody: _httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_4__.a\n    }, ac);\n    const cancel = ()=>ac?.abort();\n    const promise = responsePromise.then(async (res)=>{\n        if (!res.body) throw new Error(\"Received response without body\");\n        const meta = {\n            response: res\n        };\n        return parseJSONStream({\n            readableStream: res.body,\n            onSingle,\n            parse: (string)=>({\n                    json: JSON.parse(string),\n                    meta\n                }),\n            signal: ac?.signal,\n            textDecoder: opts.textDecoder\n        });\n    });\n    return {\n        cancel,\n        promise\n    };\n};\nconst streamRequester = (requesterOpts)=>{\n    const textDecoder = getTextDecoder(requesterOpts.opts.textDecoder);\n    return (batchOps, unitResolver)=>{\n        const path = batchOps.map((op)=>op.path).join(\",\");\n        const inputs = batchOps.map((op)=>op.input);\n        const { cancel, promise } = streamingJsonHttpRequester({\n            ...requesterOpts,\n            textDecoder,\n            path,\n            inputs,\n            headers () {\n                if (!requesterOpts.opts.headers) {\n                    return {};\n                }\n                if (typeof requesterOpts.opts.headers === \"function\") {\n                    return requesterOpts.opts.headers({\n                        opList: batchOps\n                    });\n                }\n                return requesterOpts.opts.headers;\n            }\n        }, (index, res)=>{\n            unitResolver(index, res);\n        });\n        return {\n            /**\n       * return an empty array because the batchLoader expects an array of results\n       * but we've already called the `unitResolver` for each of them, there's\n       * nothing left to do here.\n       */ promise: promise.then(()=>[]),\n            cancel\n        };\n    };\n};\nconst unstable_httpBatchStreamLink = (0,_httpBatchLink_204206a5_mjs__WEBPACK_IMPORTED_MODULE_5__.c)(streamRequester);\nconst getBody = (opts)=>{\n    if (!(\"input\" in opts)) {\n        return undefined;\n    }\n    if (!(opts.input instanceof FormData)) {\n        throw new Error(\"Input is not FormData\");\n    }\n    return opts.input;\n};\nconst formDataRequester = (opts)=>{\n    if (opts.type !== \"mutation\") {\n        // TODO(?) handle formdata queries\n        throw new Error(\"We only handle mutations with formdata\");\n    }\n    return (0,_httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_4__.h)({\n        ...opts,\n        getUrl () {\n            return `${opts.url}/${opts.path}`;\n        },\n        getBody\n    });\n};\nconst experimental_formDataLink = (0,_links_httpLink_mjs__WEBPACK_IMPORTED_MODULE_6__.httpLinkFactory)({\n    requester: formDataRequester\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBcUU7QUFDVDtBQUNGO0FBQ1k7QUFDQTtBQUNNO0FBQ3FDO0FBQ3hEO0FBQ2U7QUFDTjtBQUNYO0FBQ1U7QUFDYjtBQUNRO0FBQ3BCO0FBRXhDLE1BQU0yQjtJQUNGQyxTQUFTLEVBQUVDLElBQUksRUFBR0MsS0FBSyxFQUFHQyxJQUFJLEVBQUdDLFVBQVMsQ0FBQyxDQUFDLEVBQUcsRUFBRTtRQUM3QyxNQUFNQyxTQUFTOUIsMERBQVdBLENBQUM7WUFDdkIrQixPQUFPLElBQUksQ0FBQ0EsS0FBSztZQUNqQkMsSUFBSTtnQkFDQUMsSUFBSSxFQUFFLElBQUksQ0FBQ0MsU0FBUztnQkFDcEJSO2dCQUNBRTtnQkFDQUQ7Z0JBQ0FFO1lBQ0o7UUFDSjtRQUNBLE9BQU9DLE9BQU9LLElBQUksQ0FBQ3RDLDhEQUFLQTtJQUM1QjtJQUNBdUMsaUJBQWlCQyxJQUFJLEVBQUU7UUFDbkIsTUFBTUMsT0FBTyxJQUFJLENBQUNiLFFBQVEsQ0FBQ1k7UUFDM0IsTUFBTSxFQUFFRSxPQUFPLEVBQUdDLEtBQUssRUFBRyxHQUFHMUMsNEVBQW1CQSxDQUFDd0M7UUFDakQsTUFBTUcsbUJBQW1CLElBQUlDLFFBQVEsQ0FBQ0MsU0FBU0M7WUFDM0NQLEtBQUtRLE1BQU0sRUFBRUMsaUJBQWlCLFNBQVNOO1lBQ3ZDRCxRQUFRUSxJQUFJLENBQUMsQ0FBQ0M7Z0JBQ1ZMLFFBQVFLLFNBQVNDLE1BQU0sQ0FBQ0MsSUFBSTtZQUNoQyxHQUFHQyxLQUFLLENBQUMsQ0FBQ0M7Z0JBQ05SLE9BQU94Qyw0REFBZUEsQ0FBQ2lELElBQUksQ0FBQ0Q7WUFDaEM7UUFDSjtRQUNBLE9BQU9YO0lBQ1g7SUFDQWEsTUFBTTFCLElBQUksRUFBRUQsS0FBSyxFQUFFVSxJQUFJLEVBQUU7UUFDckIsT0FBTyxJQUFJLENBQUNELGdCQUFn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b0JBQW9CLENBQUM3SDtJQUN2QixJQUFJQSxLQUFLWCxJQUFJLEtBQUssWUFBWTtRQUMxQixrQ0FBa0M7UUFDbEMsTUFBTSxJQUFJMkUsTUFBTTtJQUNwQjtJQUNBLE9BQU92RiwwREFBV0EsQ0FBQztRQUNmLEdBQUd1QixJQUFJO1FBQ1AzQjtZQUNJLE9BQU8sQ0FBQyxFQUFFMkIsS0FBSzhILEdBQUcsQ0FBQyxDQUFDLEVBQUU5SCxLQUFLVCxJQUFJLENBQUMsQ0FBQztRQUNyQztRQUNBbUg7SUFDSjtBQUNKO0FBQ0EsTUFBTXFCLDRCQUE0QmpKLG9FQUFlQSxDQUFDO0lBQzlDa0osV0FBV0g7QUFDZjtBQUVnTyIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9jbGllbnQvZGlzdC9pbmRleC5tanM/NTQ2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzaGFyZSwgb2JzZXJ2YWJsZVRvUHJvbWlzZSB9IGZyb20gJ0B0cnBjL3NlcnZlci9vYnNlcnZhYmxlJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlQ2hhaW4gfSBmcm9tICcuL3NwbGl0TGluay00Yzc1ZjdiZS5tanMnO1xuZXhwb3J0IHsgcyBhcyBzcGxpdExpbmsgfSBmcm9tICcuL3NwbGl0TGluay00Yzc1ZjdiZS5tanMnO1xuaW1wb3J0IHsgVCBhcyBUUlBDQ2xpZW50RXJyb3IgfSBmcm9tICcuL1RSUENDbGllbnRFcnJvci0wZGU0ZDIzMS5tanMnO1xuZXhwb3J0IHsgVCBhcyBUUlBDQ2xpZW50RXJyb3IgfSBmcm9tICcuL1RSUENDbGllbnRFcnJvci0wZGU0ZDIzMS5tanMnO1xuaW1wb3J0IHsgY3JlYXRlRmxhdFByb3h5LCBjcmVhdGVSZWN1cnNpdmVQcm94eSB9IGZyb20gJ0B0cnBjL3NlcnZlci9zaGFyZWQnO1xuaW1wb3J0IHsgZiBhcyBmZXRjaEhUVFBSZXNwb25zZSwgZyBhcyBnZXRVcmwsIGEgYXMgZ2V0Qm9keSQxLCBoIGFzIGh0dHBSZXF1ZXN0IH0gZnJvbSAnLi9odHRwVXRpbHMtZjU4Y2VkYTEubWpzJztcbmV4cG9ydCB7IGIgYXMgZ2V0RmV0Y2ggfSBmcm9tICcuL2h0dHBVdGlscy1mNThjZWRhMS5tanMnO1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVIVFRQQmF0Y2hMaW5rIH0gZnJvbSAnLi9odHRwQmF0Y2hMaW5rLTIwNDIwNmE1Lm1qcyc7XG5leHBvcnQgeyBoIGFzIGh0dHBCYXRjaExpbmsgfSBmcm9tICcuL2h0dHBCYXRjaExpbmstMjA0MjA2YTUubWpzJztcbmltcG9ydCB7IGh0dHBMaW5rRmFjdG9yeSB9IGZyb20gJy4vbGlua3MvaHR0cExpbmsubWpzJztcbmV4cG9ydCB7IGh0dHBMaW5rLCBodHRwTGlua0ZhY3RvcnkgfSBmcm9tICcuL2xpbmtzL2h0dHBMaW5rLm1qcyc7XG5leHBvcnQgeyBsb2dnZXJMaW5rIH0gZnJvbSAnLi9saW5rcy9sb2dnZXJMaW5rLm1qcyc7XG5leHBvcnQgeyBjcmVhdGVXU0NsaWVudCwgd3NMaW5rIH0gZnJvbSAnLi9saW5rcy93c0xpbmsubWpzJztcbmltcG9ydCAnLi90cmFuc2Zvcm1SZXN1bHQtYWNlODY0YjgubWpzJztcblxuY2xhc3MgVFJQQ1VudHlwZWRDbGllbnQge1xuICAgICRyZXF1ZXN0KHsgdHlwZSAsIGlucHV0ICwgcGF0aCAsIGNvbnRleHQgPXt9ICB9KSB7XG4gICAgICAgIGNvbnN0IGNoYWluJCA9IGNyZWF0ZUNoYWluKHtcbiAgICAgICAgICAgIGxpbmtzOiB0aGlzLmxpbmtzLFxuICAgICAgICAgICAgb3A6IHtcbiAgICAgICAgICAgICAgICBpZDogKyt0aGlzLnJlcXVlc3RJZCxcbiAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgY29udGV4dFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNoYWluJC5waXBlKHNoYXJlKCkpO1xuICAgIH1cbiAgICByZXF1ZXN0QXNQcm9taXNlKG9wdHMpIHtcbiAgICAgICAgY29uc3QgcmVxJCA9IHRoaXMuJHJlcXVlc3Qob3B0cyk7XG4gICAgICAgIGNvbnN0IHsgcHJvbWlzZSAsIGFib3J0ICB9ID0gb2JzZXJ2YWJsZVRvUHJvbWlzZShyZXEkKTtcbiAgICAgICAgY29uc3QgYWJvcnRhYmxlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT57XG4gICAgICAgICAgICBvcHRzLnNpZ25hbD8uYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydCk7XG4gICAgICAgICAgICBwcm9taXNlLnRoZW4oKGVudmVsb3BlKT0+e1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZW52ZWxvcGUucmVzdWx0LmRhdGEpO1xuICAgICAgICAgICAgfSkuY2F0Y2goKGVycik9PntcbiAgICAgICAgICAgICAgICByZWplY3QoVFJQQ0NsaWVudEVycm9yLmZyb20oZXJyKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhYm9ydGFibGVQcm9taXNlO1xuICAgIH1cbiAgICBxdWVyeShwYXRoLCBpbnB1dCwgb3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0QXNQcm9taXNlKHtcbiAgICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBjb250ZXh0OiBvcHRzPy5jb250ZXh0LFxuICAgICAgICAgICAgc2lnbmFsOiBvcHRzPy5zaWduYWxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG11dGF0aW9uKHBhdGgsIGlucHV0LCBvcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RBc1Byb21pc2Uoe1xuICAgICAgICAgICAgdHlwZTogJ211dGF0aW9uJyxcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGNvbnRleHQ6IG9wdHM/LmNvbnRleHQsXG4gICAgICAgICAgICBzaWduYWw6IG9wdHM/LnNpZ25hbFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3Vic2NyaXB0aW9uKHBhdGgsIGlucHV0LCBvcHRzKSB7XG4gICAgICAgIGNvbnN0IG9ic2VydmFibGUkID0gdGhpcy4kcmVxdWVzdCh7XG4gICAgICAgICAgICB0eXBlOiAnc3Vic2NyaXB0aW9uJyxcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGNvbnRleHQ6IG9wdHM/LmNvbnRleHRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlJC5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dCAoZW52ZWxvcGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW52ZWxvcGUucmVzdWx0LnR5cGUgPT09ICdzdGFydGVkJykge1xuICAgICAgICAgICAgICAgICAgICBvcHRzLm9uU3RhcnRlZD8uKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbnZlbG9wZS5yZXN1bHQudHlwZSA9PT0gJ3N0b3BwZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdHMub25TdG9wcGVkPy4oKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvcHRzLm9uRGF0YT8uKGVudmVsb3BlLnJlc3VsdC5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3IgKGVycikge1xuICAgICAgICAgICAgICAgIG9wdHMub25FcnJvcj8uKGVycik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGxldGUgKCkge1xuICAgICAgICAgICAgICAgIG9wdHMub25Db21wbGV0ZT8uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihvcHRzKXtcbiAgICAgICAgdGhpcy5yZXF1ZXN0SWQgPSAwO1xuICAgICAgICBjb25zdCBjb21iaW5lZFRyYW5zZm9ybWVyID0gKCgpPT57XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1lciA9IG9wdHMudHJhbnNmb3JtZXI7XG4gICAgICAgICAgICBpZiAoIXRyYW5zZm9ybWVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcmlhbGl6ZTogKGRhdGEpPT5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzZXJpYWxpemU6IChkYXRhKT0+ZGF0YVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcmlhbGl6ZTogKGRhdGEpPT5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzZXJpYWxpemU6IChkYXRhKT0+ZGF0YVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgnaW5wdXQnIGluIHRyYW5zZm9ybWVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdHMudHJhbnNmb3JtZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlucHV0OiB0cmFuc2Zvcm1lcixcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IHRyYW5zZm9ybWVyXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSgpO1xuICAgICAgICB0aGlzLnJ1bnRpbWUgPSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1lcjoge1xuICAgICAgICAgICAgICAgIHNlcmlhbGl6ZTogKGRhdGEpPT5jb21iaW5lZFRyYW5zZm9ybWVyLmlucHV0LnNlcmlhbGl6ZShkYXRhKSxcbiAgICAgICAgICAgICAgICBkZXNlcmlhbGl6ZTogKGRhdGEpPT5jb21iaW5lZFRyYW5zZm9ybWVyLm91dHB1dC5kZXNlcmlhbGl6ZShkYXRhKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbWJpbmVkVHJhbnNmb3JtZXJcbiAgICAgICAgfTtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgbGlua3NcbiAgICAgICAgdGhpcy5saW5rcyA9IG9wdHMubGlua3MubWFwKChsaW5rKT0+bGluayh0aGlzLnJ1bnRpbWUpKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRSUENVbnR5cGVkQ2xpZW50KG9wdHMpIHtcbiAgICByZXR1cm4gbmV3IFRSUENVbnR5cGVkQ2xpZW50KG9wdHMpO1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBgY3JlYXRlVFJQQ1Byb3h5Q2xpZW50YCBpbnN0ZWFkXG4gKi8gZnVuY3Rpb24gY3JlYXRlVFJQQ0NsaWVudChvcHRzKSB7XG4gICAgY29uc3QgY2xpZW50ID0gbmV3IFRSUENVbnR5cGVkQ2xpZW50KG9wdHMpO1xuICAgIHJldHVybiBjbGllbnQ7XG59XG5cbmNvbnN0IGNsaWVudENhbGxUeXBlTWFwID0ge1xuICAgIHF1ZXJ5OiAncXVlcnknLFxuICAgIG11dGF0ZTogJ211dGF0aW9uJyxcbiAgICBzdWJzY3JpYmU6ICdzdWJzY3JpcHRpb24nXG59O1xuLyoqIEBpbnRlcm5hbCAqLyBjb25zdCBjbGllbnRDYWxsVHlwZVRvUHJvY2VkdXJlVHlwZSA9IChjbGllbnRDYWxsVHlwZSk9PntcbiAgICByZXR1cm4gY2xpZW50Q2FsbFR5cGVNYXBbY2xpZW50Q2FsbFR5cGVdO1xufTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIGBjcmVhdGVUUlBDUHJveHlDbGllbnRgIGluc3RlYWRcbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIGNyZWF0ZVRSUENDbGllbnRQcm94eShjbGllbnQpIHtcbiAgICByZXR1cm4gY3JlYXRlRmxhdFByb3h5KChrZXkpPT57XG4gICAgICAgIGlmIChjbGllbnQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGNsaWVudFtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXkgPT09ICdfX3VudHlwZWRDbGllbnQnKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnNpdmVQcm94eSgoeyBwYXRoICwgYXJncyAgfSk9PntcbiAgICAgICAgICAgIGNvbnN0IHBhdGhDb3B5ID0gW1xuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAuLi5wYXRoXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgY29uc3QgcHJvY2VkdXJlVHlwZSA9IGNsaWVudENhbGxUeXBlVG9Qcm9jZWR1cmVUeXBlKHBhdGhDb3B5LnBvcCgpKTtcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxQYXRoID0gcGF0aENvcHkuam9pbignLicpO1xuICAgICAgICAgICAgcmV0dXJuIGNsaWVudFtwcm9jZWR1cmVUeXBlXShmdWxsUGF0aCwgLi4uYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlVFJQQ1Byb3h5Q2xpZW50KG9wdHMpIHtcbiAgICBjb25zdCBjbGllbnQgPSBuZXcgVFJQQ1VudHlwZWRDbGllbnQob3B0cyk7XG4gICAgY29uc3QgcHJveHkgPSBjcmVhdGVUUlBDQ2xpZW50UHJveHkoY2xpZW50KTtcbiAgICByZXR1cm4gcHJveHk7XG59XG4vKipcbiAqIEdldCBhbiB1bnR5cGVkIGNsaWVudCBmcm9tIGEgcHJveHkgY2xpZW50XG4gKiBAaW50ZXJuYWxcbiAqLyBmdW5jdGlvbiBnZXRVbnR5cGVkQ2xpZW50KGNsaWVudCkge1xuICAgIHJldHVybiBjbGllbnQuX191bnR5cGVkQ2xpZW50O1xufVxuXG5mdW5jdGlvbiBnZXRUZXh0RGVjb2RlcihjdXN0b21UZXh0RGVjb2Rlcikge1xuICAgIGlmIChjdXN0b21UZXh0RGVjb2Rlcikge1xuICAgICAgICByZXR1cm4gY3VzdG9tVGV4dERlY29kZXI7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcHJlZmVyLW9wdGlvbmFsLWNoYWluXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5UZXh0RGVjb2Rlcikge1xuICAgICAgICByZXR1cm4gbmV3IHdpbmRvdy5UZXh0RGVjb2RlcigpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1vcHRpb25hbC1jaGFpblxuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsVGhpcy5UZXh0RGVjb2Rlcikge1xuICAgICAgICByZXR1cm4gbmV3IGdsb2JhbFRoaXMuVGV4dERlY29kZXIoKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBUZXh0RGVjb2RlciBpbXBsZW1lbnRhdGlvbiBmb3VuZCcpO1xufVxuXG4vLyBTdHJlYW0gcGFyc2luZyBhZGFwdGVkIGZyb20gaHR0cHM6Ly93d3cubG9naW5yYWRpdXMuY29tL2Jsb2cvZW5naW5lZXJpbmcvZ3Vlc3QtcG9zdC9odHRwLXN0cmVhbWluZy13aXRoLW5vZGVqcy1hbmQtZmV0Y2gtYXBpL1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBkZXNjcmlwdGlvbiBUYWtlIGEgc3RyZWFtIG9mIGJ5dGVzIGFuZCBjYWxsIGBvbkxpbmVgIHdpdGhcbiAqIGEgSlNPTiBvYmplY3QgZm9yIGVhY2ggbGluZSBpbiB0aGUgc3RyZWFtLiBFeHBlY3RlZCBzdHJlYW1cbiAqIGZvcm1hdCBpczpcbiAqIGBgYGpzb25cbiAqIHtcIjFcIjogey4uLn1cbiAqICxcIjBcIjogey4uLn1cbiAqIH1cbiAqIGBgYFxuICovIGFzeW5jIGZ1bmN0aW9uIHBhcnNlSlNPTlN0cmVhbShvcHRzKSB7XG4gICAgY29uc3QgcGFyc2UgPSBvcHRzLnBhcnNlID8/IEpTT04ucGFyc2U7XG4gICAgY29uc3Qgb25MaW5lID0gKGxpbmUpPT57XG4gICAgICAgIGlmIChvcHRzLnNpZ25hbD8uYWJvcnRlZCkgcmV0dXJuO1xuICAgICAgICBpZiAoIWxpbmUgfHwgbGluZSA9PT0gJ30nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICogQXQgdGhpcyBwb2ludCwgYGxpbmVgIGNhbiBiZSBvbmUgb2YgdHdvIHRoaW5nczpcbiAgICAgKiAtIFRoZSBmaXJzdCBsaW5lIG9mIHRoZSBzdHJlYW0gYHtcIjJcIjp7Li4ufWBcbiAgICAgKiAtIEEgbGluZSBpbiB0aGUgbWlkZGxlIG9mIHRoZSBzdHJlYW0gYCxcIjJcIjp7Li4ufWBcbiAgICAgKi8gY29uc3QgaW5kZXhPZkNvbG9uID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAgICAgIGNvbnN0IGluZGV4QXNTdHIgPSBsaW5lLnN1YnN0cmluZygyLCBpbmRleE9mQ29sb24gLSAxKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IGxpbmUuc3Vic3RyaW5nKGluZGV4T2ZDb2xvbiArIDEpO1xuICAgICAgICBvcHRzLm9uU2luZ2xlKE51bWJlcihpbmRleEFzU3RyKSwgcGFyc2UodGV4dCkpO1xuICAgIH07XG4gICAgYXdhaXQgcmVhZExpbmVzKG9wdHMucmVhZGFibGVTdHJlYW0sIG9uTGluZSwgb3B0cy50ZXh0RGVjb2Rlcik7XG59XG4vKipcbiAqIEhhbmRsZSB0cmFuc2Zvcm1pbmcgYSBzdHJlYW0gb2YgYnl0ZXMgaW50byBsaW5lcyBvZiB0ZXh0LlxuICogVG8gYXZvaWQgdXNpbmcgQXN5bmNJdGVyYXRvcnMgLyBBc3luY0dlbmVyYXRvcnMsXG4gKiB3ZSB1c2UgYSBjYWxsYmFjayBmb3IgZWFjaCBsaW5lLlxuICpcbiAqIEBwYXJhbSByZWFkYWJsZVN0cmVhbSBjYW4gYmUgYSBOb2RlSlMgc3RyZWFtIG9yIGEgV2ViQVBJIHN0cmVhbVxuICogQHBhcmFtIG9uTGluZSB3aWxsIGJlIGNhbGxlZCBmb3IgZXZlcnkgbGluZSAoJ1xcbicgZGVsaW1pdGVkKSBpbiB0aGUgc3RyZWFtXG4gKi8gYXN5bmMgZnVuY3Rpb24gcmVhZExpbmVzKHJlYWRhYmxlU3RyZWFtLCBvbkxpbmUsIHRleHREZWNvZGVyKSB7XG4gICAgbGV0IHBhcnRPZkxpbmUgPSAnJztcbiAgICBjb25zdCBvbkNodW5rID0gKGNodW5rKT0+e1xuICAgICAgICBjb25zdCBjaHVua1RleHQgPSB0ZXh0RGVjb2Rlci5kZWNvZGUoY2h1bmspO1xuICAgICAgICBjb25zdCBjaHVua0xpbmVzID0gY2h1bmtUZXh0LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgaWYgKGNodW5rTGluZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBwYXJ0T2ZMaW5lICs9IGNodW5rTGluZXNbMF07XG4gICAgICAgIH0gZWxzZSBpZiAoY2h1bmtMaW5lcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiAtLSBsZW5ndGggY2hlY2tlZCBvbiBsaW5lIGFib3ZlXG4gICAgICAgICAgICBvbkxpbmUocGFydE9mTGluZSArIGNodW5rTGluZXNbMF0pO1xuICAgICAgICAgICAgZm9yKGxldCBpID0gMTsgaSA8IGNodW5rTGluZXMubGVuZ3RoIC0gMTsgaSsrKXtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiAtLSBsZW5ndGggY2hlY2tlZCBvbiBsaW5lIGFib3ZlXG4gICAgICAgICAgICAgICAgb25MaW5lKGNodW5rTGluZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gLS0gbGVuZ3RoIGRvZXNuJ3QgY2hhbmdlLCBzbyBpcyBuZWNlc3NhcmlseSA+IDFcbiAgICAgICAgICAgIHBhcnRPZkxpbmUgPSBjaHVua0xpbmVzW2NodW5rTGluZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIHdlIGhhbmRsZSAyIGRpZmZlcmVudCB0eXBlcyBvZiBzdHJlYW1zLCB0aGlzIGlmIHdoZXJlIHdlIGZpZ3VyZSBvdXQgd2hpY2ggb25lIHdlIGhhdmVcbiAgICBpZiAoJ2dldFJlYWRlcicgaW4gcmVhZGFibGVTdHJlYW0pIHtcbiAgICAgICAgYXdhaXQgcmVhZFN0YW5kYXJkQ2h1bmtzKHJlYWRhYmxlU3RyZWFtLCBvbkNodW5rKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCByZWFkTm9kZUNodW5rcyhyZWFkYWJsZVN0cmVhbSwgb25DaHVuayk7XG4gICAgfVxuICAgIG9uTGluZShwYXJ0T2ZMaW5lKTtcbn1cbi8qKlxuICogSGFuZGxlIE5vZGVKUyBzdHJlYW1cbiAqLyBmdW5jdGlvbiByZWFkTm9kZUNodW5rcyhzdHJlYW0sIG9uQ2h1bmspIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpPT57XG4gICAgICAgIHN0cmVhbS5vbignZGF0YScsIG9uQ2h1bmspO1xuICAgICAgICBzdHJlYW0ub24oJ2VuZCcsIHJlc29sdmUpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBIYW5kbGUgV2ViQVBJIHN0cmVhbVxuICovIGFzeW5jIGZ1bmN0aW9uIHJlYWRTdGFuZGFyZENodW5rcyhzdHJlYW0sIG9uQ2h1bmspIHtcbiAgICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgbGV0IHJlYWRSZXN1bHQgPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgIHdoaWxlKCFyZWFkUmVzdWx0LmRvbmUpe1xuICAgICAgICBvbkNodW5rKHJlYWRSZXN1bHQudmFsdWUpO1xuICAgICAgICByZWFkUmVzdWx0ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICB9XG59XG5jb25zdCBzdHJlYW1pbmdKc29uSHR0cFJlcXVlc3RlciA9IChvcHRzLCBvblNpbmdsZSk9PntcbiAgICBjb25zdCBhYyA9IG9wdHMuQWJvcnRDb250cm9sbGVyID8gbmV3IG9wdHMuQWJvcnRDb250cm9sbGVyKCkgOiBudWxsO1xuICAgIGNvbnN0IHJlc3BvbnNlUHJvbWlzZSA9IGZldGNoSFRUUFJlc3BvbnNlKHtcbiAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgY29udGVudFR5cGVIZWFkZXI6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgYmF0Y2hNb2RlSGVhZGVyOiAnc3RyZWFtJyxcbiAgICAgICAgZ2V0VXJsLFxuICAgICAgICBnZXRCb2R5OiBnZXRCb2R5JDFcbiAgICB9LCBhYyk7XG4gICAgY29uc3QgY2FuY2VsID0gKCk9PmFjPy5hYm9ydCgpO1xuICAgIGNvbnN0IHByb21pc2UgPSByZXNwb25zZVByb21pc2UudGhlbihhc3luYyAocmVzKT0+e1xuICAgICAgICBpZiAoIXJlcy5ib2R5KSB0aHJvdyBuZXcgRXJyb3IoJ1JlY2VpdmVkIHJlc3BvbnNlIHdpdGhvdXQgYm9keScpO1xuICAgICAgICBjb25zdCBtZXRhID0ge1xuICAgICAgICAgICAgcmVzcG9uc2U6IHJlc1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcGFyc2VKU09OU3RyZWFtKHtcbiAgICAgICAgICAgIHJlYWRhYmxlU3RyZWFtOiByZXMuYm9keSxcbiAgICAgICAgICAgIG9uU2luZ2xlLFxuICAgICAgICAgICAgcGFyc2U6IChzdHJpbmcpPT4oe1xuICAgICAgICAgICAgICAgICAgICBqc29uOiBKU09OLnBhcnNlKHN0cmluZyksXG4gICAgICAgICAgICAgICAgICAgIG1ldGFcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHNpZ25hbDogYWM/LnNpZ25hbCxcbiAgICAgICAgICAgIHRleHREZWNvZGVyOiBvcHRzLnRleHREZWNvZGVyXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNhbmNlbCxcbiAgICAgICAgcHJvbWlzZVxuICAgIH07XG59O1xuXG5jb25zdCBzdHJlYW1SZXF1ZXN0ZXIgPSAocmVxdWVzdGVyT3B0cyk9PntcbiAgICBjb25zdCB0ZXh0RGVjb2RlciA9IGdldFRleHREZWNvZGVyKHJlcXVlc3Rlck9wdHMub3B0cy50ZXh0RGVjb2Rlcik7XG4gICAgcmV0dXJuIChiYXRjaE9wcywgdW5pdFJlc29sdmVyKT0+e1xuICAgICAgICBjb25zdCBwYXRoID0gYmF0Y2hPcHMubWFwKChvcCk9Pm9wLnBhdGgpLmpvaW4oJywnKTtcbiAgICAgICAgY29uc3QgaW5wdXRzID0gYmF0Y2hPcHMubWFwKChvcCk9Pm9wLmlucHV0KTtcbiAgICAgICAgY29uc3QgeyBjYW5jZWwgLCBwcm9taXNlICB9ID0gc3RyZWFtaW5nSnNvbkh0dHBSZXF1ZXN0ZXIoe1xuICAgICAgICAgICAgLi4ucmVxdWVzdGVyT3B0cyxcbiAgICAgICAgICAgIHRleHREZWNvZGVyLFxuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIGlucHV0cyxcbiAgICAgICAgICAgIGhlYWRlcnMgKCkge1xuICAgICAgICAgICAgICAgIGlmICghcmVxdWVzdGVyT3B0cy5vcHRzLmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3Rlck9wdHMub3B0cy5oZWFkZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0ZXJPcHRzLm9wdHMuaGVhZGVycyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcExpc3Q6IGJhdGNoT3BzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdGVyT3B0cy5vcHRzLmhlYWRlcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIChpbmRleCwgcmVzKT0+e1xuICAgICAgICAgICAgdW5pdFJlc29sdmVyKGluZGV4LCByZXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICogcmV0dXJuIGFuIGVtcHR5IGFycmF5IGJlY2F1c2UgdGhlIGJhdGNoTG9hZGVyIGV4cGVjdHMgYW4gYXJyYXkgb2YgcmVzdWx0c1xuICAgICAgICogYnV0IHdlJ3ZlIGFscmVhZHkgY2FsbGVkIHRoZSBgdW5pdFJlc29sdmVyYCBmb3IgZWFjaCBvZiB0aGVtLCB0aGVyZSdzXG4gICAgICAgKiBub3RoaW5nIGxlZnQgdG8gZG8gaGVyZS5cbiAgICAgICAqLyBwcm9taXNlOiBwcm9taXNlLnRoZW4oKCk9PltdKSxcbiAgICAgICAgICAgIGNhbmNlbFxuICAgICAgICB9O1xuICAgIH07XG59O1xuY29uc3QgdW5zdGFibGVfaHR0cEJhdGNoU3RyZWFtTGluayA9IGNyZWF0ZUhUVFBCYXRjaExpbmsoc3RyZWFtUmVxdWVzdGVyKTtcblxuY29uc3QgZ2V0Qm9keSA9IChvcHRzKT0+e1xuICAgIGlmICghKCdpbnB1dCcgaW4gb3B0cykpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKCEob3B0cy5pbnB1dCBpbnN0YW5jZW9mIEZvcm1EYXRhKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lucHV0IGlzIG5vdCBGb3JtRGF0YScpO1xuICAgIH1cbiAgICByZXR1cm4gb3B0cy5pbnB1dDtcbn07XG5jb25zdCBmb3JtRGF0YVJlcXVlc3RlciA9IChvcHRzKT0+e1xuICAgIGlmIChvcHRzLnR5cGUgIT09ICdtdXRhdGlvbicpIHtcbiAgICAgICAgLy8gVE9ETyg/KSBoYW5kbGUgZm9ybWRhdGEgcXVlcmllc1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlIG9ubHkgaGFuZGxlIG11dGF0aW9ucyB3aXRoIGZvcm1kYXRhJyk7XG4gICAgfVxuICAgIHJldHVybiBodHRwUmVxdWVzdCh7XG4gICAgICAgIC4uLm9wdHMsXG4gICAgICAgIGdldFVybCAoKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7b3B0cy51cmx9LyR7b3B0cy5wYXRofWA7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEJvZHlcbiAgICB9KTtcbn07XG5jb25zdCBleHBlcmltZW50YWxfZm9ybURhdGFMaW5rID0gaHR0cExpbmtGYWN0b3J5KHtcbiAgICByZXF1ZXN0ZXI6IGZvcm1EYXRhUmVxdWVzdGVyXG59KTtcblxuZXhwb3J0IHsgVFJQQ1VudHlwZWRDbGllbnQsIGNsaWVudENhbGxUeXBlVG9Qcm9jZWR1cmVUeXBlLCBjcmVhdGVUUlBDQ2xpZW50LCBjcmVhdGVUUlBDQ2xpZW50UHJveHksIGNyZWF0ZVRSUENQcm94eUNsaWVudCwgY3JlYXRlVFJQQ1VudHlwZWRDbGllbnQsIGV4cGVyaW1lbnRhbF9mb3JtRGF0YUxpbmssIGdldFVudHlwZWRDbGllbnQsIHVuc3RhYmxlX2h0dHBCYXRjaFN0cmVhbUxpbmsgfTtcbiJdLCJuYW1lcyI6WyJzaGFyZSIsIm9ic2VydmFibGVUb1Byb21pc2UiLCJjIiwiY3JlYXRlQ2hhaW4iLCJzIiwic3BsaXRMaW5rIiwiVCIsIlRSUENDbGllbnRFcnJvciIsImNyZWF0ZUZsYXRQcm94eSIsImNyZWF0ZVJlY3Vyc2l2ZVByb3h5IiwiZiIsImZldGNoSFRUUFJlc3BvbnNlIiwiZyIsImdldFVybCIsImEiLCJnZXRCb2R5JDEiLCJoIiwiaHR0cFJlcXVlc3QiLCJiIiwiZ2V0RmV0Y2giLCJjcmVhdGVIVFRQQmF0Y2hMaW5rIiwiaHR0cEJhdGNoTGluayIsImh0dHBMaW5rRmFjdG9yeSIsImh0dHBMaW5rIiwibG9nZ2VyTGluayIsImNyZWF0ZVdTQ2xpZW50Iiwid3NMaW5rIiwiVFJQQ1VudHlwZWRDbGllbnQiLCIkcmVxdWVzdCIsInR5cGUiLCJpbnB1dCIsInBhdGgiLCJjb250ZXh0IiwiY2hhaW4kIiwibGlua3MiLCJvcCIsImlkIiwicmVxdWVzdElkIiwicGlwZSIsInJlcXVlc3RBc1Byb21pc2UiLCJvcHRzIiwicmVxJCIsInByb21pc2UiLCJhYm9ydCIsImFib3J0YWJsZVByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInNpZ25hbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aGVuIiwiZW52ZWxvcGUiLCJyZXN1bHQiLCJkYXRhIiwiY2F0Y2giLCJlcnIiLCJmcm9tIiwicXVlcnkiLCJtdXRhdGlvbiIsInN1YnNjcmlwdGlvbiIsIm9ic2VydmFibGUkIiwic3Vic2NyaWJlIiwibmV4dCIsIm9uU3RhcnRlZCIsIm9uU3RvcHBlZCIsIm9uRGF0YSIsImVycm9yIiwib25FcnJvciIsImNvbXBsZXRlIiwib25Db21wbGV0ZSIsImNvbnN0cnVjdG9yIiwiY29tYmluZWRUcmFuc2Zvcm1lciIsInRyYW5zZm9ybWVyIiwic2VyaWFsaXplIiwiZGVzZXJpYWxpemUiLCJvdXRwdXQiLCJydW50aW1lIiwibWFwIiwibGluayIsImNyZWF0ZVRSUENVbnR5cGVkQ2xpZW50IiwiY3JlYXRlVFJQQ0NsaWVudCIsImNsaWVudCIsImNsaWVudENhbGxUeXBlTWFwIiwibXV0YXRlIiwiY2xpZW50Q2FsbFR5cGVUb1Byb2NlZHVyZVR5cGUiLCJjbGllbnRDYWxsVHlwZSIsImNyZWF0ZVRSUENDbGllbnRQcm94eSIsImtleSIsImhhc093blByb3BlcnR5IiwiYXJncyIsInBhdGhDb3B5IiwicHJvY2VkdXJlVHlwZSIsInBvcCIsImZ1bGxQYXRoIiwiam9pbiIsImNyZWF0ZVRSUENQcm94eUNsaWVudCIsInByb3h5IiwiZ2V0VW50eXBlZENsaWVudCIsIl9fdW50eXBlZENsaWVudCIsImdldFRleHREZWNvZGVyIiwiY3VzdG9tVGV4dERlY29kZXIiLCJ3aW5kb3ciLCJUZXh0RGVjb2RlciIsImdsb2JhbFRoaXMiLCJFcnJvciIsInBhcnNlSlNPTlN0cmVhbSIsInBhcnNlIiwiSlNPTiIsIm9uTGluZSIsImxpbmUiLCJhYm9ydGVkIiwiaW5kZXhPZkNvbG9uIiwiaW5kZXhPZiIsImluZGV4QXNTdHIiLCJzdWJzdHJpbmciLCJ0ZXh0Iiwib25TaW5nbGUiLCJOdW1iZXIiLCJyZWFkTGluZXMiLCJyZWFkYWJsZVN0cmVhbSIsInRleHREZWNvZGVyIiwicGFydE9mTGluZSIsIm9uQ2h1bmsiLCJjaHVuayIsImNodW5rVGV4dCIsImRlY29kZSIsImNodW5rTGluZXMiLCJzcGxpdCIsImxlbmd0aCIsImkiLCJyZWFkU3RhbmRhcmRDaHVua3MiLCJyZWFkTm9kZUNodW5rcyIsInN0cmVhbSIsIm9uIiwicmVhZGVyIiwiZ2V0UmVhZGVyIiwicmVhZFJlc3VsdCIsInJlYWQiLCJkb25lIiwidmFsdWUiLCJzdHJlYW1pbmdKc29uSHR0cFJlcXVlc3RlciIsImFjIiwiQWJvcnRDb250cm9sbGVyIiwicmVzcG9uc2VQcm9taXNlIiwiY29udGVudFR5cGVIZWFkZXIiLCJiYXRjaE1vZGVIZWFkZXIiLCJnZXRCb2R5IiwiY2FuY2VsIiwicmVzIiwiYm9keSIsIm1ldGEiLCJyZXNwb25zZSIsInN0cmluZyIsImpzb24iLCJzdHJlYW1SZXF1ZXN0ZXIiLCJyZXF1ZXN0ZXJPcHRzIiwiYmF0Y2hPcHMiLCJ1bml0UmVzb2x2ZXIiLCJpbnB1dHMiLCJoZWFkZXJzIiwib3BMaXN0IiwiaW5kZXgiLCJ1bnN0YWJsZV9odHRwQmF0Y2hTdHJlYW1MaW5rIiwidW5kZWZpbmVkIiwiRm9ybURhdGEiLCJmb3JtRGF0YVJlcXVlc3RlciIsInVybCIsImV4cGVyaW1lbnRhbF9mb3JtRGF0YUxpbmsiLCJyZXF1ZXN0ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/client/dist/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/client/dist/links/httpLink.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@trpc/client/dist/links/httpLink.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   httpLink: () => (/* binding */ httpLink),\n/* harmony export */   httpLinkFactory: () => (/* binding */ httpLinkFactory)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(rsc)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n/* harmony import */ var _transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../transformResult-ace864b8.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\");\n/* harmony import */ var _TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../TRPCClientError-0de4d231.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/TRPCClientError-0de4d231.mjs\");\n/* harmony import */ var _httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../httpUtils-f58ceda1.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/httpUtils-f58ceda1.mjs\");\n\n\n\n\nfunction httpLinkFactory(factoryOpts) {\n    return (opts)=>{\n        const resolvedOpts = (0,_httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_3__.r)(opts);\n        return (runtime)=>({ op })=>(0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n                    const { path, input, type } = op;\n                    const { promise, cancel } = factoryOpts.requester({\n                        ...resolvedOpts,\n                        runtime,\n                        type,\n                        path,\n                        input,\n                        headers () {\n                            if (!opts.headers) {\n                                return {};\n                            }\n                            if (typeof opts.headers === \"function\") {\n                                return opts.headers({\n                                    op\n                                });\n                            }\n                            return opts.headers;\n                        }\n                    });\n                    let meta = undefined;\n                    promise.then((res)=>{\n                        meta = res.meta;\n                        const transformed = (0,_transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__.t)(res.json, runtime);\n                        if (!transformed.ok) {\n                            observer.error(_TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(transformed.error, {\n                                meta\n                            }));\n                            return;\n                        }\n                        observer.next({\n                            context: res.meta,\n                            result: transformed.result\n                        });\n                        observer.complete();\n                    }).catch((cause)=>{\n                        observer.error(_TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(cause, {\n                            meta\n                        }));\n                    });\n                    return ()=>{\n                        cancel();\n                    };\n                });\n    };\n}\n/**\n * @see https://trpc.io/docs/client/links/httpLink\n */ const httpLink = httpLinkFactory({\n    requester: _httpUtils_f58ceda1_mjs__WEBPACK_IMPORTED_MODULE_3__.j\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvbGlua3MvaHR0cExpbmsubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFxRDtBQUNrQjtBQUNBO0FBQ3lCO0FBRWhHLFNBQVNTLGdCQUFnQkMsV0FBVztJQUNoQyxPQUFPLENBQUNDO1FBQ0osTUFBTUMsZUFBZU4sMERBQXNCQSxDQUFDSztRQUM1QyxPQUFPLENBQUNFLFVBQVUsQ0FBQyxFQUFFQyxFQUFFLEVBQUcsR0FBR2QsbUVBQVVBLENBQUMsQ0FBQ2U7b0JBQzdCLE1BQU0sRUFBRUMsSUFBSSxFQUFHQyxLQUFLLEVBQUdDLElBQUksRUFBRyxHQUFHSjtvQkFDakMsTUFBTSxFQUFFSyxPQUFPLEVBQUdDLE1BQU0sRUFBRyxHQUFHVixZQUFZVyxTQUFTLENBQUM7d0JBQ2hELEdBQUdULFlBQVk7d0JBQ2ZDO3dCQUNBSzt3QkFDQUY7d0JBQ0FDO3dCQUNBSzs0QkFDSSxJQUFJLENBQUNYLEtBQUtXLE9BQU8sRUFBRTtnQ0FDZixPQUFPLENBQUM7NEJBQ1o7NEJBQ0EsSUFBSSxPQUFPWCxLQUFLVyxPQUFPLEtBQUssWUFBWTtnQ0FDcEMsT0FBT1gsS0FBS1csT0FBTyxDQUFDO29DQUNoQlI7Z0NBQ0o7NEJBQ0o7NEJBQ0EsT0FBT0gsS0FBS1csT0FBTzt3QkFDdkI7b0JBQ0o7b0JBQ0EsSUFBSUMsT0FBT0M7b0JBQ1hMLFFBQVFNLElBQUksQ0FBQyxDQUFDQzt3QkFDVkgsT0FBT0csSUFBSUgsSUFBSTt3QkFDZixNQUFNSSxjQUFjekIsZ0VBQWVBLENBQUN3QixJQUFJRSxJQUFJLEVBQUVmO3dCQUM5QyxJQUFJLENBQUNjLFlBQVlFLEVBQUUsRUFBRTs0QkFDakJkLFNBQVNlLEtBQUssQ0FBQzFCLDREQUFlQSxDQUFDMkIsSUFBSSxDQUFDSixZQUFZRyxLQUFLLEVBQUU7Z0NBQ25EUDs0QkFDSjs0QkFDQTt3QkFDSjt3QkFDQVIsU0FBU2lCLElBQUksQ0FBQzs0QkFDVkMsU0FBU1AsSUFBSUgsSUFBSTs0QkFDakJXLFFBQVFQLFlBQVlPLE1BQU07d0JBQzlCO3dCQUNBbkIsU0FBU29CLFFBQVE7b0JBQ3JCLEdBQUdDLEtBQUssQ0FBQyxDQUFDQzt3QkFDTnRCLFNBQVNlLEtBQUssQ0FBQzFCLDREQUFlQSxDQUFDMkIsSUFBSSxDQUFDTSxPQUFPOzRCQUN2Q2Q7d0JBQ0o7b0JBQ0o7b0JBQ0EsT0FBTzt3QkFDSEg7b0JBQ0o7Z0JBQ0o7SUFDWjtBQUNKO0FBQ0E7O0NBRUMsR0FBRyxNQUFNa0IsV0FBVzdCLGdCQUFnQjtJQUNqQ1ksV0FBV2Isc0RBQWlCQTtBQUNoQztBQUVxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9jbGllbnQvZGlzdC9saW5rcy9odHRwTGluay5tanM/NjUwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvYnNlcnZhYmxlIH0gZnJvbSAnQHRycGMvc2VydmVyL29ic2VydmFibGUnO1xuaW1wb3J0IHsgdCBhcyB0cmFuc2Zvcm1SZXN1bHQgfSBmcm9tICcuLi90cmFuc2Zvcm1SZXN1bHQtYWNlODY0YjgubWpzJztcbmltcG9ydCB7IFQgYXMgVFJQQ0NsaWVudEVycm9yIH0gZnJvbSAnLi4vVFJQQ0NsaWVudEVycm9yLTBkZTRkMjMxLm1qcyc7XG5pbXBvcnQgeyByIGFzIHJlc29sdmVIVFRQTGlua09wdGlvbnMsIGogYXMganNvbkh0dHBSZXF1ZXN0ZXIgfSBmcm9tICcuLi9odHRwVXRpbHMtZjU4Y2VkYTEubWpzJztcblxuZnVuY3Rpb24gaHR0cExpbmtGYWN0b3J5KGZhY3RvcnlPcHRzKSB7XG4gICAgcmV0dXJuIChvcHRzKT0+e1xuICAgICAgICBjb25zdCByZXNvbHZlZE9wdHMgPSByZXNvbHZlSFRUUExpbmtPcHRpb25zKG9wdHMpO1xuICAgICAgICByZXR1cm4gKHJ1bnRpbWUpPT4oeyBvcCAgfSk9Pm9ic2VydmFibGUoKG9ic2VydmVyKT0+e1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHBhdGggLCBpbnB1dCAsIHR5cGUgIH0gPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBwcm9taXNlICwgY2FuY2VsICB9ID0gZmFjdG9yeU9wdHMucmVxdWVzdGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlc29sdmVkT3B0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bnRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycyAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRzLmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdHMuaGVhZGVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5oZWFkZXJzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5oZWFkZXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1ldGEgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UudGhlbigocmVzKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YSA9IHJlcy5tZXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtZWQgPSB0cmFuc2Zvcm1SZXN1bHQocmVzLmpzb24sIHJ1bnRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFuc2Zvcm1lZC5vaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKFRSUENDbGllbnRFcnJvci5mcm9tKHRyYW5zZm9ybWVkLmVycm9yLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogcmVzLm1ldGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB0cmFuc2Zvcm1lZC5yZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGNhdXNlKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoVFJQQ0NsaWVudEVycm9yLmZyb20oY2F1c2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgIH07XG59XG4vKipcbiAqIEBzZWUgaHR0cHM6Ly90cnBjLmlvL2RvY3MvY2xpZW50L2xpbmtzL2h0dHBMaW5rXG4gKi8gY29uc3QgaHR0cExpbmsgPSBodHRwTGlua0ZhY3Rvcnkoe1xuICAgIHJlcXVlc3RlcjoganNvbkh0dHBSZXF1ZXN0ZXJcbn0pO1xuXG5leHBvcnQgeyBodHRwTGluaywgaHR0cExpbmtGYWN0b3J5IH07XG4iXSwibmFtZXMiOlsib2JzZXJ2YWJsZSIsInQiLCJ0cmFuc2Zvcm1SZXN1bHQiLCJUIiwiVFJQQ0NsaWVudEVycm9yIiwiciIsInJlc29sdmVIVFRQTGlua09wdGlvbnMiLCJqIiwianNvbkh0dHBSZXF1ZXN0ZXIiLCJodHRwTGlua0ZhY3RvcnkiLCJmYWN0b3J5T3B0cyIsIm9wdHMiLCJyZXNvbHZlZE9wdHMiLCJydW50aW1lIiwib3AiLCJvYnNlcnZlciIsInBhdGgiLCJpbnB1dCIsInR5cGUiLCJwcm9taXNlIiwiY2FuY2VsIiwicmVxdWVzdGVyIiwiaGVhZGVycyIsIm1ldGEiLCJ1bmRlZmluZWQiLCJ0aGVuIiwicmVzIiwidHJhbnNmb3JtZWQiLCJqc29uIiwib2siLCJlcnJvciIsImZyb20iLCJuZXh0IiwiY29udGV4dCIsInJlc3VsdCIsImNvbXBsZXRlIiwiY2F0Y2giLCJjYXVzZSIsImh0dHBMaW5rIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/client/dist/links/httpLink.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/client/dist/links/loggerLink.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/links/loggerLink.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loggerLink: () => (/* binding */ loggerLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(rsc)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n\n/// <reference lib=\"dom.iterable\" />\nfunction isFormData(value) {\n    if (typeof FormData === \"undefined\") {\n        // FormData is not supported\n        return false;\n    }\n    return value instanceof FormData;\n}\nconst palettes = {\n    css: {\n        query: [\n            \"72e3ff\",\n            \"3fb0d8\"\n        ],\n        mutation: [\n            \"c5a3fc\",\n            \"904dfc\"\n        ],\n        subscription: [\n            \"ff49e1\",\n            \"d83fbe\"\n        ]\n    },\n    ansi: {\n        regular: {\n            // Cyan background, black and white text respectively\n            query: [\n                \"\\x1b[30;46m\",\n                \"\\x1b[97;46m\"\n            ],\n            // Magenta background, black and white text respectively\n            mutation: [\n                \"\\x1b[30;45m\",\n                \"\\x1b[97;45m\"\n            ],\n            // Green background, black and white text respectively\n            subscription: [\n                \"\\x1b[30;42m\",\n                \"\\x1b[97;42m\"\n            ]\n        },\n        bold: {\n            query: [\n                \"\\x1b[1;30;46m\",\n                \"\\x1b[1;97;46m\"\n            ],\n            mutation: [\n                \"\\x1b[1;30;45m\",\n                \"\\x1b[1;97;45m\"\n            ],\n            subscription: [\n                \"\\x1b[1;30;42m\",\n                \"\\x1b[1;97;42m\"\n            ]\n        }\n    }\n};\nfunction constructPartsAndArgs(opts) {\n    const { direction, type, path, id, input } = opts;\n    const parts = [];\n    const args = [];\n    if (opts.colorMode === \"ansi\") {\n        const [lightRegular, darkRegular] = palettes.ansi.regular[type];\n        const [lightBold, darkBold] = palettes.ansi.bold[type];\n        const reset = \"\\x1b[0m\";\n        parts.push(direction === \"up\" ? lightRegular : darkRegular, direction === \"up\" ? \">>\" : \"<<\", type, direction === \"up\" ? lightBold : darkBold, `#${id}`, path, reset);\n        if (direction === \"up\") {\n            args.push({\n                input: opts.input\n            });\n        } else {\n            args.push({\n                input: opts.input,\n                // strip context from result cause it's too noisy in terminal wihtout collapse mode\n                result: \"result\" in opts.result ? opts.result.result : opts.result,\n                elapsedMs: opts.elapsedMs\n            });\n        }\n        return {\n            parts,\n            args\n        };\n    }\n    const [light, dark] = palettes.css[type];\n    const css = `\n    background-color: #${direction === \"up\" ? light : dark}; \n    color: ${direction === \"up\" ? \"black\" : \"white\"};\n    padding: 2px;\n  `;\n    parts.push(\"%c\", direction === \"up\" ? \">>\" : \"<<\", type, `#${id}`, `%c${path}%c`, \"%O\");\n    args.push(css, `${css}; font-weight: bold;`, `${css}; font-weight: normal;`);\n    if (direction === \"up\") {\n        args.push({\n            input,\n            context: opts.context\n        });\n    } else {\n        args.push({\n            input,\n            result: opts.result,\n            elapsedMs: opts.elapsedMs,\n            context: opts.context\n        });\n    }\n    return {\n        parts,\n        args\n    };\n}\n// maybe this should be moved to it's own package\nconst defaultLogger = ({ c = console, colorMode = \"css\" })=>(props)=>{\n        const rawInput = props.input;\n        const input = isFormData(rawInput) ? Object.fromEntries(rawInput) : rawInput;\n        const { parts, args } = constructPartsAndArgs({\n            ...props,\n            colorMode,\n            input\n        });\n        const fn = props.direction === \"down\" && props.result && (props.result instanceof Error || \"error\" in props.result.result) ? \"error\" : \"log\";\n        c[fn].apply(null, [\n            parts.join(\" \")\n        ].concat(args));\n    };\n/**\n * @see https://trpc.io/docs/client/links/loggerLink\n */ function loggerLink(opts = {}) {\n    const { enabled = ()=>true } = opts;\n    const colorMode = opts.colorMode ?? ( true ? \"ansi\" : 0);\n    const { logger = defaultLogger({\n        c: opts.console,\n        colorMode\n    }) } = opts;\n    return ()=>{\n        return ({ op, next })=>{\n            return (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n                // ->\n                enabled({\n                    ...op,\n                    direction: \"up\"\n                }) && logger({\n                    ...op,\n                    direction: \"up\"\n                });\n                const requestStartTime = Date.now();\n                function logResult(result) {\n                    const elapsedMs = Date.now() - requestStartTime;\n                    enabled({\n                        ...op,\n                        direction: \"down\",\n                        result\n                    }) && logger({\n                        ...op,\n                        direction: \"down\",\n                        elapsedMs,\n                        result\n                    });\n                }\n                return next(op).pipe((0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.tap)({\n                    next (result) {\n                        logResult(result);\n                    },\n                    error (result) {\n                        logResult(result);\n                    }\n                })).subscribe(observer);\n            });\n        };\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvbGlua3MvbG9nZ2VyTGluay5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEQ7QUFFMUQsb0NBQW9DO0FBQ3BDLFNBQVNFLFdBQVdDLEtBQUs7SUFDckIsSUFBSSxPQUFPQyxhQUFhLGFBQWE7UUFDakMsNEJBQTRCO1FBQzVCLE9BQU87SUFDWDtJQUNBLE9BQU9ELGlCQUFpQkM7QUFDNUI7QUFDQSxNQUFNQyxXQUFXO0lBQ2JDLEtBQUs7UUFDREMsT0FBTztZQUNIO1lBQ0E7U0FDSDtRQUNEQyxVQUFVO1lBQ047WUFDQTtTQUNIO1FBQ0RDLGNBQWM7WUFDVjtZQUNBO1NBQ0g7SUFDTDtJQUNBQyxNQUFNO1FBQ0ZDLFNBQVM7WUFDTCxxREFBcUQ7WUFDckRKLE9BQU87Z0JBQ0g7Z0JBQ0E7YUFDSDtZQUNELHdEQUF3RDtZQUN4REMsVUFBVTtnQkFDTjtnQkFDQTthQUNIO1lBQ0Qsc0RBQXNEO1lBQ3REQyxjQUFjO2dCQUNWO2dCQUNBO2FBQ0g7UUFDTDtRQUNBRyxNQUFNO1lBQ0ZMLE9BQU87Z0JBQ0g7Z0JBQ0E7YUFDSDtZQUNEQyxVQUFVO2dCQUNOO2dCQUNBO2FBQ0g7WUFDREMsY0FBYztnQkFDVjtnQkFDQTthQUNIO1FBQ0w7SUFDSjtBQUNKO0FBQ0EsU0FBU0ksc0JBQXNCQyxJQUFJO0lBQy9CLE1BQU0sRUFBRUMsU0FBUyxFQUFHQyxJQUFJLEVBQUdDLElBQUksRUFBR0MsRUFBRSxFQUFHQyxLQUFLLEVBQUcsR0FBR0w7SUFDbEQsTUFBTU0sUUFBUSxFQUFFO0lBQ2hCLE1BQU1DLE9BQU8sRUFBRTtJQUNmLElBQUlQLEtBQUtRLFNBQVMsS0FBSyxRQUFRO1FBQzNCLE1BQU0sQ0FBQ0MsY0FBY0MsWUFBWSxHQUFHbkIsU0FBU0ssSUFBSSxDQUFDQyxPQUFPLENBQUNLLEtBQUs7UUFDL0QsTUFBTSxDQUFDUyxXQUFXQyxTQUFTLEdBQUdyQixTQUFTSyxJQUFJLENBQUNFLElBQUksQ0FBQ0ks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LElBQUksRUFBRztZQUNsQixPQUFPbEQsbUVBQVVBLENBQUMsQ0FBQ21EO2dCQUNmLEtBQUs7Z0JBQ0xKLFFBQVE7b0JBQ0osR0FBR0UsRUFBRTtvQkFDTGxDLFdBQVc7Z0JBQ2YsTUFBTWlDLE9BQU87b0JBQ1QsR0FBR0MsRUFBRTtvQkFDTGxDLFdBQVc7Z0JBQ2Y7Z0JBQ0EsTUFBTXFDLG1CQUFtQkMsS0FBS0MsR0FBRztnQkFDakMsU0FBU0MsVUFBVTFCLE1BQU07b0JBQ3JCLE1BQU1DLFlBQVl1QixLQUFLQyxHQUFHLEtBQUtGO29CQUMvQkwsUUFBUTt3QkFDSixHQUFHRSxFQUFFO3dCQUNMbEMsV0FBVzt3QkFDWGM7b0JBQ0osTUFBTW1CLE9BQU87d0JBQ1QsR0FBR0MsRUFBRTt3QkFDTGxDLFdBQVc7d0JBQ1hlO3dCQUNBRDtvQkFDSjtnQkFDSjtnQkFDQSxPQUFPcUIsS0FBS0QsSUFBSU8sSUFBSSxDQUFDdkQsNERBQUdBLENBQUM7b0JBQ3JCaUQsTUFBTXJCLE1BQU07d0JBQ1IwQixVQUFVMUI7b0JBQ2Q7b0JBQ0E0QixPQUFPNUIsTUFBTTt3QkFDVDBCLFVBQVUxQjtvQkFDZDtnQkFDSixJQUFJNkIsU0FBUyxDQUFDUDtZQUNsQjtRQUNKO0lBQ0o7QUFDSjtBQUVzQiIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9jbGllbnQvZGlzdC9saW5rcy9sb2dnZXJMaW5rLm1qcz9hMjFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9ic2VydmFibGUsIHRhcCB9IGZyb20gJ0B0cnBjL3NlcnZlci9vYnNlcnZhYmxlJztcblxuLy8vIDxyZWZlcmVuY2UgbGliPVwiZG9tLml0ZXJhYmxlXCIgLz5cbmZ1bmN0aW9uIGlzRm9ybURhdGEodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIEZvcm1EYXRhID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBGb3JtRGF0YSBpcyBub3Qgc3VwcG9ydGVkXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRm9ybURhdGE7XG59XG5jb25zdCBwYWxldHRlcyA9IHtcbiAgICBjc3M6IHtcbiAgICAgICAgcXVlcnk6IFtcbiAgICAgICAgICAgICc3MmUzZmYnLFxuICAgICAgICAgICAgJzNmYjBkOCdcbiAgICAgICAgXSxcbiAgICAgICAgbXV0YXRpb246IFtcbiAgICAgICAgICAgICdjNWEzZmMnLFxuICAgICAgICAgICAgJzkwNGRmYydcbiAgICAgICAgXSxcbiAgICAgICAgc3Vic2NyaXB0aW9uOiBbXG4gICAgICAgICAgICAnZmY0OWUxJyxcbiAgICAgICAgICAgICdkODNmYmUnXG4gICAgICAgIF1cbiAgICB9LFxuICAgIGFuc2k6IHtcbiAgICAgICAgcmVndWxhcjoge1xuICAgICAgICAgICAgLy8gQ3lhbiBiYWNrZ3JvdW5kLCBibGFjayBhbmQgd2hpdGUgdGV4dCByZXNwZWN0aXZlbHlcbiAgICAgICAgICAgIHF1ZXJ5OiBbXG4gICAgICAgICAgICAgICAgJ1xceDFiWzMwOzQ2bScsXG4gICAgICAgICAgICAgICAgJ1xceDFiWzk3OzQ2bSdcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAvLyBNYWdlbnRhIGJhY2tncm91bmQsIGJsYWNrIGFuZCB3aGl0ZSB0ZXh0IHJlc3BlY3RpdmVseVxuICAgICAgICAgICAgbXV0YXRpb246IFtcbiAgICAgICAgICAgICAgICAnXFx4MWJbMzA7NDVtJyxcbiAgICAgICAgICAgICAgICAnXFx4MWJbOTc7NDVtJ1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIC8vIEdyZWVuIGJhY2tncm91bmQsIGJsYWNrIGFuZCB3aGl0ZSB0ZXh0IHJlc3BlY3RpdmVseVxuICAgICAgICAgICAgc3Vic2NyaXB0aW9uOiBbXG4gICAgICAgICAgICAgICAgJ1xceDFiWzMwOzQybScsXG4gICAgICAgICAgICAgICAgJ1xceDFiWzk3OzQybSdcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgYm9sZDoge1xuICAgICAgICAgICAgcXVlcnk6IFtcbiAgICAgICAgICAgICAgICAnXFx4MWJbMTszMDs0Nm0nLFxuICAgICAgICAgICAgICAgICdcXHgxYlsxOzk3OzQ2bSdcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBtdXRhdGlvbjogW1xuICAgICAgICAgICAgICAgICdcXHgxYlsxOzMwOzQ1bScsXG4gICAgICAgICAgICAgICAgJ1xceDFiWzE7OTc7NDVtJ1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogW1xuICAgICAgICAgICAgICAgICdcXHgxYlsxOzMwOzQybScsXG4gICAgICAgICAgICAgICAgJ1xceDFiWzE7OTc7NDJtJ1xuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfVxufTtcbmZ1bmN0aW9uIGNvbnN0cnVjdFBhcnRzQW5kQXJncyhvcHRzKSB7XG4gICAgY29uc3QgeyBkaXJlY3Rpb24gLCB0eXBlICwgcGF0aCAsIGlkICwgaW5wdXQgIH0gPSBvcHRzO1xuICAgIGNvbnN0IHBhcnRzID0gW107XG4gICAgY29uc3QgYXJncyA9IFtdO1xuICAgIGlmIChvcHRzLmNvbG9yTW9kZSA9PT0gJ2Fuc2knKSB7XG4gICAgICAgIGNvbnN0IFtsaWdodFJlZ3VsYXIsIGRhcmtSZWd1bGFyXSA9IHBhbGV0dGVzLmFuc2kucmVndWxhclt0eXBlXTtcbiAgICAgICAgY29uc3QgW2xpZ2h0Qm9sZCwgZGFya0JvbGRdID0gcGFsZXR0ZXMuYW5zaS5ib2xkW3R5cGVdO1xuICAgICAgICBjb25zdCByZXNldCA9ICdcXHgxYlswbSc7XG4gICAgICAgIHBhcnRzLnB1c2goZGlyZWN0aW9uID09PSAndXAnID8gbGlnaHRSZWd1bGFyIDogZGFya1JlZ3VsYXIsIGRpcmVjdGlvbiA9PT0gJ3VwJyA/ICc+PicgOiAnPDwnLCB0eXBlLCBkaXJlY3Rpb24gPT09ICd1cCcgPyBsaWdodEJvbGQgOiBkYXJrQm9sZCwgYCMke2lkfWAsIHBhdGgsIHJlc2V0KTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3VwJykge1xuICAgICAgICAgICAgYXJncy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpbnB1dDogb3B0cy5pbnB1dFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcmdzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlucHV0OiBvcHRzLmlucHV0LFxuICAgICAgICAgICAgICAgIC8vIHN0cmlwIGNvbnRleHQgZnJvbSByZXN1bHQgY2F1c2UgaXQncyB0b28gbm9pc3kgaW4gdGVybWluYWwgd2lodG91dCBjb2xsYXBzZSBtb2RlXG4gICAgICAgICAgICAgICAgcmVzdWx0OiAncmVzdWx0JyBpbiBvcHRzLnJlc3VsdCA/IG9wdHMucmVzdWx0LnJlc3VsdCA6IG9wdHMucmVzdWx0LFxuICAgICAgICAgICAgICAgIGVsYXBzZWRNczogb3B0cy5lbGFwc2VkTXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXJ0cyxcbiAgICAgICAgICAgIGFyZ3NcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgW2xpZ2h0LCBkYXJrXSA9IHBhbGV0dGVzLmNzc1t0eXBlXTtcbiAgICBjb25zdCBjc3MgPSBgXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIyR7ZGlyZWN0aW9uID09PSAndXAnID8gbGlnaHQgOiBkYXJrfTsgXG4gICAgY29sb3I6ICR7ZGlyZWN0aW9uID09PSAndXAnID8gJ2JsYWNrJyA6ICd3aGl0ZSd9O1xuICAgIHBhZGRpbmc6IDJweDtcbiAgYDtcbiAgICBwYXJ0cy5wdXNoKCclYycsIGRpcmVjdGlvbiA9PT0gJ3VwJyA/ICc+PicgOiAnPDwnLCB0eXBlLCBgIyR7aWR9YCwgYCVjJHtwYXRofSVjYCwgJyVPJyk7XG4gICAgYXJncy5wdXNoKGNzcywgYCR7Y3NzfTsgZm9udC13ZWlnaHQ6IGJvbGQ7YCwgYCR7Y3NzfTsgZm9udC13ZWlnaHQ6IG5vcm1hbDtgKTtcbiAgICBpZiAoZGlyZWN0aW9uID09PSAndXAnKSB7XG4gICAgICAgIGFyZ3MucHVzaCh7XG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGNvbnRleHQ6IG9wdHMuY29udGV4dFxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBhcmdzLnB1c2goe1xuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICByZXN1bHQ6IG9wdHMucmVzdWx0LFxuICAgICAgICAgICAgZWxhcHNlZE1zOiBvcHRzLmVsYXBzZWRNcyxcbiAgICAgICAgICAgIGNvbnRleHQ6IG9wdHMuY29udGV4dFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGFydHMsXG4gICAgICAgIGFyZ3NcbiAgICB9O1xufVxuLy8gbWF5YmUgdGhpcyBzaG91bGQgYmUgbW92ZWQgdG8gaXQncyBvd24gcGFja2FnZVxuY29uc3QgZGVmYXVsdExvZ2dlciA9ICh7IGMgPWNvbnNvbGUgLCBjb2xvck1vZGUgPSdjc3MnICB9KT0+KHByb3BzKT0+e1xuICAgICAgICBjb25zdCByYXdJbnB1dCA9IHByb3BzLmlucHV0O1xuICAgICAgICBjb25zdCBpbnB1dCA9IGlzRm9ybURhdGEocmF3SW5wdXQpID8gT2JqZWN0LmZyb21FbnRyaWVzKHJhd0lucHV0KSA6IHJhd0lucHV0O1xuICAgICAgICBjb25zdCB7IHBhcnRzICwgYXJncyAgfSA9IGNvbnN0cnVjdFBhcnRzQW5kQXJncyh7XG4gICAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICAgIGNvbG9yTW9kZSxcbiAgICAgICAgICAgIGlucHV0XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmbiA9IHByb3BzLmRpcmVjdGlvbiA9PT0gJ2Rvd24nICYmIHByb3BzLnJlc3VsdCAmJiAocHJvcHMucmVzdWx0IGluc3RhbmNlb2YgRXJyb3IgfHwgJ2Vycm9yJyBpbiBwcm9wcy5yZXN1bHQucmVzdWx0KSA/ICdlcnJvcicgOiAnbG9nJztcbiAgICAgICAgY1tmbl0uYXBwbHkobnVsbCwgW1xuICAgICAgICAgICAgcGFydHMuam9pbignICcpXG4gICAgICAgIF0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuLyoqXG4gKiBAc2VlIGh0dHBzOi8vdHJwYy5pby9kb2NzL2NsaWVudC9saW5rcy9sb2dnZXJMaW5rXG4gKi8gZnVuY3Rpb24gbG9nZ2VyTGluayhvcHRzID0ge30pIHtcbiAgICBjb25zdCB7IGVuYWJsZWQgPSgpPT50cnVlICB9ID0gb3B0cztcbiAgICBjb25zdCBjb2xvck1vZGUgPSBvcHRzLmNvbG9yTW9kZSA/PyAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyAnYW5zaScgOiAnY3NzJyk7XG4gICAgY29uc3QgeyBsb2dnZXIgPWRlZmF1bHRMb2dnZXIoe1xuICAgICAgICBjOiBvcHRzLmNvbnNvbGUsXG4gICAgICAgIGNvbG9yTW9kZVxuICAgIH0pICB9ID0gb3B0cztcbiAgICByZXR1cm4gKCk9PntcbiAgICAgICAgcmV0dXJuICh7IG9wICwgbmV4dCAgfSk9PntcbiAgICAgICAgICAgIHJldHVybiBvYnNlcnZhYmxlKChvYnNlcnZlcik9PntcbiAgICAgICAgICAgICAgICAvLyAtPlxuICAgICAgICAgICAgICAgIGVuYWJsZWQoe1xuICAgICAgICAgICAgICAgICAgICAuLi5vcCxcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiAndXAnXG4gICAgICAgICAgICAgICAgfSkgJiYgbG9nZ2VyKHtcbiAgICAgICAgICAgICAgICAgICAgLi4ub3AsXG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogJ3VwJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGxvZ1Jlc3VsdChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxhcHNlZE1zID0gRGF0ZS5ub3coKSAtIHJlcXVlc3RTdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ub3AsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246ICdkb3duJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICB9KSAmJiBsb2dnZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ub3AsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246ICdkb3duJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsYXBzZWRNcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQob3ApLnBpcGUodGFwKHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dSZXN1bHQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nUmVzdWx0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSkuc3Vic2NyaWJlKG9ic2VydmVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH07XG59XG5cbmV4cG9ydCB7IGxvZ2dlckxpbmsgfTtcbiJdLCJuYW1lcyI6WyJvYnNlcnZhYmxlIiwidGFwIiwiaXNGb3JtRGF0YSIsInZhbHVlIiwiRm9ybURhdGEiLCJwYWxldHRlcyIsImNzcyIsInF1ZXJ5IiwibXV0YXRpb24iLCJzdWJzY3JpcHRpb24iLCJhbnNpIiwicmVndWxhciIsImJvbGQiLCJjb25zdHJ1Y3RQYXJ0c0FuZEFyZ3MiLCJvcHRzIiwiZGlyZWN0aW9uIiwidHlwZSIsInBhdGgiLCJpZCIsImlucHV0IiwicGFydHMiLCJhcmdzIiwiY29sb3JNb2RlIiwibGlnaHRSZWd1bGFyIiwiZGFya1JlZ3VsYXIiLCJsaWdodEJvbGQiLCJkYXJrQm9sZCIsInJlc2V0IiwicHVzaCIsInJlc3VsdCIsImVsYXBzZWRNcyIsImxpZ2h0IiwiZGFyayIsImNvbnRleHQiLCJkZWZhdWx0TG9nZ2VyIiwiYyIsImNvbnNvbGUiLCJwcm9wcyIsInJhd0lucHV0IiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJmbiIsIkVycm9yIiwiYXBwbHkiLCJqb2luIiwiY29uY2F0IiwibG9nZ2VyTGluayIsImVuYWJsZWQiLCJsb2dnZXIiLCJvcCIsIm5leHQiLCJvYnNlcnZlciIsInJlcXVlc3RTdGFydFRpbWUiLCJEYXRlIiwibm93IiwibG9nUmVzdWx0IiwicGlwZSIsImVycm9yIiwic3Vic2NyaWJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/client/dist/links/loggerLink.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/client/dist/links/wsLink.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@trpc/client/dist/links/wsLink.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createWSClient: () => (/* binding */ createWSClient),\n/* harmony export */   wsLink: () => (/* binding */ wsLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(rsc)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n/* harmony import */ var _transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../transformResult-ace864b8.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\");\n/* harmony import */ var _TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../TRPCClientError-0de4d231.mjs */ \"(rsc)/./node_modules/@trpc/client/dist/TRPCClientError-0de4d231.mjs\");\n\n\n\n/* istanbul ignore next -- @preserve */ const retryDelay = (attemptIndex)=>attemptIndex === 0 ? 0 : Math.min(1000 * 2 ** attemptIndex, 30000);\nfunction createWSClient(opts) {\n    const { url, WebSocket: WebSocketImpl = WebSocket, retryDelayMs: retryDelayFn = retryDelay, onOpen, onClose } = opts;\n    /* istanbul ignore next -- @preserve */ if (!WebSocketImpl) {\n        throw new Error(\"No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill\");\n    }\n    /**\n   * outgoing messages buffer whilst not open\n   */ let outgoing = [];\n    const pendingRequests = Object.create(null);\n    let connectAttempt = 0;\n    let dispatchTimer = null;\n    let connectTimer = null;\n    let activeConnection = createWS();\n    let state = \"connecting\";\n    /**\n   * tries to send the list of messages\n   */ function dispatch() {\n        if (state !== \"open\" || dispatchTimer) {\n            return;\n        }\n        dispatchTimer = setTimeout(()=>{\n            dispatchTimer = null;\n            if (outgoing.length === 1) {\n                // single send\n                activeConnection.send(JSON.stringify(outgoing.pop()));\n            } else {\n                // batch send\n                activeConnection.send(JSON.stringify(outgoing));\n            }\n            // clear\n            outgoing = [];\n        });\n    }\n    function tryReconnect() {\n        if (connectTimer !== null || state === \"closed\") {\n            return;\n        }\n        const timeout = retryDelayFn(connectAttempt++);\n        reconnectInMs(timeout);\n    }\n    function reconnect() {\n        state = \"connecting\";\n        const oldConnection = activeConnection;\n        activeConnection = createWS();\n        closeIfNoPending(oldConnection);\n    }\n    function reconnectInMs(ms) {\n        if (connectTimer) {\n            return;\n        }\n        state = \"connecting\";\n        connectTimer = setTimeout(reconnect, ms);\n    }\n    function closeIfNoPending(conn) {\n        // disconnect as soon as there are are no pending result\n        const hasPendingRequests = Object.values(pendingRequests).some((p)=>p.ws === conn);\n        if (!hasPendingRequests) {\n            conn.close();\n        }\n    }\n    function closeActiveSubscriptions() {\n        Object.values(pendingRequests).forEach((req)=>{\n            if (req.type === \"subscription\") {\n                req.callbacks.complete();\n            }\n        });\n    }\n    function resumeSubscriptionOnReconnect(req) {\n        if (outgoing.some((r)=>r.id === req.op.id)) {\n            return;\n        }\n        request(req.op, req.callbacks);\n    }\n    function createWS() {\n        const urlString = typeof url === \"function\" ? url() : url;\n        const conn = new WebSocketImpl(urlString);\n        clearTimeout(connectTimer);\n        connectTimer = null;\n        conn.addEventListener(\"open\", ()=>{\n            /* istanbul ignore next -- @preserve */ if (conn !== activeConnection) {\n                return;\n            }\n            connectAttempt = 0;\n            state = \"open\";\n            onOpen?.();\n            dispatch();\n        });\n        conn.addEventListener(\"error\", ()=>{\n            if (conn === activeConnection) {\n                tryReconnect();\n            }\n        });\n        const handleIncomingRequest = (req)=>{\n            if (req.method === \"reconnect\" && conn === activeConnection) {\n                if (state === \"open\") {\n                    onClose?.();\n                }\n                reconnect();\n                // notify subscribers\n                for (const pendingReq of Object.values(pendingRequests)){\n                    if (pendingReq.type === \"subscription\") {\n                        resumeSubscriptionOnReconnect(pendingReq);\n                    }\n                }\n            }\n        };\n        const handleIncomingResponse = (data)=>{\n            const req = data.id !== null && pendingRequests[data.id];\n            if (!req) {\n                // do something?\n                return;\n            }\n            req.callbacks.next?.(data);\n            if (req.ws !== activeConnection && conn === activeConnection) {\n                const oldWs = req.ws;\n                // gracefully replace old connection with this\n                req.ws = activeConnection;\n                closeIfNoPending(oldWs);\n            }\n            if (\"result\" in data && data.result.type === \"stopped\" && conn === activeConnection) {\n                req.callbacks.complete();\n            }\n        };\n        conn.addEventListener(\"message\", ({ data })=>{\n            const msg = JSON.parse(data);\n            if (\"method\" in msg) {\n                handleIncomingRequest(msg);\n            } else {\n                handleIncomingResponse(msg);\n            }\n            if (conn !== activeConnection || state === \"closed\") {\n                // when receiving a message, we close old connection that has no pending requests\n                closeIfNoPending(conn);\n            }\n        });\n        conn.addEventListener(\"close\", ({ code })=>{\n            if (state === \"open\") {\n                onClose?.({\n                    code\n                });\n            }\n            if (activeConnection === conn) {\n                // connection might have been replaced already\n                tryReconnect();\n            }\n            for (const [key, req] of Object.entries(pendingRequests)){\n                if (req.ws !== conn) {\n                    continue;\n                }\n                if (state === \"closed\") {\n                    // If the connection was closed, we just call `complete()` on the request\n                    delete pendingRequests[key];\n                    req.callbacks.complete?.();\n                    continue;\n                }\n                // The connection was closed either unexpectedly or because of a reconnect\n                if (req.type === \"subscription\") {\n                    // Subscriptions will resume after we've reconnected\n                    resumeSubscriptionOnReconnect(req);\n                } else {\n                    // Queries and mutations will error if interrupted\n                    delete pendingRequests[key];\n                    req.callbacks.error?.(_TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(new TRPCWebSocketClosedError(\"WebSocket closed prematurely\")));\n                }\n            }\n        });\n        return conn;\n    }\n    function request(op, callbacks) {\n        const { type, input, path, id } = op;\n        const envelope = {\n            id,\n            method: type,\n            params: {\n                input,\n                path\n            }\n        };\n        pendingRequests[id] = {\n            ws: activeConnection,\n            type,\n            callbacks,\n            op\n        };\n        // enqueue message\n        outgoing.push(envelope);\n        dispatch();\n        return ()=>{\n            const callbacks = pendingRequests[id]?.callbacks;\n            delete pendingRequests[id];\n            outgoing = outgoing.filter((msg)=>msg.id !== id);\n            callbacks?.complete?.();\n            if (activeConnection.readyState === WebSocketImpl.OPEN && op.type === \"subscription\") {\n                outgoing.push({\n                    id,\n                    method: \"subscription.stop\"\n                });\n                dispatch();\n            }\n        };\n    }\n    return {\n        close: ()=>{\n            state = \"closed\";\n            onClose?.();\n            closeActiveSubscriptions();\n            closeIfNoPending(activeConnection);\n            clearTimeout(connectTimer);\n            connectTimer = null;\n        },\n        request,\n        getConnection () {\n            return activeConnection;\n        }\n    };\n}\nclass TRPCWebSocketClosedError extends Error {\n    constructor(message){\n        super(message);\n        this.name = \"TRPCWebSocketClosedError\";\n        Object.setPrototypeOf(this, TRPCWebSocketClosedError.prototype);\n    }\n}\n/**\n * @see https://trpc.io/docs/client/links/wsLink\n */ function wsLink(opts) {\n    return (runtime)=>{\n        const { client } = opts;\n        return ({ op })=>{\n            return (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n                const { type, path, id, context } = op;\n                const input = runtime.transformer.serialize(op.input);\n                const unsub = client.request({\n                    type,\n                    path,\n                    input,\n                    id,\n                    context\n                }, {\n                    error (err) {\n                        observer.error(err);\n                        unsub();\n                    },\n                    complete () {\n                        observer.complete();\n                    },\n                    next (message) {\n                        const transformed = (0,_transformResult_ace864b8_mjs__WEBPACK_IMPORTED_MODULE_1__.t)(message, runtime);\n                        if (!transformed.ok) {\n                            observer.error(_TRPCClientError_0de4d231_mjs__WEBPACK_IMPORTED_MODULE_2__.T.from(transformed.error));\n                            return;\n                        }\n                        observer.next({\n                            result: transformed.result\n                        });\n                        if (op.type !== \"subscription\") {\n                            // if it isn't a subscription we don't care about next response\n                            unsub();\n                            observer.complete();\n                        }\n                    }\n                });\n                return ()=>{\n                    unsub();\n                };\n            });\n        };\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvbGlua3Mvd3NMaW5rLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxRDtBQUNrQjtBQUNBO0FBRXZFLHFDQUFxQyxHQUFHLE1BQU1LLGFBQWEsQ0FBQ0MsZUFBZUEsaUJBQWlCLElBQUksSUFBSUMsS0FBS0MsR0FBRyxDQUFDLE9BQU8sS0FBS0YsY0FBYztBQUV2SSxTQUFTRyxlQUFlQyxJQUFJO0lBQ3hCLE1BQU0sRUFBRUMsR0FBRyxFQUFHQyxXQUFXQyxnQkFBZ0JELFNBQVMsRUFBR0UsY0FBY0MsZUFBZVYsVUFBVSxFQUFHVyxNQUFNLEVBQUdDLE9BQU8sRUFBSyxHQUFHUDtJQUN2SCxxQ0FBcUMsR0FBRyxJQUFJLENBQUNHLGVBQWU7UUFDeEQsTUFBTSxJQUFJSyxNQUFNO0lBQ3BCO0lBQ0E7O0dBRUQsR0FBRyxJQUFJQyxXQUFXLEVBQUU7SUFDbkIsTUFBTUMsa0JBQWtCQyxPQUFPQyxNQUFNLENBQUM7SUFDdEMsSUFBSUMsaUJBQWlCO0lBQ3JCLElBQUlDLGdCQUFnQjtJQUNwQixJQUFJQyxlQUFlO0lBQ25CLElBQUlDLG1CQUFtQkM7SUFDdkIsSUFBSUMsUUFBUTtJQUNaOztHQUVELEdBQUcsU0FBU0M7UUFDUCxJQUFJRCxVQUFVLFVBQVVKLGVBQWU7WUFDbkM7UUFDSjtRQUNBQSxnQkFBZ0JNLFdBQVc7WUFDdkJOLGdCQUFnQjtZQUNoQixJQUFJTCxTQUFTWSxNQUFNLEtBQUssR0FBRztnQkFDdkIsY0FBYztnQkFDZEwsaUJBQWlCTSxJQUFJLENBQUNDLEtBQUtDLFNBQVMsQ0FBQ2YsU0FBU2dCLEdBQUc7WUFDckQsT0FBTztnQkFDSCxhQUFhO2dCQUNiVCxpQkFBaUJNLElBQUksQ0FBQ0MsS0FBS0MsU0FBUyxDQUFDZjtZQUN6QztZQUNBLFFBQVE7WUFDUkEsV0FBVyxFQUFFO1FBQ2pCO0lBQ0o7SUFDQSxTQUFTaUI7UUFDTCxJQUFJWCxpQkFBaUIsUUFBUUcsVUFBVSxVQUFV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aUc7Z0JBQ2YsTUFBTSxFQUFFNUMsSUFBSSxFQUFHNEIsSUFBSSxFQUFHdkIsRUFBRSxFQUFHd0MsT0FBTyxFQUFHLEdBQUd2QztnQkFDeEMsTUFBTXFCLFFBQVFlLFFBQVFJLFdBQVcsQ0FBQ0MsU0FBUyxDQUFDekMsR0FBR3FCLEtBQUs7Z0JBQ3BELE1BQU1xQixRQUFRTCxPQUFPcEMsT0FBTyxDQUFDO29CQUN6QlA7b0JBQ0E0QjtvQkFDQUQ7b0JBQ0F0QjtvQkFDQXdDO2dCQUNKLEdBQUc7b0JBQ0NyQixPQUFPeUIsR0FBRzt3QkFDTkwsU0FBU3BCLEtBQUssQ0FBQ3lCO3dCQUNmRDtvQkFDSjtvQkFDQTlDO3dCQUNJMEMsU0FBUzFDLFFBQVE7b0JBQ3JCO29CQUNBYyxNQUFNcUIsT0FBTzt3QkFDVCxNQUFNYSxjQUFjckcsZ0VBQWVBLENBQUN3RixTQUFTSzt3QkFDN0MsSUFBSSxDQUFDUSxZQUFZQyxFQUFFLEVBQUU7NEJBQ2pCUCxTQUFTcEIsS0FBSyxDQUFDekUsNERBQWVBLENBQUMwRSxJQUFJLENBQUN5QixZQUFZMUIsS0FBSzs0QkFDckQ7d0JBQ0o7d0JBQ0FvQixTQUFTNUIsSUFBSSxDQUFDOzRCQUNWRSxRQUFRZ0MsWUFBWWhDLE1BQU07d0JBQzlCO3dCQUNBLElBQUlaLEdBQUdOLElBQUksS0FBSyxnQkFBZ0I7NEJBQzVCLCtEQUErRDs0QkFDL0RnRDs0QkFDQUosU0FBUzFDLFFBQVE7d0JBQ3JCO29CQUNKO2dCQUNKO2dCQUNBLE9BQU87b0JBQ0g4QztnQkFDSjtZQUNKO1FBQ0o7SUFDSjtBQUNKO0FBRWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdDMtYXBwLy4vbm9kZV9tb2R1bGVzL0B0cnBjL2NsaWVudC9kaXN0L2xpbmtzL3dzTGluay5tanM/ZTEzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvYnNlcnZhYmxlIH0gZnJvbSAnQHRycGMvc2VydmVyL29ic2VydmFibGUnO1xuaW1wb3J0IHsgdCBhcyB0cmFuc2Zvcm1SZXN1bHQgfSBmcm9tICcuLi90cmFuc2Zvcm1SZXN1bHQtYWNlODY0YjgubWpzJztcbmltcG9ydCB7IFQgYXMgVFJQQ0NsaWVudEVycm9yIH0gZnJvbSAnLi4vVFJQQ0NsaWVudEVycm9yLTBkZTRkMjMxLm1qcyc7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0tIEBwcmVzZXJ2ZSAqLyBjb25zdCByZXRyeURlbGF5ID0gKGF0dGVtcHRJbmRleCk9PmF0dGVtcHRJbmRleCA9PT0gMCA/IDAgOiBNYXRoLm1pbigxMDAwICogMiAqKiBhdHRlbXB0SW5kZXgsIDMwMDAwKTtcblxuZnVuY3Rpb24gY3JlYXRlV1NDbGllbnQob3B0cykge1xuICAgIGNvbnN0IHsgdXJsICwgV2ViU29ja2V0OiBXZWJTb2NrZXRJbXBsID0gV2ViU29ja2V0ICwgcmV0cnlEZWxheU1zOiByZXRyeURlbGF5Rm4gPSByZXRyeURlbGF5ICwgb25PcGVuICwgb25DbG9zZSAsICB9ID0gb3B0cztcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtLSBAcHJlc2VydmUgKi8gaWYgKCFXZWJTb2NrZXRJbXBsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIFdlYlNvY2tldCBpbXBsZW1lbnRhdGlvbiBmb3VuZCAtIHlvdSBwcm9iYWJseSBkb24ndCB3YW50IHRvIHVzZSB0aGlzIG9uIHRoZSBzZXJ2ZXIsIGJ1dCBpZiB5b3UgZG8geW91IG5lZWQgdG8gcGFzcyBhIGBXZWJTb2NrZXRgLXBvbnlmaWxsXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICogb3V0Z29pbmcgbWVzc2FnZXMgYnVmZmVyIHdoaWxzdCBub3Qgb3BlblxuICAgKi8gbGV0IG91dGdvaW5nID0gW107XG4gICAgY29uc3QgcGVuZGluZ1JlcXVlc3RzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBsZXQgY29ubmVjdEF0dGVtcHQgPSAwO1xuICAgIGxldCBkaXNwYXRjaFRpbWVyID0gbnVsbDtcbiAgICBsZXQgY29ubmVjdFRpbWVyID0gbnVsbDtcbiAgICBsZXQgYWN0aXZlQ29ubmVjdGlvbiA9IGNyZWF0ZVdTKCk7XG4gICAgbGV0IHN0YXRlID0gJ2Nvbm5lY3RpbmcnO1xuICAgIC8qKlxuICAgKiB0cmllcyB0byBzZW5kIHRoZSBsaXN0IG9mIG1lc3NhZ2VzXG4gICAqLyBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgICAgaWYgKHN0YXRlICE9PSAnb3BlbicgfHwgZGlzcGF0Y2hUaW1lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRpc3BhdGNoVGltZXIgPSBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICBkaXNwYXRjaFRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChvdXRnb2luZy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBzaW5nbGUgc2VuZFxuICAgICAgICAgICAgICAgIGFjdGl2ZUNvbm5lY3Rpb24uc2VuZChKU09OLnN0cmluZ2lmeShvdXRnb2luZy5wb3AoKSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBiYXRjaCBzZW5kXG4gICAgICAgICAgICAgICAgYWN0aXZlQ29ubmVjdGlvbi5zZW5kKEpTT04uc3RyaW5naWZ5KG91dGdvaW5nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjbGVhclxuICAgICAgICAgICAgb3V0Z29pbmcgPSBbXTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyeVJlY29ubmVjdCgpIHtcbiAgICAgICAgaWYgKGNvbm5lY3RUaW1lciAhPT0gbnVsbCB8fCBzdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0aW1lb3V0ID0gcmV0cnlEZWxheUZuKGNvbm5lY3RBdHRlbXB0KyspO1xuICAgICAgICByZWNvbm5lY3RJbk1zKHRpbWVvdXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWNvbm5lY3QoKSB7XG4gICAgICAgIHN0YXRlID0gJ2Nvbm5lY3RpbmcnO1xuICAgICAgICBjb25zdCBvbGRDb25uZWN0aW9uID0gYWN0aXZlQ29ubmVjdGlvbjtcbiAgICAgICAgYWN0aXZlQ29ubmVjdGlvbiA9IGNyZWF0ZVdTKCk7XG4gICAgICAgIGNsb3NlSWZOb1BlbmRpbmcob2xkQ29ubmVjdGlvbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY29ubmVjdEluTXMobXMpIHtcbiAgICAgICAgaWYgKGNvbm5lY3RUaW1lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlID0gJ2Nvbm5lY3RpbmcnO1xuICAgICAgICBjb25uZWN0VGltZXIgPSBzZXRUaW1lb3V0KHJlY29ubmVjdCwgbXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUlmTm9QZW5kaW5nKGNvbm4pIHtcbiAgICAgICAgLy8gZGlzY29ubmVjdCBhcyBzb29uIGFzIHRoZXJlIGFyZSBhcmUgbm8gcGVuZGluZyByZXN1bHRcbiAgICAgICAgY29uc3QgaGFzUGVuZGluZ1JlcXVlc3RzID0gT2JqZWN0LnZhbHVlcyhwZW5kaW5nUmVxdWVzdHMpLnNvbWUoKHApPT5wLndzID09PSBjb25uKTtcbiAgICAgICAgaWYgKCFoYXNQZW5kaW5nUmVxdWVzdHMpIHtcbiAgICAgICAgICAgIGNvbm4uY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9zZUFjdGl2ZVN1YnNjcmlwdGlvbnMoKSB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMocGVuZGluZ1JlcXVlc3RzKS5mb3JFYWNoKChyZXEpPT57XG4gICAgICAgICAgICBpZiAocmVxLnR5cGUgPT09ICdzdWJzY3JpcHRpb24nKSB7XG4gICAgICAgICAgICAgICAgcmVxLmNhbGxiYWNrcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzdW1lU3Vic2NyaXB0aW9uT25SZWNvbm5lY3QocmVxKSB7XG4gICAgICAgIGlmIChvdXRnb2luZy5zb21lKChyKT0+ci5pZCA9PT0gcmVxLm9wLmlkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3QocmVxLm9wLCByZXEuY2FsbGJhY2tzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlV1MoKSB7XG4gICAgICAgIGNvbnN0IHVybFN0cmluZyA9IHR5cGVvZiB1cmwgPT09ICdmdW5jdGlvbicgPyB1cmwoKSA6IHVybDtcbiAgICAgICAgY29uc3QgY29ubiA9IG5ldyBXZWJTb2NrZXRJbXBsKHVybFN0cmluZyk7XG4gICAgICAgIGNsZWFyVGltZW91dChjb25uZWN0VGltZXIpO1xuICAgICAgICBjb25uZWN0VGltZXIgPSBudWxsO1xuICAgICAgICBjb25uLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCAoKT0+e1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLS0gQHByZXNlcnZlICovIGlmIChjb25uICE9PSBhY3RpdmVDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29ubmVjdEF0dGVtcHQgPSAwO1xuICAgICAgICAgICAgc3RhdGUgPSAnb3Blbic7XG4gICAgICAgICAgICBvbk9wZW4/LigpO1xuICAgICAgICAgICAgZGlzcGF0Y2goKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbm4uYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoKT0+e1xuICAgICAgICAgICAgaWYgKGNvbm4gPT09IGFjdGl2ZUNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0cnlSZWNvbm5lY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGhhbmRsZUluY29taW5nUmVxdWVzdCA9IChyZXEpPT57XG4gICAgICAgICAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ3JlY29ubmVjdCcgJiYgY29ubiA9PT0gYWN0aXZlQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gJ29wZW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U/LigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWNvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAvLyBub3RpZnkgc3Vic2NyaWJlcnNcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBlbmRpbmdSZXEgb2YgT2JqZWN0LnZhbHVlcyhwZW5kaW5nUmVxdWVzdHMpKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdSZXEudHlwZSA9PT0gJ3N1YnNjcmlwdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VtZVN1YnNjcmlwdGlvbk9uUmVjb25uZWN0KHBlbmRpbmdSZXEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVJbmNvbWluZ1Jlc3BvbnNlID0gKGRhdGEpPT57XG4gICAgICAgICAgICBjb25zdCByZXEgPSBkYXRhLmlkICE9PSBudWxsICYmIHBlbmRpbmdSZXF1ZXN0c1tkYXRhLmlkXTtcbiAgICAgICAgICAgIGlmICghcmVxKSB7XG4gICAgICAgICAgICAgICAgLy8gZG8gc29tZXRoaW5nP1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcS5jYWxsYmFja3MubmV4dD8uKGRhdGEpO1xuICAgICAgICAgICAgaWYgKHJlcS53cyAhPT0gYWN0aXZlQ29ubmVjdGlvbiAmJiBjb25uID09PSBhY3RpdmVDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkV3MgPSByZXEud3M7XG4gICAgICAgICAgICAgICAgLy8gZ3JhY2VmdWxseSByZXBsYWNlIG9sZCBjb25uZWN0aW9uIHdpdGggdGhpc1xuICAgICAgICAgICAgICAgIHJlcS53cyA9IGFjdGl2ZUNvbm5lY3Rpb247XG4gICAgICAgICAgICAgICAgY2xvc2VJZk5vUGVuZGluZyhvbGRXcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ3Jlc3VsdCcgaW4gZGF0YSAmJiBkYXRhLnJlc3VsdC50eXBlID09PSAnc3RvcHBlZCcgJiYgY29ubiA9PT0gYWN0aXZlQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgIHJlcS5jYWxsYmFja3MuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29ubi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKHsgZGF0YSAgfSk9PntcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICBpZiAoJ21ldGhvZCcgaW4gbXNnKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlSW5jb21pbmdSZXF1ZXN0KG1zZyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhbmRsZUluY29taW5nUmVzcG9uc2UobXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25uICE9PSBhY3RpdmVDb25uZWN0aW9uIHx8IHN0YXRlID09PSAnY2xvc2VkJykge1xuICAgICAgICAgICAgICAgIC8vIHdoZW4gcmVjZWl2aW5nIGEgbWVzc2FnZSwgd2UgY2xvc2Ugb2xkIGNvbm5lY3Rpb24gdGhhdCBoYXMgbm8gcGVuZGluZyByZXF1ZXN0c1xuICAgICAgICAgICAgICAgIGNsb3NlSWZOb1BlbmRpbmcoY29ubik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25uLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKHsgY29kZSAgfSk9PntcbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gJ29wZW4nKSB7XG4gICAgICAgICAgICAgICAgb25DbG9zZT8uKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFjdGl2ZUNvbm5lY3Rpb24gPT09IGNvbm4pIHtcbiAgICAgICAgICAgICAgICAvLyBjb25uZWN0aW9uIG1pZ2h0IGhhdmUgYmVlbiByZXBsYWNlZCBhbHJlYWR5XG4gICAgICAgICAgICAgICAgdHJ5UmVjb25uZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHJlcV0gb2YgT2JqZWN0LmVudHJpZXMocGVuZGluZ1JlcXVlc3RzKSl7XG4gICAgICAgICAgICAgICAgaWYgKHJlcS53cyAhPT0gY29ubikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSAnY2xvc2VkJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY29ubmVjdGlvbiB3YXMgY2xvc2VkLCB3ZSBqdXN0IGNhbGwgYGNvbXBsZXRlKClgIG9uIHRoZSByZXF1ZXN0XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwZW5kaW5nUmVxdWVzdHNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLmNhbGxiYWNrcy5jb21wbGV0ZT8uKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUaGUgY29ubmVjdGlvbiB3YXMgY2xvc2VkIGVpdGhlciB1bmV4cGVjdGVkbHkgb3IgYmVjYXVzZSBvZiBhIHJlY29ubmVjdFxuICAgICAgICAgICAgICAgIGlmIChyZXEudHlwZSA9PT0gJ3N1YnNjcmlwdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3Vic2NyaXB0aW9ucyB3aWxsIHJlc3VtZSBhZnRlciB3ZSd2ZSByZWNvbm5lY3RlZFxuICAgICAgICAgICAgICAgICAgICByZXN1bWVTdWJzY3JpcHRpb25PblJlY29ubmVjdChyZXEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFF1ZXJpZXMgYW5kIG11dGF0aW9ucyB3aWxsIGVycm9yIGlmIGludGVycnVwdGVkXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwZW5kaW5nUmVxdWVzdHNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLmNhbGxiYWNrcy5lcnJvcj8uKFRSUENDbGllbnRFcnJvci5mcm9tKG5ldyBUUlBDV2ViU29ja2V0Q2xvc2VkRXJyb3IoJ1dlYlNvY2tldCBjbG9zZWQgcHJlbWF0dXJlbHknKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb25uO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXF1ZXN0KG9wLCBjYWxsYmFja3MpIHtcbiAgICAgICAgY29uc3QgeyB0eXBlICwgaW5wdXQgLCBwYXRoICwgaWQgIH0gPSBvcDtcbiAgICAgICAgY29uc3QgZW52ZWxvcGUgPSB7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIG1ldGhvZDogdHlwZSxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIHBhdGhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcGVuZGluZ1JlcXVlc3RzW2lkXSA9IHtcbiAgICAgICAgICAgIHdzOiBhY3RpdmVDb25uZWN0aW9uLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGNhbGxiYWNrcyxcbiAgICAgICAgICAgIG9wXG4gICAgICAgIH07XG4gICAgICAgIC8vIGVucXVldWUgbWVzc2FnZVxuICAgICAgICBvdXRnb2luZy5wdXNoKGVudmVsb3BlKTtcbiAgICAgICAgZGlzcGF0Y2goKTtcbiAgICAgICAgcmV0dXJuICgpPT57XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFja3MgPSBwZW5kaW5nUmVxdWVzdHNbaWRdPy5jYWxsYmFja3M7XG4gICAgICAgICAgICBkZWxldGUgcGVuZGluZ1JlcXVlc3RzW2lkXTtcbiAgICAgICAgICAgIG91dGdvaW5nID0gb3V0Z29pbmcuZmlsdGVyKChtc2cpPT5tc2cuaWQgIT09IGlkKTtcbiAgICAgICAgICAgIGNhbGxiYWNrcz8uY29tcGxldGU/LigpO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZUNvbm5lY3Rpb24ucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0SW1wbC5PUEVOICYmIG9wLnR5cGUgPT09ICdzdWJzY3JpcHRpb24nKSB7XG4gICAgICAgICAgICAgICAgb3V0Z29pbmcucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdzdWJzY3JpcHRpb24uc3RvcCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjbG9zZTogKCk9PntcbiAgICAgICAgICAgIHN0YXRlID0gJ2Nsb3NlZCc7XG4gICAgICAgICAgICBvbkNsb3NlPy4oKTtcbiAgICAgICAgICAgIGNsb3NlQWN0aXZlU3Vic2NyaXB0aW9ucygpO1xuICAgICAgICAgICAgY2xvc2VJZk5vUGVuZGluZyhhY3RpdmVDb25uZWN0aW9uKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChjb25uZWN0VGltZXIpO1xuICAgICAgICAgICAgY29ubmVjdFRpbWVyID0gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgZ2V0Q29ubmVjdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0aXZlQ29ubmVjdGlvbjtcbiAgICAgICAgfVxuICAgIH07XG59XG5jbGFzcyBUUlBDV2ViU29ja2V0Q2xvc2VkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSl7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVFJQQ1dlYlNvY2tldENsb3NlZEVycm9yJztcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFRSUENXZWJTb2NrZXRDbG9zZWRFcnJvci5wcm90b3R5cGUpO1xuICAgIH1cbn1cbi8qKlxuICogQHNlZSBodHRwczovL3RycGMuaW8vZG9jcy9jbGllbnQvbGlua3Mvd3NMaW5rXG4gKi8gZnVuY3Rpb24gd3NMaW5rKG9wdHMpIHtcbiAgICByZXR1cm4gKHJ1bnRpbWUpPT57XG4gICAgICAgIGNvbnN0IHsgY2xpZW50ICB9ID0gb3B0cztcbiAgICAgICAgcmV0dXJuICh7IG9wICB9KT0+e1xuICAgICAgICAgICAgcmV0dXJuIG9ic2VydmFibGUoKG9ic2VydmVyKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdHlwZSAsIHBhdGggLCBpZCAsIGNvbnRleHQgIH0gPSBvcDtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dCA9IHJ1bnRpbWUudHJhbnNmb3JtZXIuc2VyaWFsaXplKG9wLmlucHV0KTtcbiAgICAgICAgICAgICAgICBjb25zdCB1bnN1YiA9IGNsaWVudC5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBlcnJvciAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5zdWIoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUgKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbmV4dCAobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtZWQgPSB0cmFuc2Zvcm1SZXN1bHQobWVzc2FnZSwgcnVudGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRyYW5zZm9ybWVkLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoVFJQQ0NsaWVudEVycm9yLmZyb20odHJhbnNmb3JtZWQuZXJyb3IpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHRyYW5zZm9ybWVkLnJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3AudHlwZSAhPT0gJ3N1YnNjcmlwdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCBpc24ndCBhIHN1YnNjcmlwdGlvbiB3ZSBkb24ndCBjYXJlIGFib3V0IG5leHQgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnN1YigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKCk9PntcbiAgICAgICAgICAgICAgICAgICAgdW5zdWIoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlV1NDbGllbnQsIHdzTGluayB9O1xuIl0sIm5hbWVzIjpbIm9ic2VydmFibGUiLCJ0IiwidHJhbnNmb3JtUmVzdWx0IiwiVCIsIlRSUENDbGllbnRFcnJvciIsInJldHJ5RGVsYXkiLCJhdHRlbXB0SW5kZXgiLCJNYXRoIiwibWluIiwiY3JlYXRlV1NDbGllbnQiLCJvcHRzIiwidXJsIiwiV2ViU29ja2V0IiwiV2ViU29ja2V0SW1wbCIsInJldHJ5RGVsYXlNcyIsInJldHJ5RGVsYXlGbiIsIm9uT3BlbiIsIm9uQ2xvc2UiLCJFcnJvciIsIm91dGdvaW5nIiwicGVuZGluZ1JlcXVlc3RzIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29ubmVjdEF0dGVtcHQiLCJkaXNwYXRjaFRpbWVyIiwiY29ubmVjdFRpbWVyIiwiYWN0aXZlQ29ubmVjdGlvbiIsImNyZWF0ZVdTIiwic3RhdGUiLCJkaXNwYXRjaCIsInNldFRpbWVvdXQiLCJsZW5ndGgiLCJzZW5kIiwiSlNPTiIsInN0cmluZ2lmeSIsInBvcCIsInRyeVJlY29ubmVjdCIsInRpbWVvdXQiLCJyZWNvbm5lY3RJbk1zIiwicmVjb25uZWN0Iiwib2xkQ29ubmVjdGlvbiIsImNsb3NlSWZOb1BlbmRpbmciLCJtcyIsImNvbm4iLCJoYXNQZW5kaW5nUmVxdWVzdHMiLCJ2YWx1ZXMiLCJzb21lIiwicCIsIndzIiwiY2xvc2UiLCJjbG9zZUFjdGl2ZVN1YnNjcmlwdGlvbnMiLCJmb3JFYWNoIiwicmVxIiwidHlwZSIsImNhbGxiYWNrcyIsImNvbXBsZXRlIiwicmVzdW1lU3Vic2NyaXB0aW9uT25SZWNvbm5lY3QiLCJyIiwiaWQiLCJvcCIsInJlcXVlc3QiLCJ1cmxTdHJpbmciLCJjbGVhclRpbWVvdXQiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlSW5jb21pbmdSZXF1ZXN0IiwibWV0aG9kIiwicGVuZGluZ1JlcSIsImhhbmRsZUluY29taW5nUmVzcG9uc2UiLCJkYXRhIiwibmV4dCIsIm9sZFdzIiwicmVzdWx0IiwibXNnIiwicGFyc2UiLCJjb2RlIiwia2V5IiwiZW50cmllcyIsImVycm9yIiwiZnJvbSIsIlRSUENXZWJTb2NrZXRDbG9zZWRFcnJvciIsImlucHV0IiwicGF0aCIsImVudmVsb3BlIiwicGFyYW1zIiwicHVzaCIsImZpbHRlciIsInJlYWR5U3RhdGUiLCJPUEVOIiwiZ2V0Q29ubmVjdGlvbiIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsIm5hbWUiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIndzTGluayIsInJ1bnRpbWUiLCJjbGllbnQiLCJvYnNlcnZlciIsImNvbnRleHQiLCJ0cmFuc2Zvcm1lciIsInNlcmlhbGl6ZSIsInVuc3ViIiwiZXJyIiwidHJhbnNmb3JtZWQiLCJvayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/client/dist/links/wsLink.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/client/dist/splitLink-4c75f7be.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/splitLink-4c75f7be.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   c: () => (/* binding */ createChain),\n/* harmony export */   s: () => (/* binding */ splitLink)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/observable */ \"(rsc)/./node_modules/@trpc/server/dist/observable/index.mjs\");\n\n/** @internal */ function createChain(opts) {\n    return (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n        function execute(index = 0, op = opts.op) {\n            const next = opts.links[index];\n            if (!next) {\n                throw new Error(\"No more links to execute - did you forget to add an ending link?\");\n            }\n            const subscription = next({\n                op,\n                next (nextOp) {\n                    const nextObserver = execute(index + 1, nextOp);\n                    return nextObserver;\n                }\n            });\n            return subscription;\n        }\n        const obs$ = execute();\n        return obs$.subscribe(observer);\n    });\n}\nfunction asArray(value) {\n    return Array.isArray(value) ? value : [\n        value\n    ];\n}\nfunction splitLink(opts) {\n    return (runtime)=>{\n        const yes = asArray(opts.true).map((link)=>link(runtime));\n        const no = asArray(opts.false).map((link)=>link(runtime));\n        return (props)=>{\n            return (0,_trpc_server_observable__WEBPACK_IMPORTED_MODULE_0__.observable)((observer)=>{\n                const links = opts.condition(props.op) ? yes : no;\n                return createChain({\n                    op: props.op,\n                    links\n                }).subscribe(observer);\n            });\n        };\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3Qvc3BsaXRMaW5rLTRjNzVmN2JlLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUQ7QUFFckQsY0FBYyxHQUFHLFNBQVNDLFlBQVlDLElBQUk7SUFDdEMsT0FBT0YsbUVBQVVBLENBQUMsQ0FBQ0c7UUFDZixTQUFTQyxRQUFRQyxRQUFRLENBQUMsRUFBRUMsS0FBS0osS0FBS0ksRUFBRTtZQUNwQyxNQUFNQyxPQUFPTCxLQUFLTSxLQUFLLENBQUNILE1BQU07WUFDOUIsSUFBSSxDQUFDRSxNQUFNO2dCQUNQLE1BQU0sSUFBSUUsTUFBTTtZQUNwQjtZQUNBLE1BQU1DLGVBQWVILEtBQUs7Z0JBQ3RCRDtnQkFDQUMsTUFBTUksTUFBTTtvQkFDUixNQUFNQyxlQUFlUixRQUFRQyxRQUFRLEdBQUdNO29CQUN4QyxPQUFPQztnQkFDWDtZQUNKO1lBQ0EsT0FBT0Y7UUFDWDtRQUNBLE1BQU1HLE9BQU9UO1FBQ2IsT0FBT1MsS0FBS0MsU0FBUyxDQUFDWDtJQUMxQjtBQUNKO0FBRUEsU0FBU1ksUUFBUUMsS0FBSztJQUNsQixPQUFPQyxNQUFNQyxPQUFPLENBQUNGLFNBQVNBLFFBQVE7UUFDbENBO0tBQ0g7QUFDTDtBQUNBLFNBQVNHLFVBQVVqQixJQUFJO0lBQ25CLE9BQU8sQ0FBQ2tCO1FBQ0osTUFBTUMsTUFBTU4sUUFBUWIsS0FBS29CLElBQUksRUFBRUMsR0FBRyxDQUFDLENBQUNDLE9BQU9BLEtBQUtKO1FBQ2hELE1BQU1LLEtBQUtWLFFBQVFiLEtBQUt3QixLQUFLLEVBQUVILEdBQUcsQ0FBQyxDQUFDQyxPQUFPQSxLQUFLSjtRQUNoRCxPQUFPLENBQUNPO1lBQ0osT0FBTzNCLG1FQUFVQSxDQUFDLENBQUNHO2dCQUNmLE1BQU1LLFFBQVFOLEtBQUswQixTQUFTLENBQUNELE1BQU1yQixFQUFFLElBQUllLE1BQU1JO2dCQUMvQyxPQUFPeEIsWUFBWTtvQkFDZkssSUFBSXFCLE1BQU1yQixFQUFFO29CQUNaRTtnQkFDSixHQUFHTSxTQUFTLENBQUNYO1lBQ2pCO1FBQ0o7SUFDSjtBQUNKO0FBRTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdDMtYXBwLy4vbm9kZV9tb2R1bGVzL0B0cnBjL2NsaWVudC9kaXN0L3NwbGl0TGluay00Yzc1ZjdiZS5tanM/NjMxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvYnNlcnZhYmxlIH0gZnJvbSAnQHRycGMvc2VydmVyL29ic2VydmFibGUnO1xuXG4vKiogQGludGVybmFsICovIGZ1bmN0aW9uIGNyZWF0ZUNoYWluKG9wdHMpIHtcbiAgICByZXR1cm4gb2JzZXJ2YWJsZSgob2JzZXJ2ZXIpPT57XG4gICAgICAgIGZ1bmN0aW9uIGV4ZWN1dGUoaW5kZXggPSAwLCBvcCA9IG9wdHMub3ApIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBvcHRzLmxpbmtzW2luZGV4XTtcbiAgICAgICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gbW9yZSBsaW5rcyB0byBleGVjdXRlIC0gZGlkIHlvdSBmb3JnZXQgdG8gYWRkIGFuIGVuZGluZyBsaW5rPycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gbmV4dCh7XG4gICAgICAgICAgICAgICAgb3AsXG4gICAgICAgICAgICAgICAgbmV4dCAobmV4dE9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRPYnNlcnZlciA9IGV4ZWN1dGUoaW5kZXggKyAxLCBuZXh0T3ApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dE9ic2VydmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvYnMkID0gZXhlY3V0ZSgpO1xuICAgICAgICByZXR1cm4gb2JzJC5zdWJzY3JpYmUob2JzZXJ2ZXIpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXG4gICAgICAgIHZhbHVlXG4gICAgXTtcbn1cbmZ1bmN0aW9uIHNwbGl0TGluayhvcHRzKSB7XG4gICAgcmV0dXJuIChydW50aW1lKT0+e1xuICAgICAgICBjb25zdCB5ZXMgPSBhc0FycmF5KG9wdHMudHJ1ZSkubWFwKChsaW5rKT0+bGluayhydW50aW1lKSk7XG4gICAgICAgIGNvbnN0IG5vID0gYXNBcnJheShvcHRzLmZhbHNlKS5tYXAoKGxpbmspPT5saW5rKHJ1bnRpbWUpKTtcbiAgICAgICAgcmV0dXJuIChwcm9wcyk9PntcbiAgICAgICAgICAgIHJldHVybiBvYnNlcnZhYmxlKChvYnNlcnZlcik9PntcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rcyA9IG9wdHMuY29uZGl0aW9uKHByb3BzLm9wKSA/IHllcyA6IG5vO1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDaGFpbih7XG4gICAgICAgICAgICAgICAgICAgIG9wOiBwcm9wcy5vcCxcbiAgICAgICAgICAgICAgICAgICAgbGlua3NcbiAgICAgICAgICAgICAgICB9KS5zdWJzY3JpYmUob2JzZXJ2ZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlQ2hhaW4gYXMgYywgc3BsaXRMaW5rIGFzIHMgfTtcbiJdLCJuYW1lcyI6WyJvYnNlcnZhYmxlIiwiY3JlYXRlQ2hhaW4iLCJvcHRzIiwib2JzZXJ2ZXIiLCJleGVjdXRlIiwiaW5kZXgiLCJvcCIsIm5leHQiLCJsaW5rcyIsIkVycm9yIiwic3Vic2NyaXB0aW9uIiwibmV4dE9wIiwibmV4dE9ic2VydmVyIiwib2JzJCIsInN1YnNjcmliZSIsImFzQXJyYXkiLCJ2YWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsInNwbGl0TGluayIsInJ1bnRpbWUiLCJ5ZXMiLCJ0cnVlIiwibWFwIiwibGluayIsIm5vIiwiZmFsc2UiLCJwcm9wcyIsImNvbmRpdGlvbiIsImMiLCJzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/client/dist/splitLink-4c75f7be.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   i: () => (/* binding */ isObject),\n/* harmony export */   t: () => (/* binding */ transformResult)\n/* harmony export */ });\nfunction isObject(value) {\n    // check that value is object\n    return !!value && !Array.isArray(value) && typeof value === \"object\";\n}\n// FIXME:\n// - the generics here are probably unnecessary\n// - the RPC-spec could probably be simplified to combine HTTP + WS\n/** @internal */ function transformResultInner(response, runtime) {\n    if (\"error\" in response) {\n        const error = runtime.transformer.deserialize(response.error);\n        return {\n            ok: false,\n            error: {\n                ...response,\n                error\n            }\n        };\n    }\n    const result = {\n        ...response.result,\n        ...(!response.result.type || response.result.type === \"data\") && {\n            type: \"data\",\n            data: runtime.transformer.deserialize(response.result.data)\n        }\n    };\n    return {\n        ok: true,\n        result\n    };\n}\nclass TransformResultError extends Error {\n    constructor(){\n        super(\"Unable to transform response from server\");\n    }\n}\n/**\n * Transforms and validates that the result is a valid TRPCResponse\n * @internal\n */ function transformResult(response, runtime) {\n    let result;\n    try {\n        // Use the data transformers on the JSON-response\n        result = transformResultInner(response, runtime);\n    } catch (err) {\n        throw new TransformResultError();\n    }\n    // check that output of the transformers is a valid TRPCResponse\n    if (!result.ok && (!isObject(result.error.error) || typeof result.error.error.code !== \"number\")) {\n        throw new TransformResultError();\n    }\n    if (result.ok && !isObject(result.result)) {\n        throw new TransformResultError();\n    }\n    return result;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvdHJhbnNmb3JtUmVzdWx0LWFjZTg2NGI4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLFNBQVNBLFNBQVNDLEtBQUs7SUFDbkIsNkJBQTZCO0lBQzdCLE9BQU8sQ0FBQyxDQUFDQSxTQUFTLENBQUNDLE1BQU1DLE9BQU8sQ0FBQ0YsVUFBVSxPQUFPQSxVQUFVO0FBQ2hFO0FBRUEsU0FBUztBQUNULCtDQUErQztBQUMvQyxtRUFBbUU7QUFDbkUsY0FBYyxHQUFHLFNBQVNHLHFCQUFxQkMsUUFBUSxFQUFFQyxPQUFPO0lBQzVELElBQUksV0FBV0QsVUFBVTtRQUNyQixNQUFNRSxRQUFRRCxRQUFRRSxXQUFXLENBQUNDLFdBQVcsQ0FBQ0osU0FBU0UsS0FBSztRQUM1RCxPQUFPO1lBQ0hHLElBQUk7WUFDSkgsT0FBTztnQkFDSCxHQUFHRixRQUFRO2dCQUNYRTtZQUNKO1FBQ0o7SUFDSjtJQUNBLE1BQU1JLFNBQVM7UUFDWCxHQUFHTixTQUFTTSxNQUFNO1FBQ2xCLEdBQUcsQ0FBQyxDQUFDTixTQUFTTSxNQUFNLENBQUNDLElBQUksSUFBSVAsU0FBU00sTUFBTSxDQUFDQyxJQUFJLEtBQUssTUFBSyxLQUFNO1lBQzdEQSxNQUFNO1lBQ05DLE1BQU1QLFFBQVFFLFdBQVcsQ0FBQ0MsV0FBVyxDQUFDSixTQUFTTSxNQUFNLENBQUNFLElBQUk7UUFDOUQsQ0FBQztJQUNMO0lBQ0EsT0FBTztRQUNISCxJQUFJO1FBQ0pDO0lBQ0o7QUFDSjtBQUNBLE1BQU1HLDZCQUE2QkM7SUFDL0JDLGFBQWE7UUFDVCxLQUFLLENBQUM7SUFDVjtBQUNKO0FBQ0E7OztDQUdDLEdBQUcsU0FBU0MsZ0JBQWdCWixRQUFRLEVBQUVDLE9BQU87SUFDMUMsSUFBSUs7SUFDSixJQUFJO1FBQ0EsaURBQWlEO1FBQ2pEQSxTQUFTUCxxQkFBcUJDLFVBQVVDO0lBQzVDLEVBQUUsT0FBT1ksS0FBSztRQUNWLE1BQU0sSUFBSUo7SUFDZDtJQUNBLGdFQUFnRTtJQUNoRSxJQUFJLENBQUNILE9BQU9ELEVBQUUsSUFBSyxFQUFDVixTQUFTVyxPQUFPSixLQUFLLENBQUNBLEtBQUssS0FBSyxPQUFPSSxPQUFPSixLQUFLLENBQUNBLEtBQUssQ0FBQ1ksSUFBSSxLQUFLLFFBQU8sR0FBSTtRQUM5RixNQUFNLElBQUlMO0lBQ2Q7SUFDQSxJQUFJSCxPQUFPRCxFQUFFLElBQUksQ0FBQ1YsU0FBU1csT0FBT0EsTUFBTSxHQUFHO1FBQ3ZDLE1BQU0sSUFBSUc7SUFDZDtJQUNBLE9BQU9IO0FBQ1g7QUFFK0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvY2xpZW50L2Rpc3QvdHJhbnNmb3JtUmVzdWx0LWFjZTg2NGI4Lm1qcz9kOGViIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgLy8gY2hlY2sgdGhhdCB2YWx1ZSBpcyBvYmplY3RcbiAgICByZXR1cm4gISF2YWx1ZSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jztcbn1cblxuLy8gRklYTUU6XG4vLyAtIHRoZSBnZW5lcmljcyBoZXJlIGFyZSBwcm9iYWJseSB1bm5lY2Vzc2FyeVxuLy8gLSB0aGUgUlBDLXNwZWMgY291bGQgcHJvYmFibHkgYmUgc2ltcGxpZmllZCB0byBjb21iaW5lIEhUVFAgKyBXU1xuLyoqIEBpbnRlcm5hbCAqLyBmdW5jdGlvbiB0cmFuc2Zvcm1SZXN1bHRJbm5lcihyZXNwb25zZSwgcnVudGltZSkge1xuICAgIGlmICgnZXJyb3InIGluIHJlc3BvbnNlKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gcnVudGltZS50cmFuc2Zvcm1lci5kZXNlcmlhbGl6ZShyZXNwb25zZS5lcnJvcik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvazogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgLi4ucmVzcG9uc2UucmVzdWx0LFxuICAgICAgICAuLi4oIXJlc3BvbnNlLnJlc3VsdC50eXBlIHx8IHJlc3BvbnNlLnJlc3VsdC50eXBlID09PSAnZGF0YScpICYmIHtcbiAgICAgICAgICAgIHR5cGU6ICdkYXRhJyxcbiAgICAgICAgICAgIGRhdGE6IHJ1bnRpbWUudHJhbnNmb3JtZXIuZGVzZXJpYWxpemUocmVzcG9uc2UucmVzdWx0LmRhdGEpXG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICByZXN1bHRcbiAgICB9O1xufVxuY2xhc3MgVHJhbnNmb3JtUmVzdWx0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgc3VwZXIoJ1VuYWJsZSB0byB0cmFuc2Zvcm0gcmVzcG9uc2UgZnJvbSBzZXJ2ZXInKTtcbiAgICB9XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgYW5kIHZhbGlkYXRlcyB0aGF0IHRoZSByZXN1bHQgaXMgYSB2YWxpZCBUUlBDUmVzcG9uc2VcbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIHRyYW5zZm9ybVJlc3VsdChyZXNwb25zZSwgcnVudGltZSkge1xuICAgIGxldCByZXN1bHQ7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gVXNlIHRoZSBkYXRhIHRyYW5zZm9ybWVycyBvbiB0aGUgSlNPTi1yZXNwb25zZVxuICAgICAgICByZXN1bHQgPSB0cmFuc2Zvcm1SZXN1bHRJbm5lcihyZXNwb25zZSwgcnVudGltZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRocm93IG5ldyBUcmFuc2Zvcm1SZXN1bHRFcnJvcigpO1xuICAgIH1cbiAgICAvLyBjaGVjayB0aGF0IG91dHB1dCBvZiB0aGUgdHJhbnNmb3JtZXJzIGlzIGEgdmFsaWQgVFJQQ1Jlc3BvbnNlXG4gICAgaWYgKCFyZXN1bHQub2sgJiYgKCFpc09iamVjdChyZXN1bHQuZXJyb3IuZXJyb3IpIHx8IHR5cGVvZiByZXN1bHQuZXJyb3IuZXJyb3IuY29kZSAhPT0gJ251bWJlcicpKSB7XG4gICAgICAgIHRocm93IG5ldyBUcmFuc2Zvcm1SZXN1bHRFcnJvcigpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0Lm9rICYmICFpc09iamVjdChyZXN1bHQucmVzdWx0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHJhbnNmb3JtUmVzdWx0RXJyb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHsgaXNPYmplY3QgYXMgaSwgdHJhbnNmb3JtUmVzdWx0IGFzIHQgfTtcbiJdLCJuYW1lcyI6WyJpc09iamVjdCIsInZhbHVlIiwiQXJyYXkiLCJpc0FycmF5IiwidHJhbnNmb3JtUmVzdWx0SW5uZXIiLCJyZXNwb25zZSIsInJ1bnRpbWUiLCJlcnJvciIsInRyYW5zZm9ybWVyIiwiZGVzZXJpYWxpemUiLCJvayIsInJlc3VsdCIsInR5cGUiLCJkYXRhIiwiVHJhbnNmb3JtUmVzdWx0RXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwidHJhbnNmb3JtUmVzdWx0IiwiZXJyIiwiY29kZSIsImkiLCJ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/client/dist/transformResult-ace864b8.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/server/dist/TRPCError-689e79f1.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/@trpc/server/dist/TRPCError-689e79f1.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   T: () => (/* binding */ TRPCError),\n/* harmony export */   g: () => (/* binding */ getTRPCErrorFromUnknown)\n/* harmony export */ });\n/**\n * @internal\n */ function isObject(value) {\n    // check that value is object\n    return !!value && !Array.isArray(value) && typeof value === \"object\";\n}\nfunction getTRPCErrorFromUnknown(cause) {\n    if (cause instanceof TRPCError) {\n        return cause;\n    }\n    if (cause instanceof Error && cause.name === \"TRPCError\") {\n        // https://github.com/trpc/trpc/pull/4848\n        return cause;\n    }\n    const trpcError = new TRPCError({\n        code: \"INTERNAL_SERVER_ERROR\",\n        cause\n    });\n    // Inherit stack from error\n    if (cause instanceof Error && cause.stack) {\n        trpcError.stack = cause.stack;\n    }\n    return trpcError;\n}\nclass UnknownCauseError extends Error {\n}\nfunction getCauseFromUnknown(cause) {\n    if (cause instanceof Error) {\n        return cause;\n    }\n    const type = typeof cause;\n    if (type === \"undefined\" || type === \"function\" || cause === null) {\n        return undefined;\n    }\n    // Primitive types just get wrapped in an error\n    if (type !== \"object\") {\n        return new Error(String(cause));\n    }\n    // If it's an object, we'll create a synthetic error\n    if (isObject(cause)) {\n        const err = new UnknownCauseError();\n        for(const key in cause){\n            err[key] = cause[key];\n        }\n        return err;\n    }\n    return undefined;\n}\nclass TRPCError extends Error {\n    constructor(opts){\n        const cause = getCauseFromUnknown(opts.cause);\n        const message = opts.message ?? cause?.message ?? opts.code;\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore https://github.com/tc39/proposal-error-cause\n        super(message, {\n            cause\n        });\n        this.code = opts.code;\n        this.name = \"TRPCError\";\n        if (!this.cause) {\n            // idk why this is needed, but it is\n            this.cause = cause;\n        }\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvVFJQQ0Vycm9yLTY4OWU3OWYxLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOztDQUVDLEdBQUcsU0FBU0EsU0FBU0MsS0FBSztJQUN2Qiw2QkFBNkI7SUFDN0IsT0FBTyxDQUFDLENBQUNBLFNBQVMsQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDRixVQUFVLE9BQU9BLFVBQVU7QUFDaEU7QUFFQSxTQUFTRyx3QkFBd0JDLEtBQUs7SUFDbEMsSUFBSUEsaUJBQWlCQyxXQUFXO1FBQzVCLE9BQU9EO0lBQ1g7SUFDQSxJQUFJQSxpQkFBaUJFLFNBQVNGLE1BQU1HLElBQUksS0FBSyxhQUFhO1FBQ3RELHlDQUF5QztRQUN6QyxPQUFPSDtJQUNYO0lBQ0EsTUFBTUksWUFBWSxJQUFJSCxVQUFVO1FBQzVCSSxNQUFNO1FBQ05MO0lBQ0o7SUFDQSwyQkFBMkI7SUFDM0IsSUFBSUEsaUJBQWlCRSxTQUFTRixNQUFNTSxLQUFLLEVBQUU7UUFDdkNGLFVBQVVFLEtBQUssR0FBR04sTUFBTU0sS0FBSztJQUNqQztJQUNBLE9BQU9GO0FBQ1g7QUFDQSxNQUFNRywwQkFBMEJMO0FBQ2hDO0FBQ0EsU0FBU00sb0JBQW9CUixLQUFLO0lBQzlCLElBQUlBLGlCQUFpQkUsT0FBTztRQUN4QixPQUFPRjtJQUNYO0lBQ0EsTUFBTVMsT0FBTyxPQUFPVDtJQUNwQixJQUFJUyxTQUFTLGVBQWVBLFNBQVMsY0FBY1QsVUFBVSxNQUFNO1FBQy9ELE9BQU9VO0lBQ1g7SUFDQSwrQ0FBK0M7SUFDL0MsSUFBSUQsU0FBUyxVQUFVO1FBQ25CLE9BQU8sSUFBSVAsTUFBTVMsT0FBT1g7SUFDNUI7SUFDQSxvREFBb0Q7SUFDcEQsSUFBSUwsU0FBU0ssUUFBUTtRQUNqQixNQUFNWSxNQUFNLElBQUlMO1FBQ2hCLElBQUksTUFBTU0sT0FBT2IsTUFBTTtZQUNuQlksR0FBRyxDQUFDQyxJQUFJLEdBQUdiLEtBQUssQ0FBQ2EsSUFBSTtRQUN6QjtRQUNBLE9BQU9EO0lBQ1g7SUFDQSxPQUFPRjtBQUNYO0FBQ0EsTUFBTVQsa0JBQWtCQztJQUNwQlksWUFBWUMsSUFBSSxDQUFDO1FBQ2IsTUFBTWYsUUFBUVEsb0JBQW9CTyxLQUFLZixLQUFLO1FBQzVDLE1BQU1nQixVQUFVRCxLQUFLQyxPQUFPLElBQUloQixPQUFPZ0IsV0FBV0QsS0FBS1YsSUFBSTtRQUMzRCw2REFBNkQ7UUFDN0QsMERBQTBEO1FBQzFELEtBQUssQ0FBQ1csU0FBUztZQUNYaEI7UUFDSjtRQUNBLElBQUksQ0FBQ0ssSUFBSSxHQUFHVSxLQUFLVixJQUFJO1FBQ3JCLElBQUksQ0FBQ0YsSUFBSSxHQUFHO1FBQ1osSUFBSSxDQUFDLElBQUksQ0FBQ0gsS0FBSyxFQUFFO1lBQ2Isb0NBQW9DO1lBQ3BDLElBQUksQ0FBQ0EsS0FBSyxHQUFHQTtRQUNqQjtJQUNKO0FBQ0o7QUFFd0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvVFJQQ0Vycm9yLTY4OWU3OWYxLm1qcz9lMTZiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAvLyBjaGVjayB0aGF0IHZhbHVlIGlzIG9iamVjdFxuICAgIHJldHVybiAhIXZhbHVlICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnO1xufVxuXG5mdW5jdGlvbiBnZXRUUlBDRXJyb3JGcm9tVW5rbm93bihjYXVzZSkge1xuICAgIGlmIChjYXVzZSBpbnN0YW5jZW9mIFRSUENFcnJvcikge1xuICAgICAgICByZXR1cm4gY2F1c2U7XG4gICAgfVxuICAgIGlmIChjYXVzZSBpbnN0YW5jZW9mIEVycm9yICYmIGNhdXNlLm5hbWUgPT09ICdUUlBDRXJyb3InKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90cnBjL3RycGMvcHVsbC80ODQ4XG4gICAgICAgIHJldHVybiBjYXVzZTtcbiAgICB9XG4gICAgY29uc3QgdHJwY0Vycm9yID0gbmV3IFRSUENFcnJvcih7XG4gICAgICAgIGNvZGU6ICdJTlRFUk5BTF9TRVJWRVJfRVJST1InLFxuICAgICAgICBjYXVzZVxuICAgIH0pO1xuICAgIC8vIEluaGVyaXQgc3RhY2sgZnJvbSBlcnJvclxuICAgIGlmIChjYXVzZSBpbnN0YW5jZW9mIEVycm9yICYmIGNhdXNlLnN0YWNrKSB7XG4gICAgICAgIHRycGNFcnJvci5zdGFjayA9IGNhdXNlLnN0YWNrO1xuICAgIH1cbiAgICByZXR1cm4gdHJwY0Vycm9yO1xufVxuY2xhc3MgVW5rbm93bkNhdXNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG59XG5mdW5jdGlvbiBnZXRDYXVzZUZyb21Vbmtub3duKGNhdXNlKSB7XG4gICAgaWYgKGNhdXNlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhdXNlO1xuICAgIH1cbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIGNhdXNlO1xuICAgIGlmICh0eXBlID09PSAndW5kZWZpbmVkJyB8fCB0eXBlID09PSAnZnVuY3Rpb24nIHx8IGNhdXNlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIFByaW1pdGl2ZSB0eXBlcyBqdXN0IGdldCB3cmFwcGVkIGluIGFuIGVycm9yXG4gICAgaWYgKHR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoU3RyaW5nKGNhdXNlKSk7XG4gICAgfVxuICAgIC8vIElmIGl0J3MgYW4gb2JqZWN0LCB3ZSdsbCBjcmVhdGUgYSBzeW50aGV0aWMgZXJyb3JcbiAgICBpZiAoaXNPYmplY3QoY2F1c2UpKSB7XG4gICAgICAgIGNvbnN0IGVyciA9IG5ldyBVbmtub3duQ2F1c2VFcnJvcigpO1xuICAgICAgICBmb3IoY29uc3Qga2V5IGluIGNhdXNlKXtcbiAgICAgICAgICAgIGVycltrZXldID0gY2F1c2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuY2xhc3MgVFJQQ0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpe1xuICAgICAgICBjb25zdCBjYXVzZSA9IGdldENhdXNlRnJvbVVua25vd24ob3B0cy5jYXVzZSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBvcHRzLm1lc3NhZ2UgPz8gY2F1c2U/Lm1lc3NhZ2UgPz8gb3B0cy5jb2RlO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtZXJyb3ItY2F1c2VcbiAgICAgICAgc3VwZXIobWVzc2FnZSwge1xuICAgICAgICAgICAgY2F1c2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29kZSA9IG9wdHMuY29kZTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1RSUENFcnJvcic7XG4gICAgICAgIGlmICghdGhpcy5jYXVzZSkge1xuICAgICAgICAgICAgLy8gaWRrIHdoeSB0aGlzIGlzIG5lZWRlZCwgYnV0IGl0IGlzXG4gICAgICAgICAgICB0aGlzLmNhdXNlID0gY2F1c2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCB7IFRSUENFcnJvciBhcyBULCBnZXRUUlBDRXJyb3JGcm9tVW5rbm93biBhcyBnIH07XG4iXSwibmFtZXMiOlsiaXNPYmplY3QiLCJ2YWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsImdldFRSUENFcnJvckZyb21Vbmtub3duIiwiY2F1c2UiLCJUUlBDRXJyb3IiLCJFcnJvciIsIm5hbWUiLCJ0cnBjRXJyb3IiLCJjb2RlIiwic3RhY2siLCJVbmtub3duQ2F1c2VFcnJvciIsImdldENhdXNlRnJvbVVua25vd24iLCJ0eXBlIiwidW5kZWZpbmVkIiwiU3RyaW5nIiwiZXJyIiwia2V5IiwiY29uc3RydWN0b3IiLCJvcHRzIiwibWVzc2FnZSIsIlQiLCJnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/server/dist/TRPCError-689e79f1.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/server/dist/adapters/fetch/index.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@trpc/server/dist/adapters/fetch/index.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchRequestHandler: () => (/* binding */ fetchRequestHandler)\n/* harmony export */ });\n/* harmony import */ var _index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../index-f91d720c.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/index-f91d720c.mjs\");\n/* harmony import */ var _resolveHTTPResponse_cd1a9112_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../resolveHTTPResponse-cd1a9112.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/resolveHTTPResponse-cd1a9112.mjs\");\n/* harmony import */ var _batchStreamFormatter_fc1ffb26_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../batchStreamFormatter-fc1ffb26.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/batchStreamFormatter-fc1ffb26.mjs\");\n/* harmony import */ var _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../codes-c924c3db.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs\");\n/* harmony import */ var _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../config-00ffd309.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/config-00ffd309.mjs\");\n/* harmony import */ var _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../TRPCError-689e79f1.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/TRPCError-689e79f1.mjs\");\n/* harmony import */ var _transformTRPCResponse_1153b421_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../transformTRPCResponse-1153b421.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/transformTRPCResponse-1153b421.mjs\");\n/* harmony import */ var _contentType_778b33c3_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../contentType-778b33c3.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/contentType-778b33c3.mjs\");\n\n\n\n\n\n\n\n\nasync function fetchRequestHandler(opts) {\n    const resHeaders = new Headers();\n    const createContext = async ()=>{\n        return opts.createContext?.({\n            req: opts.req,\n            resHeaders\n        });\n    };\n    const url = new URL(opts.req.url);\n    const path = url.pathname.slice(opts.endpoint.length + 1);\n    const req = {\n        query: url.searchParams,\n        method: opts.req.method,\n        headers: Object.fromEntries(opts.req.headers),\n        body: opts.req.headers.get(\"content-type\")?.startsWith(\"application/json\") ? await opts.req.text() : \"\"\n    };\n    let resolve;\n    const promise = new Promise((r)=>resolve = r);\n    let status = 200;\n    let isStream = false;\n    let controller;\n    let encoder;\n    let formatter;\n    const unstable_onHead = (head, isStreaming)=>{\n        for (const [key, value] of Object.entries(head.headers ?? {})){\n            /* istanbul ignore if -- @preserve */ if (typeof value === \"undefined\") {\n                continue;\n            }\n            if (typeof value === \"string\") {\n                resHeaders.set(key, value);\n                continue;\n            }\n            for (const v of value){\n                resHeaders.append(key, v);\n            }\n        }\n        status = head.status;\n        if (isStreaming) {\n            resHeaders.set(\"Transfer-Encoding\", \"chunked\");\n            resHeaders.append(\"Vary\", \"trpc-batch-mode\");\n            const stream = new ReadableStream({\n                start (c) {\n                    controller = c;\n                }\n            });\n            const response = new Response(stream, {\n                status,\n                headers: resHeaders\n            });\n            resolve(response);\n            encoder = new TextEncoder();\n            formatter = (0,_batchStreamFormatter_fc1ffb26_mjs__WEBPACK_IMPORTED_MODULE_2__.g)();\n            isStream = true;\n        }\n    };\n    const unstable_onChunk = ([index, string])=>{\n        if (index === -1) {\n            // full response, no streaming\n            const response = new Response(string || null, {\n                status,\n                headers: resHeaders\n            });\n            resolve(response);\n        } else {\n            controller.enqueue(encoder.encode(formatter(index, string)));\n        }\n    };\n    (0,_resolveHTTPResponse_cd1a9112_mjs__WEBPACK_IMPORTED_MODULE_1__.r)({\n        req,\n        createContext,\n        path,\n        router: opts.router,\n        batching: opts.batching,\n        responseMeta: opts.responseMeta,\n        onError (o) {\n            opts?.onError?.({\n                ...o,\n                req: opts.req\n            });\n        },\n        unstable_onHead,\n        unstable_onChunk\n    }).then(()=>{\n        if (isStream) {\n            controller.enqueue(encoder.encode(formatter.end()));\n            controller.close();\n        }\n    }).catch(()=>{\n        if (isStream) {\n            controller.close();\n        }\n    });\n    return promise;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvYWRhcHRlcnMvZmV0Y2gvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFrQztBQUNnRDtBQUNLO0FBQ3JEO0FBQ0M7QUFDRztBQUNZO0FBQ1Y7QUFFeEMsZUFBZUksb0JBQW9CQyxJQUFJO0lBQ25DLE1BQU1DLGFBQWEsSUFBSUM7SUFDdkIsTUFBTUMsZ0JBQWdCO1FBQ2xCLE9BQU9ILEtBQUtHLGFBQWEsR0FBRztZQUN4QkMsS0FBS0osS0FBS0ksR0FBRztZQUNiSDtRQUNKO0lBQ0o7SUFDQSxNQUFNSSxNQUFNLElBQUlDLElBQUlOLEtBQUtJLEdBQUcsQ0FBQ0MsR0FBRztJQUNoQyxNQUFNRSxPQUFPRixJQUFJRyxRQUFRLENBQUNDLEtBQUssQ0FBQ1QsS0FBS1UsUUFBUSxDQUFDQyxNQUFNLEdBQUc7SUFDdkQsTUFBTVAsTUFBTTtRQUNSUSxPQUFPUCxJQUFJUSxZQUFZO1FBQ3ZCQyxRQUFRZCxLQUFLSSxHQUFHLENBQUNVLE1BQU07UUFDdkJDLFNBQVNDLE9BQU9DLFdBQVcsQ0FBQ2pCLEtBQUtJLEdBQUcsQ0FBQ1csT0FBTztRQUM1Q0csTUFBTWxCLEtBQUtJLEdBQUcsQ0FBQ1csT0FBTyxDQUFDSSxHQUFHLENBQUMsaUJBQWlCQyxXQUFXLHNCQUFzQixNQUFNcEIsS0FBS0ksR0FBRyxDQUFDaUIsSUFBSSxLQUFLO0lBQ3pHO0lBQ0EsSUFBSUM7SUFDSixNQUFNQyxVQUFVLElBQUlDLFFBQVEsQ0FBQzdCLElBQUkyQixVQUFVM0I7SUFDM0MsSUFBSThCLFNBQVM7SUFDYixJQUFJQyxXQUFXO0lBQ2YsSUFBSUM7SUFDSixJQUFJQztJQUNKLElBQUlDO0lBQ0osTUFBTUMsa0JBQWtCLENBQUNDLE1BQU1DO1FBQzNCLEtBQUssTUFBTSxDQUFDQyxLQUFLQyxNQUFNLElBQUlsQixPQUFPbUIsT0FBTyxDQUFDSixLQUFLaEIsT0FBTyxJQUFJLENBQUMsR0FBRztZQUMxRCxtQ0FBbUMsR0FBRyxJQUFJLE9BQU9tQixVQUFVLGFBQWE7Z0JBQ3BFO1lBQ0o7WUFDQSxJQUFJLE9BQU9BLFVBQVUsVUFBVTtnQkFDM0JqQyxXQUFXbUMsR0FBRyxDQUFDSCxLQUFLQztnQkFDcEI7WUFDSjtZQUNBLEtBQUssTUFBTUcsS0FBS0gsTUFBTTtnQkFDbEJqQyxXQUFXcUMsTUFBTSxDQUFDTCxLQUFLSTtZQUMzQjtRQUNKO1FBQ0FaLFNBQVNNLEtBQUtOLE1BQU07UUFDcEIsSUFBSU8sYUFBYTtZQUNiL0IsV0FBV21DLEdBQUcsQ0FBQyxxQkFBcUI7WUFDcENuQyxXQUFXcUMsTUFBTSxDQUFDLFFBQVE7WUFDMUIsTUFBTUMsU0FBUyxJQUFJQyxlQUFlO2dCQUM5QkMsT0FBT0MsQ0FBQztvQkFDSmYsYUFBYWU7Z0JBQ2pCO1lBQ0o7WUFDQSxNQUFNQyxXQUFXLElBQUlDLFNBQVNMLFFBQVE7Z0JBQ2xDZDtnQkFDQVYsU0FBU2Q7WUFDYjtZQUNBcUIsUUFBUXFCO1lBQ1JmLFVBQVUsSUFBSWlCO1lBQ2RoQixZQUFZL0IscUVBQXVCQTtZQUNuQzRCLFdBQVc7UUFDZjtJQUNKO0lBQ0EsTUFBTW9CLG1CQUFtQixDQUFDLENBQUNDLE9BQU9DLE9BQU87UUFDckMsSUFBSUQsVUFBVSxDQUFDLEdBQUc7WUFDZCw4QkFBOEI7WUFDOUIsTUFBTUosV0FBVyxJQUFJQyxTQUFTSSxVQUFVLE1BQU07Z0JBQzFDdkI7Z0JBQ0FWLFNBQVNkO1lBQ2I7WUFDQXFCLFFBQVFxQjtRQUNaLE9BQU87WUFDSGhCLFdBQVdzQixPQUFPLENBQUNyQixRQUFRc0IsTUFBTSxDQUFDckIsVUFBVWtCLE9BQU9DO1FBQ3ZEO0lBQ0o7SUFDQXBELG9FQUFtQkEsQ0FBQztRQUNoQlE7UUFDQUQ7UUFDQUk7UUFDQTRDLFFBQVFuRCxLQUFLbUQsTUFBTTtRQUNuQkMsVUFBVXBELEtBQUtvRCxRQUFRO1FBQ3ZCQyxjQUFjckQsS0FBS3FELFlBQVk7UUFDL0JDLFNBQVNDLENBQUM7WUFDTnZELE1BQU1zRCxVQUFVO2dCQUNaLEdBQUdDLENBQUM7Z0JBQ0puRCxLQUFLSixLQUFLSSxHQUFHO1lBQ2pCO1FBQ0o7UUFDQTBCO1FBQ0FnQjtJQUNKLEdBQUdVLElBQUksQ0FBQztRQUNKLElBQUk5QixVQUFVO1lBQ1ZDLFdBQVdzQixPQUFPLENBQUNyQixRQUFRc0IsTUFBTSxDQUFDckIsVUFBVTRCLEdBQUc7WUFDL0M5QixXQUFXK0IsS0FBSztRQUNwQjtJQUNKLEdBQUdDLEtBQUssQ0FBQztRQUNMLElBQUlqQyxVQUFVO1lBQ1ZDLFdBQVcrQixLQUFLO1FBQ3BCO0lBQ0o7SUFDQSxPQUFPbkM7QUFDWDtBQUUrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3QzLWFwcC8uL25vZGVfbW9kdWxlcy9AdHJwYy9zZXJ2ZXIvZGlzdC9hZGFwdGVycy9mZXRjaC9pbmRleC5tanM/MTMyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4uLy4uL2luZGV4LWY5MWQ3MjBjLm1qcyc7XG5pbXBvcnQgeyByIGFzIHJlc29sdmVIVFRQUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9yZXNvbHZlSFRUUFJlc3BvbnNlLWNkMWE5MTEyLm1qcyc7XG5pbXBvcnQgeyBnIGFzIGdldEJhdGNoU3RyZWFtRm9ybWF0dGVyIH0gZnJvbSAnLi4vLi4vYmF0Y2hTdHJlYW1Gb3JtYXR0ZXItZmMxZmZiMjYubWpzJztcbmltcG9ydCAnLi4vLi4vY29kZXMtYzkyNGMzZGIubWpzJztcbmltcG9ydCAnLi4vLi4vY29uZmlnLTAwZmZkMzA5Lm1qcyc7XG5pbXBvcnQgJy4uLy4uL1RSUENFcnJvci02ODllNzlmMS5tanMnO1xuaW1wb3J0ICcuLi8uLi90cmFuc2Zvcm1UUlBDUmVzcG9uc2UtMTE1M2I0MjEubWpzJztcbmltcG9ydCAnLi4vLi4vY29udGVudFR5cGUtNzc4YjMzYzMubWpzJztcblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hSZXF1ZXN0SGFuZGxlcihvcHRzKSB7XG4gICAgY29uc3QgcmVzSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgY29uc3QgY3JlYXRlQ29udGV4dCA9IGFzeW5jICgpPT57XG4gICAgICAgIHJldHVybiBvcHRzLmNyZWF0ZUNvbnRleHQ/Lih7XG4gICAgICAgICAgICByZXE6IG9wdHMucmVxLFxuICAgICAgICAgICAgcmVzSGVhZGVyc1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwob3B0cy5yZXEudXJsKTtcbiAgICBjb25zdCBwYXRoID0gdXJsLnBhdGhuYW1lLnNsaWNlKG9wdHMuZW5kcG9pbnQubGVuZ3RoICsgMSk7XG4gICAgY29uc3QgcmVxID0ge1xuICAgICAgICBxdWVyeTogdXJsLnNlYXJjaFBhcmFtcyxcbiAgICAgICAgbWV0aG9kOiBvcHRzLnJlcS5tZXRob2QsXG4gICAgICAgIGhlYWRlcnM6IE9iamVjdC5mcm9tRW50cmllcyhvcHRzLnJlcS5oZWFkZXJzKSxcbiAgICAgICAgYm9keTogb3B0cy5yZXEuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpPy5zdGFydHNXaXRoKCdhcHBsaWNhdGlvbi9qc29uJykgPyBhd2FpdCBvcHRzLnJlcS50ZXh0KCkgOiAnJ1xuICAgIH07XG4gICAgbGV0IHJlc29sdmU7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyKT0+cmVzb2x2ZSA9IHIpO1xuICAgIGxldCBzdGF0dXMgPSAyMDA7XG4gICAgbGV0IGlzU3RyZWFtID0gZmFsc2U7XG4gICAgbGV0IGNvbnRyb2xsZXI7XG4gICAgbGV0IGVuY29kZXI7XG4gICAgbGV0IGZvcm1hdHRlcjtcbiAgICBjb25zdCB1bnN0YWJsZV9vbkhlYWQgPSAoaGVhZCwgaXNTdHJlYW1pbmcpPT57XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGhlYWQuaGVhZGVycyA/PyB7fSkpe1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmIC0tIEBwcmVzZXJ2ZSAqLyBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXNIZWFkZXJzLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiB2YWx1ZSl7XG4gICAgICAgICAgICAgICAgcmVzSGVhZGVycy5hcHBlbmQoa2V5LCB2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdGF0dXMgPSBoZWFkLnN0YXR1cztcbiAgICAgICAgaWYgKGlzU3RyZWFtaW5nKSB7XG4gICAgICAgICAgICByZXNIZWFkZXJzLnNldCgnVHJhbnNmZXItRW5jb2RpbmcnLCAnY2h1bmtlZCcpO1xuICAgICAgICAgICAgcmVzSGVhZGVycy5hcHBlbmQoJ1ZhcnknLCAndHJwYy1iYXRjaC1tb2RlJyk7XG4gICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgICAgIHN0YXJ0IChjKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIgPSBjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2Uoc3RyZWFtLCB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlc0hlYWRlcnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAgICAgICBmb3JtYXR0ZXIgPSBnZXRCYXRjaFN0cmVhbUZvcm1hdHRlcigpO1xuICAgICAgICAgICAgaXNTdHJlYW0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCB1bnN0YWJsZV9vbkNodW5rID0gKFtpbmRleCwgc3RyaW5nXSk9PntcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgLy8gZnVsbCByZXNwb25zZSwgbm8gc3RyZWFtaW5nXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IG5ldyBSZXNwb25zZShzdHJpbmcgfHwgbnVsbCwge1xuICAgICAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXNIZWFkZXJzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGVuY29kZXIuZW5jb2RlKGZvcm1hdHRlcihpbmRleCwgc3RyaW5nKSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXNvbHZlSFRUUFJlc3BvbnNlKHtcbiAgICAgICAgcmVxLFxuICAgICAgICBjcmVhdGVDb250ZXh0LFxuICAgICAgICBwYXRoLFxuICAgICAgICByb3V0ZXI6IG9wdHMucm91dGVyLFxuICAgICAgICBiYXRjaGluZzogb3B0cy5iYXRjaGluZyxcbiAgICAgICAgcmVzcG9uc2VNZXRhOiBvcHRzLnJlc3BvbnNlTWV0YSxcbiAgICAgICAgb25FcnJvciAobykge1xuICAgICAgICAgICAgb3B0cz8ub25FcnJvcj8uKHtcbiAgICAgICAgICAgICAgICAuLi5vLFxuICAgICAgICAgICAgICAgIHJlcTogb3B0cy5yZXFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB1bnN0YWJsZV9vbkhlYWQsXG4gICAgICAgIHVuc3RhYmxlX29uQ2h1bmtcbiAgICB9KS50aGVuKCgpPT57XG4gICAgICAgIGlmIChpc1N0cmVhbSkge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGVuY29kZXIuZW5jb2RlKGZvcm1hdHRlci5lbmQoKSkpO1xuICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfSkuY2F0Y2goKCk9PntcbiAgICAgICAgaWYgKGlzU3RyZWFtKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZXhwb3J0IHsgZmV0Y2hSZXF1ZXN0SGFuZGxlciB9O1xuIl0sIm5hbWVzIjpbInIiLCJyZXNvbHZlSFRUUFJlc3BvbnNlIiwiZyIsImdldEJhdGNoU3RyZWFtRm9ybWF0dGVyIiwiZmV0Y2hSZXF1ZXN0SGFuZGxlciIsIm9wdHMiLCJyZXNIZWFkZXJzIiwiSGVhZGVycyIsImNyZWF0ZUNvbnRleHQiLCJyZXEiLCJ1cmwiLCJVUkwiLCJwYXRoIiwicGF0aG5hbWUiLCJzbGljZSIsImVuZHBvaW50IiwibGVuZ3RoIiwicXVlcnkiLCJzZWFyY2hQYXJhbXMiLCJtZXRob2QiLCJoZWFkZXJzIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJib2R5IiwiZ2V0Iiwic3RhcnRzV2l0aCIsInRleHQiLCJyZXNvbHZlIiwicHJvbWlzZSIsIlByb21pc2UiLCJzdGF0dXMiLCJpc1N0cmVhbSIsImNvbnRyb2xsZXIiLCJlbmNvZGVyIiwiZm9ybWF0dGVyIiwidW5zdGFibGVfb25IZWFkIiwiaGVhZCIsImlzU3RyZWFtaW5nIiwia2V5IiwidmFsdWUiLCJlbnRyaWVzIiwic2V0IiwidiIsImFwcGVuZCIsInN0cmVhbSIsIlJlYWRhYmxlU3RyZWFtIiwic3RhcnQiLCJjIiwicmVzcG9uc2UiLCJSZXNwb25zZSIsIlRleHRFbmNvZGVyIiwidW5zdGFibGVfb25DaHVuayIsImluZGV4Iiwic3RyaW5nIiwiZW5xdWV1ZSIsImVuY29kZSIsInJvdXRlciIsImJhdGNoaW5nIiwicmVzcG9uc2VNZXRhIiwib25FcnJvciIsIm8iLCJ0aGVuIiwiZW5kIiwiY2xvc2UiLCJjYXRjaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/server/dist/adapters/fetch/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/server/dist/batchStreamFormatter-fc1ffb26.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@trpc/server/dist/batchStreamFormatter-fc1ffb26.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   g: () => (/* binding */ getBatchStreamFormatter)\n/* harmony export */ });\n/**\n * Format a batch response as a line-delimited JSON stream\n * that the `unstable_httpBatchStreamLink` can parse:\n *\n * @example\n * ```ts\n * const formatter = getBatchStreamFormatter();\n * res.send(formatter(1, 'response #2'));\n * res.send(formatter(0, 'response #1'));\n * res.send(formatter.end());\n * ```\n *\n * Expected format:\n * ```json\n * {\"1\":\"response #2\"\n * ,\"0\":\"response #1\"\n * }\n * ```\n */ function getBatchStreamFormatter() {\n    let first = true;\n    function format(index, string) {\n        const prefix = first ? \"{\" : \",\";\n        first = false;\n        return `${prefix}\"${index}\":${string}\\n`;\n    }\n    format.end = ()=>\"}\";\n    return format;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvYmF0Y2hTdHJlYW1Gb3JtYXR0ZXItZmMxZmZiMjYubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBa0JDLEdBQUcsU0FBU0E7SUFDVCxJQUFJQyxRQUFRO0lBQ1osU0FBU0MsT0FBT0MsS0FBSyxFQUFFQyxNQUFNO1FBQ3pCLE1BQU1DLFNBQVNKLFFBQVEsTUFBTTtRQUM3QkEsUUFBUTtRQUNSLE9BQU8sQ0FBQyxFQUFFSSxPQUFPLENBQUMsRUFBRUYsTUFBTSxFQUFFLEVBQUVDLE9BQU8sRUFBRSxDQUFDO0lBQzVDO0lBQ0FGLE9BQU9JLEdBQUcsR0FBRyxJQUFJO0lBQ2pCLE9BQU9KO0FBQ1g7QUFFd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvYmF0Y2hTdHJlYW1Gb3JtYXR0ZXItZmMxZmZiMjYubWpzPzhhNjUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGb3JtYXQgYSBiYXRjaCByZXNwb25zZSBhcyBhIGxpbmUtZGVsaW1pdGVkIEpTT04gc3RyZWFtXG4gKiB0aGF0IHRoZSBgdW5zdGFibGVfaHR0cEJhdGNoU3RyZWFtTGlua2AgY2FuIHBhcnNlOlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogY29uc3QgZm9ybWF0dGVyID0gZ2V0QmF0Y2hTdHJlYW1Gb3JtYXR0ZXIoKTtcbiAqIHJlcy5zZW5kKGZvcm1hdHRlcigxLCAncmVzcG9uc2UgIzInKSk7XG4gKiByZXMuc2VuZChmb3JtYXR0ZXIoMCwgJ3Jlc3BvbnNlICMxJykpO1xuICogcmVzLnNlbmQoZm9ybWF0dGVyLmVuZCgpKTtcbiAqIGBgYFxuICpcbiAqIEV4cGVjdGVkIGZvcm1hdDpcbiAqIGBgYGpzb25cbiAqIHtcIjFcIjpcInJlc3BvbnNlICMyXCJcbiAqICxcIjBcIjpcInJlc3BvbnNlICMxXCJcbiAqIH1cbiAqIGBgYFxuICovIGZ1bmN0aW9uIGdldEJhdGNoU3RyZWFtRm9ybWF0dGVyKCkge1xuICAgIGxldCBmaXJzdCA9IHRydWU7XG4gICAgZnVuY3Rpb24gZm9ybWF0KGluZGV4LCBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gZmlyc3QgPyAneycgOiAnLCc7XG4gICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBgJHtwcmVmaXh9XCIke2luZGV4fVwiOiR7c3RyaW5nfVxcbmA7XG4gICAgfVxuICAgIGZvcm1hdC5lbmQgPSAoKT0+J30nO1xuICAgIHJldHVybiBmb3JtYXQ7XG59XG5cbmV4cG9ydCB7IGdldEJhdGNoU3RyZWFtRm9ybWF0dGVyIGFzIGcgfTtcbiJdLCJuYW1lcyI6WyJnZXRCYXRjaFN0cmVhbUZvcm1hdHRlciIsImZpcnN0IiwiZm9ybWF0IiwiaW5kZXgiLCJzdHJpbmciLCJwcmVmaXgiLCJlbmQiLCJnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/server/dist/batchStreamFormatter-fc1ffb26.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@trpc/server/dist/codes-c924c3db.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   T: () => (/* binding */ TRPC_ERROR_CODES_BY_KEY),\n/* harmony export */   a: () => (/* binding */ TRPC_ERROR_CODES_BY_NUMBER),\n/* harmony export */   i: () => (/* binding */ invert)\n/* harmony export */ });\n/**\n * @internal\n */ function invert(obj) {\n    const newObj = Object.create(null);\n    for(const key in obj){\n        const v = obj[key];\n        newObj[v] = key;\n    }\n    return newObj;\n}\n// reference: https://www.jsonrpc.org/specification\n/**\n * JSON-RPC 2.0 Error codes\n *\n * `-32000` to `-32099` are reserved for implementation-defined server-errors.\n * For tRPC we're copying the last digits of HTTP 4XX errors.\n */ const TRPC_ERROR_CODES_BY_KEY = {\n    /**\n   * Invalid JSON was received by the server.\n   * An error occurred on the server while parsing the JSON text.\n   */ PARSE_ERROR: -32700,\n    /**\n   * The JSON sent is not a valid Request object.\n   */ BAD_REQUEST: -32600,\n    // Internal JSON-RPC error\n    INTERNAL_SERVER_ERROR: -32603,\n    NOT_IMPLEMENTED: -32603,\n    // Implementation specific errors\n    UNAUTHORIZED: -32001,\n    FORBIDDEN: -32003,\n    NOT_FOUND: -32004,\n    METHOD_NOT_SUPPORTED: -32005,\n    TIMEOUT: -32008,\n    CONFLICT: -32009,\n    PRECONDITION_FAILED: -32012,\n    PAYLOAD_TOO_LARGE: -32013,\n    UNPROCESSABLE_CONTENT: -32022,\n    TOO_MANY_REQUESTS: -32029,\n    CLIENT_CLOSED_REQUEST: -32099\n};\nconst TRPC_ERROR_CODES_BY_NUMBER = invert(TRPC_ERROR_CODES_BY_KEY);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvY29kZXMtYzkyNGMzZGIubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztDQUVDLEdBQUcsU0FBU0EsT0FBT0MsR0FBRztJQUNuQixNQUFNQyxTQUFTQyxPQUFPQyxNQUFNLENBQUM7SUFDN0IsSUFBSSxNQUFNQyxPQUFPSixJQUFJO1FBQ2pCLE1BQU1LLElBQUlMLEdBQUcsQ0FBQ0ksSUFBSTtRQUNsQkgsTUFBTSxDQUFDSSxFQUFFLEdBQUdEO0lBQ2hCO0lBQ0EsT0FBT0g7QUFDWDtBQUVBLG1EQUFtRDtBQUNuRDs7Ozs7Q0FLQyxHQUFHLE1BQU1LLDBCQUEwQjtJQUNoQzs7O0dBR0QsR0FBR0MsYUFBYSxDQUFDO0lBQ2hCOztHQUVELEdBQUdDLGFBQWEsQ0FBQztJQUNoQiwwQkFBMEI7SUFDMUJDLHVCQUF1QixDQUFDO0lBQ3hCQyxpQkFBaUIsQ0FBQztJQUNsQixpQ0FBaUM7SUFDakNDLGNBQWMsQ0FBQztJQUNmQyxXQUFXLENBQUM7SUFDWkMsV0FBVyxDQUFDO0lBQ1pDLHNCQUFzQixDQUFDO0lBQ3ZCQyxTQUFTLENBQUM7SUFDVkMsVUFBVSxDQUFDO0lBQ1hDLHFCQUFxQixDQUFDO0lBQ3RCQyxtQkFBbUIsQ0FBQztJQUNwQkMsdUJBQXVCLENBQUM7SUFDeEJDLG1CQUFtQixDQUFDO0lBQ3BCQyx1QkFBdUIsQ0FBQztBQUM1QjtBQUNBLE1BQU1DLDZCQUE2QnZCLE9BQU9PO0FBRTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdDMtYXBwLy4vbm9kZV9tb2R1bGVzL0B0cnBjL3NlcnZlci9kaXN0L2NvZGVzLWM5MjRjM2RiLm1qcz8zMDIxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gaW52ZXJ0KG9iaikge1xuICAgIGNvbnN0IG5ld09iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZm9yKGNvbnN0IGtleSBpbiBvYmope1xuICAgICAgICBjb25zdCB2ID0gb2JqW2tleV07XG4gICAgICAgIG5ld09ialt2XSA9IGtleTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld09iajtcbn1cblxuLy8gcmVmZXJlbmNlOiBodHRwczovL3d3dy5qc29ucnBjLm9yZy9zcGVjaWZpY2F0aW9uXG4vKipcbiAqIEpTT04tUlBDIDIuMCBFcnJvciBjb2Rlc1xuICpcbiAqIGAtMzIwMDBgIHRvIGAtMzIwOTlgIGFyZSByZXNlcnZlZCBmb3IgaW1wbGVtZW50YXRpb24tZGVmaW5lZCBzZXJ2ZXItZXJyb3JzLlxuICogRm9yIHRSUEMgd2UncmUgY29weWluZyB0aGUgbGFzdCBkaWdpdHMgb2YgSFRUUCA0WFggZXJyb3JzLlxuICovIGNvbnN0IFRSUENfRVJST1JfQ09ERVNfQllfS0VZID0ge1xuICAgIC8qKlxuICAgKiBJbnZhbGlkIEpTT04gd2FzIHJlY2VpdmVkIGJ5IHRoZSBzZXJ2ZXIuXG4gICAqIEFuIGVycm9yIG9jY3VycmVkIG9uIHRoZSBzZXJ2ZXIgd2hpbGUgcGFyc2luZyB0aGUgSlNPTiB0ZXh0LlxuICAgKi8gUEFSU0VfRVJST1I6IC0zMjcwMCxcbiAgICAvKipcbiAgICogVGhlIEpTT04gc2VudCBpcyBub3QgYSB2YWxpZCBSZXF1ZXN0IG9iamVjdC5cbiAgICovIEJBRF9SRVFVRVNUOiAtMzI2MDAsXG4gICAgLy8gSW50ZXJuYWwgSlNPTi1SUEMgZXJyb3JcbiAgICBJTlRFUk5BTF9TRVJWRVJfRVJST1I6IC0zMjYwMyxcbiAgICBOT1RfSU1QTEVNRU5URUQ6IC0zMjYwMyxcbiAgICAvLyBJbXBsZW1lbnRhdGlvbiBzcGVjaWZpYyBlcnJvcnNcbiAgICBVTkFVVEhPUklaRUQ6IC0zMjAwMSxcbiAgICBGT1JCSURERU46IC0zMjAwMyxcbiAgICBOT1RfRk9VTkQ6IC0zMjAwNCxcbiAgICBNRVRIT0RfTk9UX1NVUFBPUlRFRDogLTMyMDA1LFxuICAgIFRJTUVPVVQ6IC0zMjAwOCxcbiAgICBDT05GTElDVDogLTMyMDA5LFxuICAgIFBSRUNPTkRJVElPTl9GQUlMRUQ6IC0zMjAxMixcbiAgICBQQVlMT0FEX1RPT19MQVJHRTogLTMyMDEzLFxuICAgIFVOUFJPQ0VTU0FCTEVfQ09OVEVOVDogLTMyMDIyLFxuICAgIFRPT19NQU5ZX1JFUVVFU1RTOiAtMzIwMjksXG4gICAgQ0xJRU5UX0NMT1NFRF9SRVFVRVNUOiAtMzIwOTlcbn07XG5jb25zdCBUUlBDX0VSUk9SX0NPREVTX0JZX05VTUJFUiA9IGludmVydChUUlBDX0VSUk9SX0NPREVTX0JZX0tFWSk7XG5cbmV4cG9ydCB7IFRSUENfRVJST1JfQ09ERVNfQllfS0VZIGFzIFQsIFRSUENfRVJST1JfQ09ERVNfQllfTlVNQkVSIGFzIGEsIGludmVydCBhcyBpIH07XG4iXSwibmFtZXMiOlsiaW52ZXJ0Iiwib2JqIiwibmV3T2JqIiwiT2JqZWN0IiwiY3JlYXRlIiwia2V5IiwidiIsIlRSUENfRVJST1JfQ09ERVNfQllfS0VZIiwiUEFSU0VfRVJST1IiLCJCQURfUkVRVUVTVCIsIklOVEVSTkFMX1NFUlZFUl9FUlJPUiIsIk5PVF9JTVBMRU1FTlRFRCIsIlVOQVVUSE9SSVpFRCIsIkZPUkJJRERFTiIsIk5PVF9GT1VORCIsIk1FVEhPRF9OT1RfU1VQUE9SVEVEIiwiVElNRU9VVCIsIkNPTkZMSUNUIiwiUFJFQ09ORElUSU9OX0ZBSUxFRCIsIlBBWUxPQURfVE9PX0xBUkdFIiwiVU5QUk9DRVNTQUJMRV9DT05URU5UIiwiVE9PX01BTllfUkVRVUVTVFMiLCJDTElFTlRfQ0xPU0VEX1JFUVVFU1QiLCJUUlBDX0VSUk9SX0NPREVTX0JZX05VTUJFUiIsIlQiLCJhIiwiaSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/server/dist/config-00ffd309.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@trpc/server/dist/config-00ffd309.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   a: () => (/* binding */ defaultTransformer),\n/* harmony export */   b: () => (/* binding */ callProcedure),\n/* harmony export */   c: () => (/* binding */ createRouterFactory),\n/* harmony export */   d: () => (/* binding */ defaultFormatter),\n/* harmony export */   g: () => (/* binding */ getDataTransformer),\n/* harmony export */   i: () => (/* binding */ isServerDefault),\n/* harmony export */   p: () => (/* binding */ procedureTypes)\n/* harmony export */ });\n/* harmony import */ var _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TRPCError-689e79f1.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/TRPCError-689e79f1.mjs\");\n/* harmony import */ var _index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-f91d720c.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/index-f91d720c.mjs\");\n/* harmony import */ var _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./codes-c924c3db.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs\");\n\n\n\n/**\n * @public\n */ /**\n * @internal\n */ function getDataTransformer(transformer) {\n    if (\"input\" in transformer) {\n        return transformer;\n    }\n    return {\n        input: transformer,\n        output: transformer\n    };\n}\n/**\n * @internal\n */ const defaultTransformer = {\n    _default: true,\n    input: {\n        serialize: (obj)=>obj,\n        deserialize: (obj)=>obj\n    },\n    output: {\n        serialize: (obj)=>obj,\n        deserialize: (obj)=>obj\n    }\n};\nconst defaultFormatter = ({ shape })=>{\n    return shape;\n};\n/**\n * Create an object without inheriting anything from `Object.prototype`\n * @internal\n */ function omitPrototype(obj) {\n    return Object.assign(Object.create(null), obj);\n}\nconst procedureTypes = [\n    \"query\",\n    \"mutation\",\n    \"subscription\"\n];\nfunction isRouter(procedureOrRouter) {\n    return \"router\" in procedureOrRouter._def;\n}\nconst emptyRouter = {\n    _ctx: null,\n    _errorShape: null,\n    _meta: null,\n    queries: {},\n    mutations: {},\n    subscriptions: {},\n    errorFormatter: defaultFormatter,\n    transformer: defaultTransformer\n};\n/**\n * Reserved words that can't be used as router or procedure names\n */ const reservedWords = [\n    /**\n   * Then is a reserved word because otherwise we can't return a promise that returns a Proxy\n   * since JS will think that `.then` is something that exists\n   */ \"then\"\n];\n/**\n * @internal\n */ function createRouterFactory(config) {\n    return function createRouterInner(procedures) {\n        const reservedWordsUsed = new Set(Object.keys(procedures).filter((v)=>reservedWords.includes(v)));\n        if (reservedWordsUsed.size > 0) {\n            throw new Error(\"Reserved words used in `router({})` call: \" + Array.from(reservedWordsUsed).join(\", \"));\n        }\n        const routerProcedures = omitPrototype({});\n        function recursiveGetPaths(procedures, path = \"\") {\n            for (const [key, procedureOrRouter] of Object.entries(procedures ?? {})){\n                const newPath = `${path}${key}`;\n                if (isRouter(procedureOrRouter)) {\n                    recursiveGetPaths(procedureOrRouter._def.procedures, `${newPath}.`);\n                    continue;\n                }\n                if (routerProcedures[newPath]) {\n                    throw new Error(`Duplicate key: ${newPath}`);\n                }\n                routerProcedures[newPath] = procedureOrRouter;\n            }\n        }\n        recursiveGetPaths(procedures);\n        const _def = {\n            _config: config,\n            router: true,\n            procedures: routerProcedures,\n            ...emptyRouter,\n            record: procedures,\n            queries: Object.entries(routerProcedures).filter((pair)=>pair[1]._def.query).reduce((acc, [key, val])=>({\n                    ...acc,\n                    [key]: val\n                }), {}),\n            mutations: Object.entries(routerProcedures).filter((pair)=>pair[1]._def.mutation).reduce((acc, [key, val])=>({\n                    ...acc,\n                    [key]: val\n                }), {}),\n            subscriptions: Object.entries(routerProcedures).filter((pair)=>pair[1]._def.subscription).reduce((acc, [key, val])=>({\n                    ...acc,\n                    [key]: val\n                }), {})\n        };\n        const router = {\n            ...procedures,\n            _def,\n            createCaller (ctx) {\n                const proxy = (0,_index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_1__.a)(({ path, args })=>{\n                    // interop mode\n                    if (path.length === 1 && procedureTypes.includes(path[0])) {\n                        return callProcedure({\n                            procedures: _def.procedures,\n                            path: args[0],\n                            rawInput: args[1],\n                            ctx,\n                            type: path[0]\n                        });\n                    }\n                    const fullPath = path.join(\".\");\n                    const procedure = _def.procedures[fullPath];\n                    let type = \"query\";\n                    if (procedure._def.mutation) {\n                        type = \"mutation\";\n                    } else if (procedure._def.subscription) {\n                        type = \"subscription\";\n                    }\n                    return procedure({\n                        path: fullPath,\n                        rawInput: args[0],\n                        ctx,\n                        type\n                    });\n                });\n                return proxy;\n            },\n            getErrorShape (opts) {\n                const { path, error } = opts;\n                const { code } = opts.error;\n                const shape = {\n                    message: error.message,\n                    code: _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_2__.T[code],\n                    data: {\n                        code,\n                        httpStatus: (0,_index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(error)\n                    }\n                };\n                if (config.isDev && typeof opts.error.stack === \"string\") {\n                    shape.data.stack = opts.error.stack;\n                }\n                if (typeof path === \"string\") {\n                    shape.data.path = path;\n                }\n                return this._def._config.errorFormatter({\n                    ...opts,\n                    shape\n                });\n            }\n        };\n        return router;\n    };\n}\n/**\n * @internal\n */ function callProcedure(opts) {\n    const { type, path } = opts;\n    if (!(path in opts.procedures) || !opts.procedures[path]?._def[type]) {\n        throw new _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_0__.T({\n            code: \"NOT_FOUND\",\n            message: `No \"${type}\"-procedure on path \"${path}\"`\n        });\n    }\n    const procedure = opts.procedures[path];\n    return procedure(opts);\n}\n/**\n * The default check to see if we're in a server\n */ const isServerDefault =  true || 0;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvY29uZmlnLTAwZmZkMzA5Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTBEO0FBQ3dDO0FBQzlCO0FBRXBFOztDQUVDLEdBQUc7O0NBRUgsR0FBRyxTQUFTTyxtQkFBbUJDLFdBQVc7SUFDdkMsSUFBSSxXQUFXQSxhQUFhO1FBQ3hCLE9BQU9BO0lBQ1g7SUFDQSxPQUFPO1FBQ0hDLE9BQU9EO1FBQ1BFLFFBQVFGO0lBQ1o7QUFDSjtBQUNBOztDQUVDLEdBQUcsTUFBTUcscUJBQXFCO0lBQzNCQyxVQUFVO0lBQ1ZILE9BQU87UUFDSEksV0FBVyxDQUFDQyxNQUFNQTtRQUNsQkMsYUFBYSxDQUFDRCxNQUFNQTtJQUN4QjtJQUNBSixRQUFRO1FBQ0pHLFdBQVcsQ0FBQ0MsTUFBTUE7UUFDbEJDLGFBQWEsQ0FBQ0QsTUFBTUE7SUFDeEI7QUFDSjtBQUVBLE1BQU1FLG1CQUFtQixDQUFDLEVBQUVDLEtBQUssRUFBRztJQUNoQyxPQUFPQTtBQUNYO0FBRUE7OztDQUdDLEdBQUcsU0FBU0MsY0FBY0osR0FBRztJQUMxQixPQUFPSyxPQUFPQyxNQUFNLENBQUNELE9BQU9FLE1BQU0sQ0FBQyxPQUFPUDtBQUM5QztBQUVBLE1BQU1RLGlCQUFpQjtJQUNuQjtJQUNBO0lBQ0E7Q0FDSDtBQUVELFNBQVNDLFNBQVNDLGlCQUFpQjtJQUMvQixPQUFPLFlBQVlBLGtCQUFrQkMsSUFBSTtBQUM3QztBQUNBLE1BQU1DLGNBQWM7SUFDaEJDLE1BQU07SUFDTkMsYUFBYTtJQUNiQyxPQUFPO0lBQ1BDLFNBQVMsQ0FBQztJQUNWQyxXQUFXLENBQUM7SUFDWkMsZUFBZSxDQUFDO0lBQ2hCQyxnQkFBZ0JqQjtJQUNoQlIsYUFBYUc7QUFDakI7QUFDQTs7Q0FFQyxHQUFHLE1BQU11QixnQkFBZ0I7SUFDdEI7OztHQUdELEdBQUc7Q0FDTDtBQUNEOztDQUVDLEdBQUcsU0FBU0Msb0JBQW9CQyxNQUFNO0lBQ25D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QixNQUFNLEVBQUVKLElBQUksRUFBR3JCLElBQUksRUFBRyxHQUFHeUI7SUFDekIsSUFBSSxDQUFFekIsQ0FBQUEsUUFBUXlCLEtBQUt2QyxVQUFVLEtBQUssQ0FBQ3VDLEtBQUt2QyxVQUFVLENBQUNjLEtBQUssRUFBRTNCLElBQUksQ0FBQ2dELEtBQUssRUFBRTtRQUNsRSxNQUFNLElBQUl4RSxzREFBU0EsQ0FBQztZQUNoQjhFLE1BQU07WUFDTkMsU0FBUyxDQUFDLElBQUksRUFBRVAsS0FBSyxxQkFBcUIsRUFBRXJCLEtBQUssQ0FBQyxDQUFDO1FBQ3ZEO0lBQ0o7SUFDQSxNQUFNdUIsWUFBWUUsS0FBS3ZDLFVBQVUsQ0FBQ2MsS0FBSztJQUN2QyxPQUFPdUIsVUFBVUU7QUFDckI7QUFFQTs7Q0FFQyxHQUFHLE1BQU1RLGtCQUFrQixLQUE4SU0sSUFBSSxDQUEyQ0M7QUFFN0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvY29uZmlnLTAwZmZkMzA5Lm1qcz9iMDdiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFQgYXMgVFJQQ0Vycm9yIH0gZnJvbSAnLi9UUlBDRXJyb3ItNjg5ZTc5ZjEubWpzJztcbmltcG9ydCB7IGEgYXMgY3JlYXRlUmVjdXJzaXZlUHJveHksIGcgYXMgZ2V0SFRUUFN0YXR1c0NvZGVGcm9tRXJyb3IgfSBmcm9tICcuL2luZGV4LWY5MWQ3MjBjLm1qcyc7XG5pbXBvcnQgeyBUIGFzIFRSUENfRVJST1JfQ09ERVNfQllfS0VZIH0gZnJvbSAnLi9jb2Rlcy1jOTI0YzNkYi5tanMnO1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqLyAvKipcbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIGdldERhdGFUcmFuc2Zvcm1lcih0cmFuc2Zvcm1lcikge1xuICAgIGlmICgnaW5wdXQnIGluIHRyYW5zZm9ybWVyKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1lcjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5wdXQ6IHRyYW5zZm9ybWVyLFxuICAgICAgICBvdXRwdXQ6IHRyYW5zZm9ybWVyXG4gICAgfTtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKi8gY29uc3QgZGVmYXVsdFRyYW5zZm9ybWVyID0ge1xuICAgIF9kZWZhdWx0OiB0cnVlLFxuICAgIGlucHV0OiB7XG4gICAgICAgIHNlcmlhbGl6ZTogKG9iaik9Pm9iaixcbiAgICAgICAgZGVzZXJpYWxpemU6IChvYmopPT5vYmpcbiAgICB9LFxuICAgIG91dHB1dDoge1xuICAgICAgICBzZXJpYWxpemU6IChvYmopPT5vYmosXG4gICAgICAgIGRlc2VyaWFsaXplOiAob2JqKT0+b2JqXG4gICAgfVxufTtcblxuY29uc3QgZGVmYXVsdEZvcm1hdHRlciA9ICh7IHNoYXBlICB9KT0+e1xuICAgIHJldHVybiBzaGFwZTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGFuIG9iamVjdCB3aXRob3V0IGluaGVyaXRpbmcgYW55dGhpbmcgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWBcbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIG9taXRQcm90b3R5cGUob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShudWxsKSwgb2JqKTtcbn1cblxuY29uc3QgcHJvY2VkdXJlVHlwZXMgPSBbXG4gICAgJ3F1ZXJ5JyxcbiAgICAnbXV0YXRpb24nLFxuICAgICdzdWJzY3JpcHRpb24nXG5dO1xuXG5mdW5jdGlvbiBpc1JvdXRlcihwcm9jZWR1cmVPclJvdXRlcikge1xuICAgIHJldHVybiAncm91dGVyJyBpbiBwcm9jZWR1cmVPclJvdXRlci5fZGVmO1xufVxuY29uc3QgZW1wdHlSb3V0ZXIgPSB7XG4gICAgX2N0eDogbnVsbCxcbiAgICBfZXJyb3JTaGFwZTogbnVsbCxcbiAgICBfbWV0YTogbnVsbCxcbiAgICBxdWVyaWVzOiB7fSxcbiAgICBtdXRhdGlvbnM6IHt9LFxuICAgIHN1YnNjcmlwdGlvbnM6IHt9LFxuICAgIGVycm9yRm9ybWF0dGVyOiBkZWZhdWx0Rm9ybWF0dGVyLFxuICAgIHRyYW5zZm9ybWVyOiBkZWZhdWx0VHJhbnNmb3JtZXJcbn07XG4vKipcbiAqIFJlc2VydmVkIHdvcmRzIHRoYXQgY2FuJ3QgYmUgdXNlZCBhcyByb3V0ZXIgb3IgcHJvY2VkdXJlIG5hbWVzXG4gKi8gY29uc3QgcmVzZXJ2ZWRXb3JkcyA9IFtcbiAgICAvKipcbiAgICogVGhlbiBpcyBhIHJlc2VydmVkIHdvcmQgYmVjYXVzZSBvdGhlcndpc2Ugd2UgY2FuJ3QgcmV0dXJuIGEgcHJvbWlzZSB0aGF0IHJldHVybnMgYSBQcm94eVxuICAgKiBzaW5jZSBKUyB3aWxsIHRoaW5rIHRoYXQgYC50aGVuYCBpcyBzb21ldGhpbmcgdGhhdCBleGlzdHNcbiAgICovICd0aGVuJ1xuXTtcbi8qKlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gY3JlYXRlUm91dGVyRmFjdG9yeShjb25maWcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlUm91dGVySW5uZXIocHJvY2VkdXJlcykge1xuICAgICAgICBjb25zdCByZXNlcnZlZFdvcmRzVXNlZCA9IG5ldyBTZXQoT2JqZWN0LmtleXMocHJvY2VkdXJlcykuZmlsdGVyKCh2KT0+cmVzZXJ2ZWRXb3Jkcy5pbmNsdWRlcyh2KSkpO1xuICAgICAgICBpZiAocmVzZXJ2ZWRXb3Jkc1VzZWQuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVzZXJ2ZWQgd29yZHMgdXNlZCBpbiBgcm91dGVyKHt9KWAgY2FsbDogJyArIEFycmF5LmZyb20ocmVzZXJ2ZWRXb3Jkc1VzZWQpLmpvaW4oJywgJykpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJvdXRlclByb2NlZHVyZXMgPSBvbWl0UHJvdG90eXBlKHt9KTtcbiAgICAgICAgZnVuY3Rpb24gcmVjdXJzaXZlR2V0UGF0aHMocHJvY2VkdXJlcywgcGF0aCA9ICcnKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHByb2NlZHVyZU9yUm91dGVyXSBvZiBPYmplY3QuZW50cmllcyhwcm9jZWR1cmVzID8/IHt9KSl7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UGF0aCA9IGAke3BhdGh9JHtrZXl9YDtcbiAgICAgICAgICAgICAgICBpZiAoaXNSb3V0ZXIocHJvY2VkdXJlT3JSb3V0ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY3Vyc2l2ZUdldFBhdGhzKHByb2NlZHVyZU9yUm91dGVyLl9kZWYucHJvY2VkdXJlcywgYCR7bmV3UGF0aH0uYCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocm91dGVyUHJvY2VkdXJlc1tuZXdQYXRoXSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBrZXk6ICR7bmV3UGF0aH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcm91dGVyUHJvY2VkdXJlc1tuZXdQYXRoXSA9IHByb2NlZHVyZU9yUm91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlY3Vyc2l2ZUdldFBhdGhzKHByb2NlZHVyZXMpO1xuICAgICAgICBjb25zdCBfZGVmID0ge1xuICAgICAgICAgICAgX2NvbmZpZzogY29uZmlnLFxuICAgICAgICAgICAgcm91dGVyOiB0cnVlLFxuICAgICAgICAgICAgcHJvY2VkdXJlczogcm91dGVyUHJvY2VkdXJlcyxcbiAgICAgICAgICAgIC4uLmVtcHR5Um91dGVyLFxuICAgICAgICAgICAgcmVjb3JkOiBwcm9jZWR1cmVzLFxuICAgICAgICAgICAgcXVlcmllczogT2JqZWN0LmVudHJpZXMocm91dGVyUHJvY2VkdXJlcykuZmlsdGVyKChwYWlyKT0+cGFpclsxXS5fZGVmLnF1ZXJ5KS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsXSk9Pih7XG4gICAgICAgICAgICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICAgICAgICAgICAgW2tleV06IHZhbFxuICAgICAgICAgICAgICAgIH0pLCB7fSksXG4gICAgICAgICAgICBtdXRhdGlvbnM6IE9iamVjdC5lbnRyaWVzKHJvdXRlclByb2NlZHVyZXMpLmZpbHRlcigocGFpcik9PnBhaXJbMV0uX2RlZi5tdXRhdGlvbikucmVkdWNlKChhY2MsIFtrZXksIHZhbF0pPT4oe1xuICAgICAgICAgICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICAgICAgICAgIFtrZXldOiB2YWxcbiAgICAgICAgICAgICAgICB9KSwge30pLFxuICAgICAgICAgICAgc3Vic2NyaXB0aW9uczogT2JqZWN0LmVudHJpZXMocm91dGVyUHJvY2VkdXJlcykuZmlsdGVyKChwYWlyKT0+cGFpclsxXS5fZGVmLnN1YnNjcmlwdGlvbikucmVkdWNlKChhY2MsIFtrZXksIHZhbF0pPT4oe1xuICAgICAgICAgICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICAgICAgICAgIFtrZXldOiB2YWxcbiAgICAgICAgICAgICAgICB9KSwge30pXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJvdXRlciA9IHtcbiAgICAgICAgICAgIC4uLnByb2NlZHVyZXMsXG4gICAgICAgICAgICBfZGVmLFxuICAgICAgICAgICAgY3JlYXRlQ2FsbGVyIChjdHgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm94eSA9IGNyZWF0ZVJlY3Vyc2l2ZVByb3h5KCh7IHBhdGggLCBhcmdzICB9KT0+e1xuICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcm9wIG1vZGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAxICYmIHByb2NlZHVyZVR5cGVzLmluY2x1ZGVzKHBhdGhbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbFByb2NlZHVyZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2VkdXJlczogX2RlZi5wcm9jZWR1cmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3SW5wdXQ6IGFyZ3NbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHBhdGhbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZ1bGxQYXRoID0gcGF0aC5qb2luKCcuJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2NlZHVyZSA9IF9kZWYucHJvY2VkdXJlc1tmdWxsUGF0aF07XG4gICAgICAgICAgICAgICAgICAgIGxldCB0eXBlID0gJ3F1ZXJ5JztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2NlZHVyZS5fZGVmLm11dGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ211dGF0aW9uJztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9jZWR1cmUuX2RlZi5zdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnc3Vic2NyaXB0aW9uJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvY2VkdXJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3SW5wdXQ6IGFyZ3NbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm94eTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRFcnJvclNoYXBlIChvcHRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBwYXRoICwgZXJyb3IgIH0gPSBvcHRzO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgY29kZSAgfSA9IG9wdHMuZXJyb3I7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hhcGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFRSUENfRVJST1JfQ09ERVNfQllfS0VZW2NvZGVdLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaHR0cFN0YXR1czogZ2V0SFRUUFN0YXR1c0NvZGVGcm9tRXJyb3IoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChjb25maWcuaXNEZXYgJiYgdHlwZW9mIG9wdHMuZXJyb3Iuc3RhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYXBlLmRhdGEuc3RhY2sgPSBvcHRzLmVycm9yLnN0YWNrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYXBlLmRhdGEucGF0aCA9IHBhdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuX2NvbmZpZy5lcnJvckZvcm1hdHRlcih7XG4gICAgICAgICAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByb3V0ZXI7XG4gICAgfTtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gY2FsbFByb2NlZHVyZShvcHRzKSB7XG4gICAgY29uc3QgeyB0eXBlICwgcGF0aCAgfSA9IG9wdHM7XG4gICAgaWYgKCEocGF0aCBpbiBvcHRzLnByb2NlZHVyZXMpIHx8ICFvcHRzLnByb2NlZHVyZXNbcGF0aF0/Ll9kZWZbdHlwZV0pIHtcbiAgICAgICAgdGhyb3cgbmV3IFRSUENFcnJvcih7XG4gICAgICAgICAgICBjb2RlOiAnTk9UX0ZPVU5EJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBObyBcIiR7dHlwZX1cIi1wcm9jZWR1cmUgb24gcGF0aCBcIiR7cGF0aH1cImBcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHByb2NlZHVyZSA9IG9wdHMucHJvY2VkdXJlc1twYXRoXTtcbiAgICByZXR1cm4gcHJvY2VkdXJlKG9wdHMpO1xufVxuXG4vKipcbiAqIFRoZSBkZWZhdWx0IGNoZWNrIHRvIHNlZSBpZiB3ZSdyZSBpbiBhIHNlcnZlclxuICovIGNvbnN0IGlzU2VydmVyRGVmYXVsdCA9IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICdEZW5vJyBpbiB3aW5kb3cgfHwgZ2xvYmFsVGhpcy5wcm9jZXNzPy5lbnY/Lk5PREVfRU5WID09PSAndGVzdCcgfHwgISFnbG9iYWxUaGlzLnByb2Nlc3M/LmVudj8uSkVTVF9XT1JLRVJfSUQgfHwgISFnbG9iYWxUaGlzLnByb2Nlc3M/LmVudj8uVklURVNUX1dPUktFUl9JRDtcblxuZXhwb3J0IHsgZGVmYXVsdFRyYW5zZm9ybWVyIGFzIGEsIGNhbGxQcm9jZWR1cmUgYXMgYiwgY3JlYXRlUm91dGVyRmFjdG9yeSBhcyBjLCBkZWZhdWx0Rm9ybWF0dGVyIGFzIGQsIGdldERhdGFUcmFuc2Zvcm1lciBhcyBnLCBpc1NlcnZlckRlZmF1bHQgYXMgaSwgcHJvY2VkdXJlVHlwZXMgYXMgcCB9O1xuIl0sIm5hbWVzIjpbIlQiLCJUUlBDRXJyb3IiLCJhIiwiY3JlYXRlUmVjdXJzaXZlUHJveHkiLCJnIiwiZ2V0SFRUUFN0YXR1c0NvZGVGcm9tRXJyb3IiLCJUUlBDX0VSUk9SX0NPREVTX0JZX0tFWSIsImdldERhdGFUcmFuc2Zvcm1lciIsInRyYW5zZm9ybWVyIiwiaW5wdXQiLCJvdXRwdXQiLCJkZWZhdWx0VHJhbnNmb3JtZXIiLCJfZGVmYXVsdCIsInNlcmlhbGl6ZSIsIm9iaiIsImRlc2VyaWFsaXplIiwiZGVmYXVsdEZvcm1hdHRlciIsInNoYXBlIiwib21pdFByb3RvdHlwZSIsIk9iamVjdCIsImFzc2lnbiIsImNyZWF0ZSIsInByb2NlZHVyZVR5cGVzIiwiaXNSb3V0ZXIiLCJwcm9jZWR1cmVPclJvdXRlciIsIl9kZWYiLCJlbXB0eVJvdXRlciIsIl9jdHgiLCJfZXJyb3JTaGFwZSIsIl9tZXRhIiwicXVlcmllcyIsIm11dGF0aW9ucyIsInN1YnNjcmlwdGlvbnMiLCJlcnJvckZvcm1hdHRlciIsInJlc2VydmVkV29yZHMiLCJjcmVhdGVSb3V0ZXJGYWN0b3J5IiwiY29uZmlnIiwiY3JlYXRlUm91dGVySW5uZXIiLCJwcm9jZWR1cmVzIiwicmVzZXJ2ZWRXb3Jkc1VzZWQiLCJTZXQiLCJrZXlzIiwiZmlsdGVyIiwidiIsImluY2x1ZGVzIiwic2l6ZSIsIkVycm9yIiwiQXJyYXkiLCJmcm9tIiwiam9pbiIsInJvdXRlclByb2NlZHVyZXMiLCJyZWN1cnNpdmVHZXRQYXRocyIsInBhdGgiLCJrZXkiLCJlbnRyaWVzIiwibmV3UGF0aCIsIl9jb25maWciLCJyb3V0ZXIiLCJyZWNvcmQiLCJwYWlyIiwicXVlcnkiLCJyZWR1Y2UiLCJhY2MiLCJ2YWwiLCJtdXRhdGlvbiIsInN1YnNjcmlwdGlvbiIsImNyZWF0ZUNhbGxlciIsImN0eCIsInByb3h5IiwiYXJncyIsImxlbmd0aCIsImNhbGxQcm9jZWR1cmUiLCJyYXdJbnB1dCIsInR5cGUiLCJmdWxsUGF0aCIsInByb2NlZHVyZSIsImdldEVycm9yU2hhcGUiLCJvcHRzIiwiZXJyb3IiLCJjb2RlIiwibWVzc2FnZSIsImRhdGEiLCJodHRwU3RhdHVzIiwiaXNEZXYiLCJzdGFjayIsImlzU2VydmVyRGVmYXVsdCIsIndpbmRvdyIsImdsb2JhbFRoaXMiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJKRVNUX1dPUktFUl9JRCIsIlZJVEVTVF9XT1JLRVJfSUQiLCJiIiwiYyIsImQiLCJpIiwicCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/server/dist/config-00ffd309.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/server/dist/contentType-778b33c3.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@trpc/server/dist/contentType-778b33c3.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   g: () => (/* binding */ getJsonContentTypeInputs)\n/* harmony export */ });\n/* harmony import */ var _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TRPCError-689e79f1.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/TRPCError-689e79f1.mjs\");\n\nfunction getRawProcedureInputOrThrow(opts) {\n    const { req } = opts;\n    try {\n        if (req.method === \"GET\") {\n            if (!req.query.has(\"input\")) {\n                return undefined;\n            }\n            const raw = req.query.get(\"input\");\n            return JSON.parse(raw);\n        }\n        if (!opts.preprocessedBody && typeof req.body === \"string\") {\n            // A mutation with no inputs will have req.body === ''\n            return req.body.length === 0 ? undefined : JSON.parse(req.body);\n        }\n        return req.body;\n    } catch (cause) {\n        throw new _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_0__.T({\n            code: \"PARSE_ERROR\",\n            cause\n        });\n    }\n}\nconst deserializeInputValue = (rawValue, transformer)=>{\n    return typeof rawValue !== \"undefined\" ? transformer.input.deserialize(rawValue) : rawValue;\n};\nconst getJsonContentTypeInputs = (opts)=>{\n    const rawInput = getRawProcedureInputOrThrow(opts);\n    const transformer = opts.router._def._config.transformer;\n    if (!opts.isBatchCall) {\n        return {\n            0: deserializeInputValue(rawInput, transformer)\n        };\n    }\n    /* istanbul ignore if  */ if (rawInput == null || typeof rawInput !== \"object\" || Array.isArray(rawInput)) {\n        throw new _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_0__.T({\n            code: \"BAD_REQUEST\",\n            message: '\"input\" needs to be an object when doing a batch call'\n        });\n    }\n    const input = {};\n    for(const key in rawInput){\n        const k = key;\n        const rawValue = rawInput[k];\n        const value = deserializeInputValue(rawValue, transformer);\n        input[k] = value;\n    }\n    return input;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvY29udGVudFR5cGUtNzc4YjMzYzMubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBEO0FBRTFELFNBQVNFLDRCQUE0QkMsSUFBSTtJQUNyQyxNQUFNLEVBQUVDLEdBQUcsRUFBRyxHQUFHRDtJQUNqQixJQUFJO1FBQ0EsSUFBSUMsSUFBSUMsTUFBTSxLQUFLLE9BQU87WUFDdEIsSUFBSSxDQUFDRCxJQUFJRSxLQUFLLENBQUNDLEdBQUcsQ0FBQyxVQUFVO2dCQUN6QixPQUFPQztZQUNYO1lBQ0EsTUFBTUMsTUFBTUwsSUFBSUUsS0FBSyxDQUFDSSxHQUFHLENBQUM7WUFDMUIsT0FBT0MsS0FBS0MsS0FBSyxDQUFDSDtRQUN0QjtRQUNBLElBQUksQ0FBQ04sS0FBS1UsZ0JBQWdCLElBQUksT0FBT1QsSUFBSVUsSUFBSSxLQUFLLFVBQVU7WUFDeEQsc0RBQXNEO1lBQ3RELE9BQU9WLElBQUlVLElBQUksQ0FBQ0MsTUFBTSxLQUFLLElBQUlQLFlBQVlHLEtBQUtDLEtBQUssQ0FBQ1IsSUFBSVUsSUFBSTtRQUNsRTtRQUNBLE9BQU9WLElBQUlVLElBQUk7SUFDbkIsRUFBRSxPQUFPRSxPQUFPO1FBQ1osTUFBTSxJQUFJZixzREFBU0EsQ0FBQztZQUNoQmdCLE1BQU07WUFDTkQ7UUFDSjtJQUNKO0FBQ0o7QUFDQSxNQUFNRSx3QkFBd0IsQ0FBQ0MsVUFBVUM7SUFDckMsT0FBTyxPQUFPRCxhQUFhLGNBQWNDLFlBQVlDLEtBQUssQ0FBQ0MsV0FBVyxDQUFDSCxZQUFZQTtBQUN2RjtBQUNBLE1BQU1JLDJCQUEyQixDQUFDcEI7SUFDOUIsTUFBTXFCLFdBQVd0Qiw0QkFBNEJDO0lBQzdDLE1BQU1pQixjQUFjakIsS0FBS3NCLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUNQLFdBQVc7SUFDeEQsSUFBSSxDQUFDakIsS0FBS3lCLFdBQVcsRUFBRTtRQUNuQixPQUFPO1lBQ0gsR0FBR1Ysc0JBQXNCTSxVQUFVSjtRQUN2QztJQUNKO0lBQ0EsdUJBQXVCLEdBQUcsSUFBSUksWUFBWSxRQUFRLE9BQU9BLGFBQWEsWUFBWUssTUFBTUMsT0FBTyxDQUFDTixXQUFXO1FBQ3ZHLE1BQU0sSUFBSXZCLHNEQUFTQSxDQUFDO1lBQ2hCZ0IsTUFBTTtZQUNOYyxTQUFTO1FBQ2I7SUFDSjtJQUNBLE1BQU1WLFFBQVEsQ0FBQztJQUNmLElBQUksTUFBTVcsT0FBT1IsU0FBUztRQUN0QixNQUFNUyxJQUFJRDtRQUNWLE1BQU1iLFdBQVdLLFFBQVEsQ0FBQ1MsRUFBRTtRQUM1QixNQUFNQyxRQUFRaEIsc0JBQXNCQyxVQUFVQztRQUM5Q0MsS0FBSyxDQUFDWSxFQUFFLEdBQUdDO0lBQ2Y7SUFDQSxPQUFPYjtBQUNYO0FBRXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdDMtYXBwLy4vbm9kZV9tb2R1bGVzL0B0cnBjL3NlcnZlci9kaXN0L2NvbnRlbnRUeXBlLTc3OGIzM2MzLm1qcz9kNzkxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFQgYXMgVFJQQ0Vycm9yIH0gZnJvbSAnLi9UUlBDRXJyb3ItNjg5ZTc5ZjEubWpzJztcblxuZnVuY3Rpb24gZ2V0UmF3UHJvY2VkdXJlSW5wdXRPclRocm93KG9wdHMpIHtcbiAgICBjb25zdCB7IHJlcSAgfSA9IG9wdHM7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XG4gICAgICAgICAgICBpZiAoIXJlcS5xdWVyeS5oYXMoJ2lucHV0JykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmF3ID0gcmVxLnF1ZXJ5LmdldCgnaW5wdXQnKTtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHJhdyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRzLnByZXByb2Nlc3NlZEJvZHkgJiYgdHlwZW9mIHJlcS5ib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gQSBtdXRhdGlvbiB3aXRoIG5vIGlucHV0cyB3aWxsIGhhdmUgcmVxLmJvZHkgPT09ICcnXG4gICAgICAgICAgICByZXR1cm4gcmVxLmJvZHkubGVuZ3RoID09PSAwID8gdW5kZWZpbmVkIDogSlNPTi5wYXJzZShyZXEuYm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcS5ib2R5O1xuICAgIH0gY2F0Y2ggKGNhdXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBUUlBDRXJyb3Ioe1xuICAgICAgICAgICAgY29kZTogJ1BBUlNFX0VSUk9SJyxcbiAgICAgICAgICAgIGNhdXNlXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNvbnN0IGRlc2VyaWFsaXplSW5wdXRWYWx1ZSA9IChyYXdWYWx1ZSwgdHJhbnNmb3JtZXIpPT57XG4gICAgcmV0dXJuIHR5cGVvZiByYXdWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcgPyB0cmFuc2Zvcm1lci5pbnB1dC5kZXNlcmlhbGl6ZShyYXdWYWx1ZSkgOiByYXdWYWx1ZTtcbn07XG5jb25zdCBnZXRKc29uQ29udGVudFR5cGVJbnB1dHMgPSAob3B0cyk9PntcbiAgICBjb25zdCByYXdJbnB1dCA9IGdldFJhd1Byb2NlZHVyZUlucHV0T3JUaHJvdyhvcHRzKTtcbiAgICBjb25zdCB0cmFuc2Zvcm1lciA9IG9wdHMucm91dGVyLl9kZWYuX2NvbmZpZy50cmFuc2Zvcm1lcjtcbiAgICBpZiAoIW9wdHMuaXNCYXRjaENhbGwpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIDA6IGRlc2VyaWFsaXplSW5wdXRWYWx1ZShyYXdJbnB1dCwgdHJhbnNmb3JtZXIpXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi8gaWYgKHJhd0lucHV0ID09IG51bGwgfHwgdHlwZW9mIHJhd0lucHV0ICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHJhd0lucHV0KSkge1xuICAgICAgICB0aHJvdyBuZXcgVFJQQ0Vycm9yKHtcbiAgICAgICAgICAgIGNvZGU6ICdCQURfUkVRVUVTVCcsXG4gICAgICAgICAgICBtZXNzYWdlOiAnXCJpbnB1dFwiIG5lZWRzIHRvIGJlIGFuIG9iamVjdCB3aGVuIGRvaW5nIGEgYmF0Y2ggY2FsbCdcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGlucHV0ID0ge307XG4gICAgZm9yKGNvbnN0IGtleSBpbiByYXdJbnB1dCl7XG4gICAgICAgIGNvbnN0IGsgPSBrZXk7XG4gICAgICAgIGNvbnN0IHJhd1ZhbHVlID0gcmF3SW5wdXRba107XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZGVzZXJpYWxpemVJbnB1dFZhbHVlKHJhd1ZhbHVlLCB0cmFuc2Zvcm1lcik7XG4gICAgICAgIGlucHV0W2tdID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dDtcbn07XG5cbmV4cG9ydCB7IGdldEpzb25Db250ZW50VHlwZUlucHV0cyBhcyBnIH07XG4iXSwibmFtZXMiOlsiVCIsIlRSUENFcnJvciIsImdldFJhd1Byb2NlZHVyZUlucHV0T3JUaHJvdyIsIm9wdHMiLCJyZXEiLCJtZXRob2QiLCJxdWVyeSIsImhhcyIsInVuZGVmaW5lZCIsInJhdyIsImdldCIsIkpTT04iLCJwYXJzZSIsInByZXByb2Nlc3NlZEJvZHkiLCJib2R5IiwibGVuZ3RoIiwiY2F1c2UiLCJjb2RlIiwiZGVzZXJpYWxpemVJbnB1dFZhbHVlIiwicmF3VmFsdWUiLCJ0cmFuc2Zvcm1lciIsImlucHV0IiwiZGVzZXJpYWxpemUiLCJnZXRKc29uQ29udGVudFR5cGVJbnB1dHMiLCJyYXdJbnB1dCIsInJvdXRlciIsIl9kZWYiLCJfY29uZmlnIiwiaXNCYXRjaENhbGwiLCJBcnJheSIsImlzQXJyYXkiLCJtZXNzYWdlIiwia2V5IiwiayIsInZhbHVlIiwiZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/server/dist/contentType-778b33c3.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/server/dist/index-f91d720c.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@trpc/server/dist/index-f91d720c.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   T: () => (/* binding */ TRPC_ERROR_CODES_BY_NUMBER),\n/* harmony export */   a: () => (/* binding */ createRecursiveProxy),\n/* harmony export */   b: () => (/* binding */ getHTTPStatusCode),\n/* harmony export */   c: () => (/* binding */ createFlatProxy),\n/* harmony export */   g: () => (/* binding */ getHTTPStatusCodeFromError)\n/* harmony export */ });\n/* harmony import */ var _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./codes-c924c3db.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs\");\n\nconst TRPC_ERROR_CODES_BY_NUMBER = (0,_codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(_codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_0__.T);\nconst JSONRPC2_TO_HTTP_CODE = {\n    PARSE_ERROR: 400,\n    BAD_REQUEST: 400,\n    UNAUTHORIZED: 401,\n    NOT_FOUND: 404,\n    FORBIDDEN: 403,\n    METHOD_NOT_SUPPORTED: 405,\n    TIMEOUT: 408,\n    CONFLICT: 409,\n    PRECONDITION_FAILED: 412,\n    PAYLOAD_TOO_LARGE: 413,\n    UNPROCESSABLE_CONTENT: 422,\n    TOO_MANY_REQUESTS: 429,\n    CLIENT_CLOSED_REQUEST: 499,\n    INTERNAL_SERVER_ERROR: 500,\n    NOT_IMPLEMENTED: 501\n};\nfunction getStatusCodeFromKey(code) {\n    return JSONRPC2_TO_HTTP_CODE[code] ?? 500;\n}\nfunction getHTTPStatusCode(json) {\n    const arr = Array.isArray(json) ? json : [\n        json\n    ];\n    const httpStatuses = new Set(arr.map((res)=>{\n        if (\"error\" in res) {\n            const data = res.error.data;\n            if (typeof data.httpStatus === \"number\") {\n                return data.httpStatus;\n            }\n            const code = TRPC_ERROR_CODES_BY_NUMBER[res.error.code];\n            return getStatusCodeFromKey(code);\n        }\n        return 200;\n    }));\n    if (httpStatuses.size !== 1) {\n        return 207;\n    }\n    const httpStatus = httpStatuses.values().next().value;\n    return httpStatus;\n}\nfunction getHTTPStatusCodeFromError(error) {\n    return getStatusCodeFromKey(error.code);\n}\nconst noop = ()=>{\n// noop\n};\nfunction createInnerProxy(callback, path) {\n    const proxy = new Proxy(noop, {\n        get (_obj, key) {\n            if (typeof key !== \"string\" || key === \"then\") {\n                // special case for if the proxy is accidentally treated\n                // like a PromiseLike (like in `Promise.resolve(proxy)`)\n                return undefined;\n            }\n            return createInnerProxy(callback, [\n                ...path,\n                key\n            ]);\n        },\n        apply (_1, _2, args) {\n            const isApply = path[path.length - 1] === \"apply\";\n            return callback({\n                args: isApply ? args.length >= 2 ? args[1] : [] : args,\n                path: isApply ? path.slice(0, -1) : path\n            });\n        }\n    });\n    return proxy;\n}\n/**\n * Creates a proxy that calls the callback with the path and arguments\n *\n * @internal\n */ const createRecursiveProxy = (callback)=>createInnerProxy(callback, []);\n/**\n * Used in place of `new Proxy` where each handler will map 1 level deep to another value.\n *\n * @internal\n */ const createFlatProxy = (callback)=>{\n    return new Proxy(noop, {\n        get (_obj, name) {\n            if (typeof name !== \"string\" || name === \"then\") {\n                // special case for if the proxy is accidentally treated\n                // like a PromiseLike (like in `Promise.resolve(proxy)`)\n                return undefined;\n            }\n            return callback(name);\n        }\n    });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvaW5kZXgtZjkxZDcyMGMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFpRjtBQUVqRixNQUFNSSw2QkFBNkJILHNEQUFNQSxDQUFDRSxrREFBdUJBO0FBQ2pFLE1BQU1FLHdCQUF3QjtJQUMxQkMsYUFBYTtJQUNiQyxhQUFhO0lBQ2JDLGNBQWM7SUFDZEMsV0FBVztJQUNYQyxXQUFXO0lBQ1hDLHNCQUFzQjtJQUN0QkMsU0FBUztJQUNUQyxVQUFVO0lBQ1ZDLHFCQUFxQjtJQUNyQkMsbUJBQW1CO0lBQ25CQyx1QkFBdUI7SUFDdkJDLG1CQUFtQjtJQUNuQkMsdUJBQXVCO0lBQ3ZCQyx1QkFBdUI7SUFDdkJDLGlCQUFpQjtBQUNyQjtBQUNBLFNBQVNDLHFCQUFxQkMsSUFBSTtJQUM5QixPQUFPakIscUJBQXFCLENBQUNpQixLQUFLLElBQUk7QUFDMUM7QUFDQSxTQUFTQyxrQkFBa0JDLElBQUk7SUFDM0IsTUFBTUMsTUFBTUMsTUFBTUMsT0FBTyxDQUFDSCxRQUFRQSxPQUFPO1FBQ3JDQTtLQUNIO0lBQ0QsTUFBTUksZUFBZSxJQUFJQyxJQUFJSixJQUFJSyxHQUFHLENBQUMsQ0FBQ0M7UUFDbEMsSUFBSSxXQUFXQSxLQUFLO1lBQ2hCLE1BQU1DLE9BQU9ELElBQUlFLEtBQUssQ0FBQ0QsSUFBSTtZQUMzQixJQUFJLE9BQU9BLEtBQUtFLFVBQVUsS0FBSyxVQUFVO2dCQUNyQyxPQUFPRixLQUFLRSxVQUFVO1lBQzFCO1lBQ0EsTUFBTVosT0FBT2xCLDBCQUEwQixDQUFDMkIsSUFBSUUsS0FBSyxDQUFDWCxJQUFJLENBQUM7WUFDdkQsT0FBT0QscUJBQXFCQztRQUNoQztRQUNBLE9BQU87SUFDWDtJQUNBLElBQUlNLGFBQWFPLElBQUksS0FBSyxHQUFHO1FBQ3pCLE9BQU87SUFDWDtJQUNBLE1BQU1ELGFBQWFOLGFBQWFRLE1BQU0sR0FBR0MsSUFBSSxHQUFHQyxLQUFLO0lBQ3JELE9BQU9KO0FBQ1g7QUFDQSxTQUFTSywyQkFBMkJOLEtBQUs7SUFDckMsT0FBT1oscUJBQXFCWSxNQUFNWCxJQUFJO0FBQzFDO0FBRUEsTUFBTWtCLE9BQU87QUFDYixPQUFPO0FBQ1A7QUFDQSxTQUFTQyxpQkFBaUJDLFFBQVEsRUFBRUMsSUFBSTtJQUNwQyxNQUFNQyxRQUFRLElBQUlDLE1BQU1MLE1BQU07UUFDMUJNLEtBQUtDLElBQUksRUFBRUMsR0FBRztZQUNWLElBQUksT0FBT0EsUUFBUSxZQUFZQSxRQUFRLFFBQVE7Z0JBQzNDLHdEQUF3RDtnQkFDeEQsd0RBQXdEO2dCQUN4RCxPQUFPQztZQUNYO1lBQ0EsT0FBT1IsaUJBQWlCQyxVQUFVO21CQUMzQkM7Z0JBQ0hLO2FBQ0g7UUFDTDtRQUNBRSxPQUFPQyxFQUFFLEVBQUVDLEVBQUUsRUFBRUMsSUFBSTtZQUNmLE1BQU1DLFVBQVVYLElBQUksQ0FBQ0EsS0FBS1ksTUFBTSxHQUFHLEVBQUUsS0FBSztZQUMxQyxPQUFPYixTQUFTO2dCQUNaVyxNQUFNQyxVQUFVRCxLQUFLRSxNQUFNLElBQUksSUFBSUYsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUdBO2dCQUNsRFYsTUFBTVcsVUFBVVgsS0FBS2EsS0FBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLYjtZQUN4QztRQUNKO0lBQ0o7SUFDQSxPQUFPQztBQUNYO0FBQ0E7Ozs7Q0FJQyxHQUFHLE1BQU1hLHVCQUF1QixDQUFDZixXQUFXRCxpQkFBaUJDLFVBQVUsRUFBRTtBQUMxRTs7OztDQUlDLEdBQUcsTUFBTWdCLGtCQUFrQixDQUFDaEI7SUFDekIsT0FBTyxJQUFJRyxNQUFNTCxNQUFNO1FBQ25CTSxLQUFLQyxJQUFJLEVBQUVZLElBQUk7WUFDWCxJQUFJLE9BQU9BLFNBQVMsWUFBWUEsU0FBUyxRQUFRO2dCQUM3Qyx3REFBd0Q7Z0JBQ3hELHdEQUF3RDtnQkFDeEQsT0FBT1Y7WUFDWDtZQUNBLE9BQU9QLFNBQVNpQjtRQUNwQjtJQUNKO0FBQ0o7QUFFcUoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvaW5kZXgtZjkxZDcyMGMubWpzPzM1MGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaSBhcyBpbnZlcnQsIFQgYXMgVFJQQ19FUlJPUl9DT0RFU19CWV9LRVkgfSBmcm9tICcuL2NvZGVzLWM5MjRjM2RiLm1qcyc7XG5cbmNvbnN0IFRSUENfRVJST1JfQ09ERVNfQllfTlVNQkVSID0gaW52ZXJ0KFRSUENfRVJST1JfQ09ERVNfQllfS0VZKTtcbmNvbnN0IEpTT05SUEMyX1RPX0hUVFBfQ09ERSA9IHtcbiAgICBQQVJTRV9FUlJPUjogNDAwLFxuICAgIEJBRF9SRVFVRVNUOiA0MDAsXG4gICAgVU5BVVRIT1JJWkVEOiA0MDEsXG4gICAgTk9UX0ZPVU5EOiA0MDQsXG4gICAgRk9SQklEREVOOiA0MDMsXG4gICAgTUVUSE9EX05PVF9TVVBQT1JURUQ6IDQwNSxcbiAgICBUSU1FT1VUOiA0MDgsXG4gICAgQ09ORkxJQ1Q6IDQwOSxcbiAgICBQUkVDT05ESVRJT05fRkFJTEVEOiA0MTIsXG4gICAgUEFZTE9BRF9UT09fTEFSR0U6IDQxMyxcbiAgICBVTlBST0NFU1NBQkxFX0NPTlRFTlQ6IDQyMixcbiAgICBUT09fTUFOWV9SRVFVRVNUUzogNDI5LFxuICAgIENMSUVOVF9DTE9TRURfUkVRVUVTVDogNDk5LFxuICAgIElOVEVSTkFMX1NFUlZFUl9FUlJPUjogNTAwLFxuICAgIE5PVF9JTVBMRU1FTlRFRDogNTAxXG59O1xuZnVuY3Rpb24gZ2V0U3RhdHVzQ29kZUZyb21LZXkoY29kZSkge1xuICAgIHJldHVybiBKU09OUlBDMl9UT19IVFRQX0NPREVbY29kZV0gPz8gNTAwO1xufVxuZnVuY3Rpb24gZ2V0SFRUUFN0YXR1c0NvZGUoanNvbikge1xuICAgIGNvbnN0IGFyciA9IEFycmF5LmlzQXJyYXkoanNvbikgPyBqc29uIDogW1xuICAgICAgICBqc29uXG4gICAgXTtcbiAgICBjb25zdCBodHRwU3RhdHVzZXMgPSBuZXcgU2V0KGFyci5tYXAoKHJlcyk9PntcbiAgICAgICAgaWYgKCdlcnJvcicgaW4gcmVzKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzLmVycm9yLmRhdGE7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEuaHR0cFN0YXR1cyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5odHRwU3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29kZSA9IFRSUENfRVJST1JfQ09ERVNfQllfTlVNQkVSW3Jlcy5lcnJvci5jb2RlXTtcbiAgICAgICAgICAgIHJldHVybiBnZXRTdGF0dXNDb2RlRnJvbUtleShjb2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMjAwO1xuICAgIH0pKTtcbiAgICBpZiAoaHR0cFN0YXR1c2VzLnNpemUgIT09IDEpIHtcbiAgICAgICAgcmV0dXJuIDIwNztcbiAgICB9XG4gICAgY29uc3QgaHR0cFN0YXR1cyA9IGh0dHBTdGF0dXNlcy52YWx1ZXMoKS5uZXh0KCkudmFsdWU7XG4gICAgcmV0dXJuIGh0dHBTdGF0dXM7XG59XG5mdW5jdGlvbiBnZXRIVFRQU3RhdHVzQ29kZUZyb21FcnJvcihlcnJvcikge1xuICAgIHJldHVybiBnZXRTdGF0dXNDb2RlRnJvbUtleShlcnJvci5jb2RlKTtcbn1cblxuY29uc3Qgbm9vcCA9ICgpPT57XG4vLyBub29wXG59O1xuZnVuY3Rpb24gY3JlYXRlSW5uZXJQcm94eShjYWxsYmFjaywgcGF0aCkge1xuICAgIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KG5vb3AsIHtcbiAgICAgICAgZ2V0IChfb2JqLCBrZXkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJyB8fCBrZXkgPT09ICd0aGVuJykge1xuICAgICAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgaWYgdGhlIHByb3h5IGlzIGFjY2lkZW50YWxseSB0cmVhdGVkXG4gICAgICAgICAgICAgICAgLy8gbGlrZSBhIFByb21pc2VMaWtlIChsaWtlIGluIGBQcm9taXNlLnJlc29sdmUocHJveHkpYClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUlubmVyUHJveHkoY2FsbGJhY2ssIFtcbiAgICAgICAgICAgICAgICAuLi5wYXRoLFxuICAgICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFwcGx5IChfMSwgXzIsIGFyZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzQXBwbHkgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV0gPT09ICdhcHBseSc7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgIGFyZ3M6IGlzQXBwbHkgPyBhcmdzLmxlbmd0aCA+PSAyID8gYXJnc1sxXSA6IFtdIDogYXJncyxcbiAgICAgICAgICAgICAgICBwYXRoOiBpc0FwcGx5ID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBwcm94eTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHByb3h5IHRoYXQgY2FsbHMgdGhlIGNhbGxiYWNrIHdpdGggdGhlIHBhdGggYW5kIGFyZ3VtZW50c1xuICpcbiAqIEBpbnRlcm5hbFxuICovIGNvbnN0IGNyZWF0ZVJlY3Vyc2l2ZVByb3h5ID0gKGNhbGxiYWNrKT0+Y3JlYXRlSW5uZXJQcm94eShjYWxsYmFjaywgW10pO1xuLyoqXG4gKiBVc2VkIGluIHBsYWNlIG9mIGBuZXcgUHJveHlgIHdoZXJlIGVhY2ggaGFuZGxlciB3aWxsIG1hcCAxIGxldmVsIGRlZXAgdG8gYW5vdGhlciB2YWx1ZS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqLyBjb25zdCBjcmVhdGVGbGF0UHJveHkgPSAoY2FsbGJhY2spPT57XG4gICAgcmV0dXJuIG5ldyBQcm94eShub29wLCB7XG4gICAgICAgIGdldCAoX29iaiwgbmFtZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCBuYW1lID09PSAndGhlbicpIHtcbiAgICAgICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIGlmIHRoZSBwcm94eSBpcyBhY2NpZGVudGFsbHkgdHJlYXRlZFxuICAgICAgICAgICAgICAgIC8vIGxpa2UgYSBQcm9taXNlTGlrZSAobGlrZSBpbiBgUHJvbWlzZS5yZXNvbHZlKHByb3h5KWApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhuYW1lKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgVFJQQ19FUlJPUl9DT0RFU19CWV9OVU1CRVIgYXMgVCwgY3JlYXRlUmVjdXJzaXZlUHJveHkgYXMgYSwgZ2V0SFRUUFN0YXR1c0NvZGUgYXMgYiwgY3JlYXRlRmxhdFByb3h5IGFzIGMsIGdldEhUVFBTdGF0dXNDb2RlRnJvbUVycm9yIGFzIGcgfTtcbiJdLCJuYW1lcyI6WyJpIiwiaW52ZXJ0IiwiVCIsIlRSUENfRVJST1JfQ09ERVNfQllfS0VZIiwiVFJQQ19FUlJPUl9DT0RFU19CWV9OVU1CRVIiLCJKU09OUlBDMl9UT19IVFRQX0NPREUiLCJQQVJTRV9FUlJPUiIsIkJBRF9SRVFVRVNUIiwiVU5BVVRIT1JJWkVEIiwiTk9UX0ZPVU5EIiwiRk9SQklEREVOIiwiTUVUSE9EX05PVF9TVVBQT1JURUQiLCJUSU1FT1VUIiwiQ09ORkxJQ1QiLCJQUkVDT05ESVRJT05fRkFJTEVEIiwiUEFZTE9BRF9UT09fTEFSR0UiLCJVTlBST0NFU1NBQkxFX0NPTlRFTlQiLCJUT09fTUFOWV9SRVFVRVNUUyIsIkNMSUVOVF9DTE9TRURfUkVRVUVTVCIsIklOVEVSTkFMX1NFUlZFUl9FUlJPUiIsIk5PVF9JTVBMRU1FTlRFRCIsImdldFN0YXR1c0NvZGVGcm9tS2V5IiwiY29kZSIsImdldEhUVFBTdGF0dXNDb2RlIiwianNvbiIsImFyciIsIkFycmF5IiwiaXNBcnJheSIsImh0dHBTdGF0dXNlcyIsIlNldCIsIm1hcCIsInJlcyIsImRhdGEiLCJlcnJvciIsImh0dHBTdGF0dXMiLCJzaXplIiwidmFsdWVzIiwibmV4dCIsInZhbHVlIiwiZ2V0SFRUUFN0YXR1c0NvZGVGcm9tRXJyb3IiLCJub29wIiwiY3JlYXRlSW5uZXJQcm94eSIsImNhbGxiYWNrIiwicGF0aCIsInByb3h5IiwiUHJveHkiLCJnZXQiLCJfb2JqIiwia2V5IiwidW5kZWZpbmVkIiwiYXBwbHkiLCJfMSIsIl8yIiwiYXJncyIsImlzQXBwbHkiLCJsZW5ndGgiLCJzbGljZSIsImNyZWF0ZVJlY3Vyc2l2ZVByb3h5IiwiY3JlYXRlRmxhdFByb3h5IiwibmFtZSIsImEiLCJiIiwiYyIsImciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/server/dist/index-f91d720c.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/server/dist/index.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@trpc/server/dist/index.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TRPCError: () => (/* reexport safe */ _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__.T),\n/* harmony export */   callProcedure: () => (/* reexport safe */ _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.b),\n/* harmony export */   createInputMiddleware: () => (/* binding */ createInputMiddleware),\n/* harmony export */   createOutputMiddleware: () => (/* binding */ createOutputMiddleware),\n/* harmony export */   defaultTransformer: () => (/* reexport safe */ _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.a),\n/* harmony export */   experimental_standaloneMiddleware: () => (/* binding */ experimental_standaloneMiddleware),\n/* harmony export */   getDataTransformer: () => (/* reexport safe */ _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.g),\n/* harmony export */   getTRPCErrorFromUnknown: () => (/* reexport safe */ _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__.g),\n/* harmony export */   initTRPC: () => (/* binding */ initTRPC),\n/* harmony export */   procedureTypes: () => (/* reexport safe */ _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.p),\n/* harmony export */   router: () => (/* binding */ router)\n/* harmony export */ });\n/* harmony import */ var _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config-00ffd309.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/config-00ffd309.mjs\");\n/* harmony import */ var _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TRPCError-689e79f1.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/TRPCError-689e79f1.mjs\");\n/* harmony import */ var _index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index-f91d720c.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/index-f91d720c.mjs\");\n/* harmony import */ var _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./codes-c924c3db.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs\");\n\n\n\n\n\n\n/**\n * @deprecated\n */ const middlewareMarker$1 = \"middlewareMarker\";\nfunction getParseFn$1(procedureParser) {\n    const parser = procedureParser;\n    if (typeof parser === \"function\") {\n        // ProcedureParserCustomValidatorEsque\n        return parser;\n    }\n    if (typeof parser.parseAsync === \"function\") {\n        // ProcedureParserZodEsque\n        return parser.parseAsync.bind(parser);\n    }\n    if (typeof parser.parse === \"function\") {\n        // ProcedureParserZodEsque\n        return parser.parse.bind(parser);\n    }\n    if (typeof parser.validateSync === \"function\") {\n        // ProcedureParserYupEsque\n        return parser.validateSync.bind(parser);\n    }\n    if (typeof parser.create === \"function\") {\n        // ProcedureParserSuperstructEsque\n        return parser.create.bind(parser);\n    }\n    throw new Error(\"Could not find a validator fn\");\n}\n/**\n * @internal\n * @deprecated\n */ class Procedure {\n    _def() {\n        return {\n            middlewares: this.middlewares,\n            resolver: this.resolver,\n            inputParser: this.inputParser,\n            outputParser: this.outputParser,\n            meta: this.meta\n        };\n    }\n    async parseInput(rawInput) {\n        try {\n            return await this.parseInputFn(rawInput);\n        } catch (cause) {\n            throw new _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__.T({\n                code: \"BAD_REQUEST\",\n                cause\n            });\n        }\n    }\n    async parseOutput(rawOutput) {\n        try {\n            return await this.parseOutputFn(rawOutput);\n        } catch (cause) {\n            throw new _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__.T({\n                code: \"INTERNAL_SERVER_ERROR\",\n                cause,\n                message: \"Output validation failed\"\n            });\n        }\n    }\n    /**\n   * Trigger middlewares in order, parse raw input, call resolver & parse raw output\n   * @internal\n   */ async call(opts) {\n        // wrap the actual resolver and treat as the last \"middleware\"\n        const middlewaresWithResolver = this.middlewares.concat([\n            async ({ ctx })=>{\n                const input = await this.parseInput(opts.rawInput);\n                const rawOutput = await this.resolver({\n                    ...opts,\n                    ctx,\n                    input\n                });\n                const data = await this.parseOutput(rawOutput);\n                return {\n                    marker: middlewareMarker$1,\n                    ok: true,\n                    data,\n                    ctx\n                };\n            }\n        ]);\n        // run the middlewares recursively with the resolver as the last one\n        const callRecursive = async (callOpts = {\n            index: 0,\n            ctx: opts.ctx\n        })=>{\n            try {\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                const result = await middlewaresWithResolver[callOpts.index]({\n                    ctx: callOpts.ctx,\n                    type: opts.type,\n                    path: opts.path,\n                    rawInput: opts.rawInput,\n                    meta: this.meta,\n                    next: async (nextOpts)=>{\n                        return await callRecursive({\n                            index: callOpts.index + 1,\n                            ctx: nextOpts ? nextOpts.ctx : callOpts.ctx\n                        });\n                    }\n                });\n                return result;\n            } catch (cause) {\n                return {\n                    ctx: callOpts.ctx,\n                    ok: false,\n                    error: (0,_TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(cause),\n                    marker: middlewareMarker$1\n                };\n            }\n        };\n        // there's always at least one \"next\" since we wrap this.resolver in a middleware\n        const result = await callRecursive();\n        if (!result) {\n            throw new _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__.T({\n                code: \"INTERNAL_SERVER_ERROR\",\n                message: \"No result from middlewares - did you forget to `return next()`?\"\n            });\n        }\n        if (!result.ok) {\n            // re-throw original error\n            throw result.error;\n        }\n        return result.data;\n    }\n    /**\n   * Create new procedure with passed middlewares\n   * @param middlewares\n   */ inheritMiddlewares(middlewares) {\n        const Constructor = this.constructor;\n        const instance = new Constructor({\n            middlewares: [\n                ...middlewares,\n                ...this.middlewares\n            ],\n            resolver: this.resolver,\n            inputParser: this.inputParser,\n            outputParser: this.outputParser,\n            meta: this.meta\n        });\n        return instance;\n    }\n    constructor(opts){\n        this.middlewares = opts.middlewares;\n        this.resolver = opts.resolver;\n        this.inputParser = opts.inputParser;\n        this.parseInputFn = getParseFn$1(this.inputParser);\n        this.outputParser = opts.outputParser;\n        this.parseOutputFn = getParseFn$1(this.outputParser);\n        this.meta = opts.meta;\n    }\n}\nfunction createProcedure(opts) {\n    const inputParser = \"input\" in opts ? opts.input : (input)=>{\n        if (input != null) {\n            throw new _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__.T({\n                code: \"BAD_REQUEST\",\n                message: \"No input expected\"\n            });\n        }\n        return undefined;\n    };\n    const outputParser = \"output\" in opts && opts.output ? opts.output : (output)=>output;\n    return new Procedure({\n        inputParser: inputParser,\n        resolver: opts.resolve,\n        middlewares: [],\n        outputParser: outputParser,\n        meta: opts.meta\n    });\n}\nfunction getParseFn(procedureParser) {\n    const parser = procedureParser;\n    if (typeof parser === \"function\") {\n        // ParserCustomValidatorEsque\n        return parser;\n    }\n    if (typeof parser.parseAsync === \"function\") {\n        // ParserZodEsque\n        return parser.parseAsync.bind(parser);\n    }\n    if (typeof parser.parse === \"function\") {\n        // ParserZodEsque\n        // ParserValibotEsque (<= v0.12.X)\n        return parser.parse.bind(parser);\n    }\n    if (typeof parser.validateSync === \"function\") {\n        // ParserYupEsque\n        return parser.validateSync.bind(parser);\n    }\n    if (typeof parser.create === \"function\") {\n        // ParserSuperstructEsque\n        return parser.create.bind(parser);\n    }\n    if (typeof parser.assert === \"function\") {\n        // ParserScaleEsque\n        return (value)=>{\n            parser.assert(value);\n            return value;\n        };\n    }\n    throw new Error(\"Could not find a validator fn\");\n}\n/**\n * @deprecated only for backwards compat\n * @internal\n */ function getParseFnOrPassThrough(procedureParser) {\n    if (!procedureParser) {\n        return (v)=>v;\n    }\n    return getParseFn(procedureParser);\n}\n/**\n * Ensures there are no duplicate keys when building a procedure.\n */ function mergeWithoutOverrides(obj1, ...objs) {\n    const newObj = Object.assign(Object.create(null), obj1);\n    for (const overrides of objs){\n        for(const key in overrides){\n            if (key in newObj && newObj[key] !== overrides[key]) {\n                throw new Error(`Duplicate key ${key}`);\n            }\n            newObj[key] = overrides[key];\n        }\n    }\n    return newObj;\n}\n/**\n * @internal\n */ function createMiddlewareFactory() {\n    function createMiddlewareInner(middlewares) {\n        return {\n            _middlewares: middlewares,\n            unstable_pipe (middlewareBuilderOrFn) {\n                const pipedMiddleware = \"_middlewares\" in middlewareBuilderOrFn ? middlewareBuilderOrFn._middlewares : [\n                    middlewareBuilderOrFn\n                ];\n                return createMiddlewareInner([\n                    ...middlewares,\n                    ...pipedMiddleware\n                ]);\n            }\n        };\n    }\n    function createMiddleware(fn) {\n        return createMiddlewareInner([\n            fn\n        ]);\n    }\n    return createMiddleware;\n}\nconst experimental_standaloneMiddleware = ()=>({\n        create: createMiddlewareFactory()\n    });\nfunction isPlainObject(obj) {\n    return obj && typeof obj === \"object\" && !Array.isArray(obj);\n}\n/**\n * @internal\n * Please note, `trpc-openapi` uses this function.\n */ function createInputMiddleware(parse) {\n    const inputMiddleware = async ({ next, rawInput, input })=>{\n        let parsedInput;\n        try {\n            parsedInput = await parse(rawInput);\n        } catch (cause) {\n            throw new _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__.T({\n                code: \"BAD_REQUEST\",\n                cause\n            });\n        }\n        // Multiple input parsers\n        const combinedInput = isPlainObject(input) && isPlainObject(parsedInput) ? {\n            ...input,\n            ...parsedInput\n        } : parsedInput;\n        // TODO fix this typing?\n        return next({\n            input: combinedInput\n        });\n    };\n    inputMiddleware._type = \"input\";\n    return inputMiddleware;\n}\n/**\n * @internal\n */ function createOutputMiddleware(parse) {\n    const outputMiddleware = async ({ next })=>{\n        const result = await next();\n        if (!result.ok) {\n            // pass through failures without validating\n            return result;\n        }\n        try {\n            const data = await parse(result.data);\n            return {\n                ...result,\n                data\n            };\n        } catch (cause) {\n            throw new _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__.T({\n                message: \"Output validation failed\",\n                code: \"INTERNAL_SERVER_ERROR\",\n                cause\n            });\n        }\n    };\n    outputMiddleware._type = \"output\";\n    return outputMiddleware;\n}\n/**\n * @internal\n */ const middlewareMarker = \"middlewareMarker\";\nfunction createNewBuilder(def1, def2) {\n    const { middlewares = [], inputs, meta, ...rest } = def2;\n    // TODO: maybe have a fn here to warn about calls\n    return createBuilder({\n        ...mergeWithoutOverrides(def1, rest),\n        inputs: [\n            ...def1.inputs,\n            ...inputs ?? []\n        ],\n        middlewares: [\n            ...def1.middlewares,\n            ...middlewares\n        ],\n        meta: def1.meta && meta ? {\n            ...def1.meta,\n            ...meta\n        } : meta ?? def1.meta\n    });\n}\nfunction createBuilder(initDef = {}) {\n    const _def = {\n        inputs: [],\n        middlewares: [],\n        ...initDef\n    };\n    return {\n        _def,\n        input (input) {\n            const parser = getParseFn(input);\n            return createNewBuilder(_def, {\n                inputs: [\n                    input\n                ],\n                middlewares: [\n                    createInputMiddleware(parser)\n                ]\n            });\n        },\n        output (output) {\n            const parseOutput = getParseFn(output);\n            return createNewBuilder(_def, {\n                output,\n                middlewares: [\n                    createOutputMiddleware(parseOutput)\n                ]\n            });\n        },\n        meta (meta) {\n            return createNewBuilder(_def, {\n                meta: meta\n            });\n        },\n        /**\n     * @deprecated\n     * This functionality is deprecated and will be removed in the next major version.\n     */ unstable_concat (builder) {\n            return createNewBuilder(_def, builder._def);\n        },\n        use (middlewareBuilderOrFn) {\n            // Distinguish between a middleware builder and a middleware function\n            const middlewares = \"_middlewares\" in middlewareBuilderOrFn ? middlewareBuilderOrFn._middlewares : [\n                middlewareBuilderOrFn\n            ];\n            return createNewBuilder(_def, {\n                middlewares: middlewares\n            });\n        },\n        query (resolver) {\n            return createResolver({\n                ..._def,\n                query: true\n            }, resolver);\n        },\n        mutation (resolver) {\n            return createResolver({\n                ..._def,\n                mutation: true\n            }, resolver);\n        },\n        subscription (resolver) {\n            return createResolver({\n                ..._def,\n                subscription: true\n            }, resolver);\n        }\n    };\n}\nfunction createResolver(_def, resolver) {\n    const finalBuilder = createNewBuilder(_def, {\n        resolver,\n        middlewares: [\n            async function resolveMiddleware(opts) {\n                const data = await resolver(opts);\n                return {\n                    marker: middlewareMarker,\n                    ok: true,\n                    data,\n                    ctx: opts.ctx\n                };\n            }\n        ]\n    });\n    return createProcedureCaller(finalBuilder._def);\n}\nconst codeblock = `\nIf you want to call this function on the server, you do the following:\nThis is a client-only function.\n\nconst caller = appRouter.createCaller({\n  /* ... your context */\n});\n\nconst result = await caller.call('myProcedure', input);\n`.trim();\nfunction createProcedureCaller(_def) {\n    const procedure = async function resolve(opts) {\n        // is direct server-side call\n        if (!opts || !(\"rawInput\" in opts)) {\n            throw new Error(codeblock);\n        }\n        // run the middlewares recursively with the resolver as the last one\n        const callRecursive = async (callOpts = {\n            index: 0,\n            ctx: opts.ctx\n        })=>{\n            try {\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                const middleware = _def.middlewares[callOpts.index];\n                const result = await middleware({\n                    ctx: callOpts.ctx,\n                    type: opts.type,\n                    path: opts.path,\n                    rawInput: callOpts.rawInput ?? opts.rawInput,\n                    meta: _def.meta,\n                    input: callOpts.input,\n                    next (_nextOpts) {\n                        const nextOpts = _nextOpts;\n                        return callRecursive({\n                            index: callOpts.index + 1,\n                            ctx: nextOpts && \"ctx\" in nextOpts ? {\n                                ...callOpts.ctx,\n                                ...nextOpts.ctx\n                            } : callOpts.ctx,\n                            input: nextOpts && \"input\" in nextOpts ? nextOpts.input : callOpts.input,\n                            rawInput: nextOpts && \"rawInput\" in nextOpts ? nextOpts.rawInput : callOpts.rawInput\n                        });\n                    }\n                });\n                return result;\n            } catch (cause) {\n                return {\n                    ok: false,\n                    error: (0,_TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(cause),\n                    marker: middlewareMarker\n                };\n            }\n        };\n        // there's always at least one \"next\" since we wrap this.resolver in a middleware\n        const result = await callRecursive();\n        if (!result) {\n            throw new _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__.T({\n                code: \"INTERNAL_SERVER_ERROR\",\n                message: \"No result from middlewares - did you forget to `return next()`?\"\n            });\n        }\n        if (!result.ok) {\n            // re-throw original error\n            throw result.error;\n        }\n        return result.data;\n    };\n    procedure._def = _def;\n    procedure.meta = _def.meta;\n    return procedure;\n}\nfunction migrateProcedure(oldProc, type) {\n    const def = oldProc._def();\n    const inputParser = getParseFnOrPassThrough(def.inputParser);\n    const outputParser = getParseFnOrPassThrough(def.outputParser);\n    const inputMiddleware = createInputMiddleware(inputParser);\n    const builder = createBuilder({\n        inputs: [\n            def.inputParser\n        ],\n        middlewares: [\n            ...def.middlewares,\n            inputMiddleware,\n            createOutputMiddleware(outputParser)\n        ],\n        meta: def.meta,\n        output: def.outputParser,\n        mutation: type === \"mutation\",\n        query: type === \"query\",\n        subscription: type === \"subscription\"\n    });\n    const proc = builder[type]((opts)=>def.resolver(opts));\n    return proc;\n}\nfunction migrateRouter(oldRouter) {\n    const errorFormatter = oldRouter._def.errorFormatter;\n    const transformer = oldRouter._def.transformer;\n    const queries = {};\n    const mutations = {};\n    const subscriptions = {};\n    for (const [name, procedure] of Object.entries(oldRouter._def.queries)){\n        queries[name] = migrateProcedure(procedure, \"query\");\n    }\n    for (const [name1, procedure1] of Object.entries(oldRouter._def.mutations)){\n        mutations[name1] = migrateProcedure(procedure1, \"mutation\");\n    }\n    for (const [name2, procedure2] of Object.entries(oldRouter._def.subscriptions)){\n        subscriptions[name2] = migrateProcedure(procedure2, \"subscription\");\n    }\n    const procedures = mergeWithoutOverrides(queries, mutations, subscriptions);\n    const newRouter = (0,_config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.c)({\n        transformer,\n        errorFormatter,\n        isDev: \"development\" !== \"production\"\n    })(procedures);\n    return newRouter;\n}\nfunction getDataTransformer(transformer) {\n    if (\"input\" in transformer) {\n        return transformer;\n    }\n    return {\n        input: transformer,\n        output: transformer\n    };\n}\nconst PROCEDURE_DEFINITION_MAP = {\n    query: \"queries\",\n    mutation: \"mutations\",\n    subscription: \"subscriptions\"\n};\nfunction safeObject(...args) {\n    return Object.assign(Object.create(null), ...args);\n}\n/**\n * @internal The type signature of this class may change without warning.\n * @deprecated\n */ class Router {\n    static prefixProcedures(procedures, prefix) {\n        const eps = safeObject();\n        for (const [key, procedure] of Object.entries(procedures)){\n            eps[prefix + key] = procedure;\n        }\n        return eps;\n    }\n    query(path, procedure) {\n        const router = new Router({\n            queries: safeObject({\n                [path]: createProcedure(procedure)\n            })\n        });\n        return this.merge(router);\n    }\n    mutation(path, procedure) {\n        const router = new Router({\n            mutations: safeObject({\n                [path]: createProcedure(procedure)\n            })\n        });\n        return this.merge(router);\n    }\n    subscription(path, procedure) {\n        const router = new Router({\n            subscriptions: safeObject({\n                [path]: createProcedure(procedure)\n            })\n        });\n        return this.merge(router);\n    }\n    merge(prefixOrRouter, maybeRouter) {\n        let prefix = \"\";\n        let childRouter;\n        if (typeof prefixOrRouter === \"string\" && maybeRouter instanceof Router) {\n            prefix = prefixOrRouter;\n            childRouter = maybeRouter;\n        } else if (prefixOrRouter instanceof Router) {\n            childRouter = prefixOrRouter;\n        } else {\n            throw new Error(\"Invalid args\");\n        }\n        const duplicateQueries = Object.keys(childRouter._def.queries).filter((key)=>!!this._def.queries[prefix + key]);\n        const duplicateMutations = Object.keys(childRouter._def.mutations).filter((key)=>!!this._def.mutations[prefix + key]);\n        const duplicateSubscriptions = Object.keys(childRouter._def.subscriptions).filter((key)=>!!this._def.subscriptions[prefix + key]);\n        const duplicates = [\n            ...duplicateQueries,\n            ...duplicateMutations,\n            ...duplicateSubscriptions\n        ];\n        if (duplicates.length) {\n            throw new Error(`Duplicate endpoint(s): ${duplicates.join(\", \")}`);\n        }\n        const mergeProcedures = (defs)=>{\n            const newDefs = safeObject();\n            for (const [key, procedure] of Object.entries(defs)){\n                const newProcedure = procedure.inheritMiddlewares(this._def.middlewares);\n                newDefs[key] = newProcedure;\n            }\n            return Router.prefixProcedures(newDefs, prefix);\n        };\n        return new Router({\n            ...this._def,\n            queries: safeObject(this._def.queries, mergeProcedures(childRouter._def.queries)),\n            mutations: safeObject(this._def.mutations, mergeProcedures(childRouter._def.mutations)),\n            subscriptions: safeObject(this._def.subscriptions, mergeProcedures(childRouter._def.subscriptions))\n        });\n    }\n    /**\n   * Invoke procedure. Only for internal use within library.\n   */ async call(opts) {\n        const { type, path } = opts;\n        const defTarget = PROCEDURE_DEFINITION_MAP[type];\n        const defs = this._def[defTarget];\n        const procedure = defs[path];\n        if (!procedure) {\n            throw new _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__.T({\n                code: \"NOT_FOUND\",\n                message: `No \"${type}\"-procedure on path \"${path}\"`\n            });\n        }\n        return procedure.call(opts);\n    }\n    createCaller(ctx) {\n        return {\n            query: (path, ...args)=>{\n                return this.call({\n                    type: \"query\",\n                    ctx,\n                    path,\n                    rawInput: args[0]\n                });\n            },\n            mutation: (path, ...args)=>{\n                return this.call({\n                    type: \"mutation\",\n                    ctx,\n                    path,\n                    rawInput: args[0]\n                });\n            },\n            subscription: (path, ...args)=>{\n                return this.call({\n                    type: \"subscription\",\n                    ctx,\n                    path,\n                    rawInput: args[0]\n                });\n            }\n        };\n    }\n    /**\n   * Function to be called before any procedure is invoked\n   * @link https://trpc.io/docs/middlewares\n   */ middleware(middleware) {\n        return new Router({\n            ...this._def,\n            middlewares: [\n                ...this._def.middlewares,\n                middleware\n            ]\n        });\n    }\n    /**\n   * Format errors\n   * @link https://trpc.io/docs/error-formatting\n   */ formatError(errorFormatter) {\n        if (this._def.errorFormatter !== _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.d) {\n            throw new Error(\"You seem to have double `formatError()`-calls in your router tree\");\n        }\n        return new Router({\n            ...this._def,\n            errorFormatter: errorFormatter\n        });\n    }\n    getErrorShape(opts) {\n        const { path, error } = opts;\n        const { code } = opts.error;\n        const shape = {\n            message: error.message,\n            code: _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_3__.T[code],\n            data: {\n                code,\n                httpStatus: (0,_index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_2__.g)(error)\n            }\n        };\n        if (globalThis.process?.env?.NODE_ENV !== \"production\" && typeof opts.error.stack === \"string\") {\n            shape.data.stack = opts.error.stack;\n        }\n        if (typeof path === \"string\") {\n            shape.data.path = path;\n        }\n        return this._def.errorFormatter({\n            ...opts,\n            shape\n        });\n    }\n    /**\n   * Add data transformer to serialize/deserialize input args + output\n   * @link https://trpc.io/docs/data-transformers\n   */ transformer(_transformer) {\n        const transformer = getDataTransformer(_transformer);\n        if (this._def.transformer !== _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.a) {\n            throw new Error(\"You seem to have double `transformer()`-calls in your router tree\");\n        }\n        return new Router({\n            ...this._def,\n            transformer\n        });\n    }\n    /**\n   * Flattens the generics of TQueries/TMutations/TSubscriptions.\n   *  Experimental - might disappear. \n   *\n   * @alpha\n   */ flat() {\n        return this;\n    }\n    /**\n   * Interop mode for v9.x -> v10.x\n   */ interop() {\n        return migrateRouter(this);\n    }\n    constructor(def){\n        this._def = {\n            queries: def?.queries ?? safeObject(),\n            mutations: def?.mutations ?? safeObject(),\n            subscriptions: def?.subscriptions ?? safeObject(),\n            middlewares: def?.middlewares ?? [],\n            errorFormatter: def?.errorFormatter ?? _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.d,\n            transformer: def?.transformer ?? _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.a\n        };\n    }\n}\n/**\n * @deprecated\n */ function router() {\n    return new Router();\n}\nfunction mergeRouters(...routerList) {\n    const record = mergeWithoutOverrides({}, ...routerList.map((r)=>r._def.record));\n    const errorFormatter = routerList.reduce((currentErrorFormatter, nextRouter)=>{\n        if (nextRouter._def._config.errorFormatter && nextRouter._def._config.errorFormatter !== _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.d) {\n            if (currentErrorFormatter !== _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.d && currentErrorFormatter !== nextRouter._def._config.errorFormatter) {\n                throw new Error(\"You seem to have several error formatters\");\n            }\n            return nextRouter._def._config.errorFormatter;\n        }\n        return currentErrorFormatter;\n    }, _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.d);\n    const transformer = routerList.reduce((prev, current)=>{\n        if (current._def._config.transformer && current._def._config.transformer !== _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.a) {\n            if (prev !== _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.a && prev !== current._def._config.transformer) {\n                throw new Error(\"You seem to have several transformers\");\n            }\n            return current._def._config.transformer;\n        }\n        return prev;\n    }, _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.a);\n    const router = (0,_config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.c)({\n        errorFormatter,\n        transformer,\n        isDev: routerList.some((r)=>r._def._config.isDev),\n        allowOutsideOfServer: routerList.some((r)=>r._def._config.allowOutsideOfServer),\n        isServer: routerList.some((r)=>r._def._config.isServer),\n        $types: routerList[0]?._def._config.$types\n    })(record);\n    return router;\n}\n/**\n * TODO: This can be improved:\n * - We should be able to chain `.meta()`/`.context()` only once\n * - Simplify typings\n * - Doesn't need to be a class but it doesn't really hurt either\n */ class TRPCBuilder {\n    context() {\n        return new TRPCBuilder();\n    }\n    meta() {\n        return new TRPCBuilder();\n    }\n    create(options) {\n        return createTRPCInner()(options);\n    }\n}\n/**\n * Initialize tRPC - done exactly once per backend\n */ const initTRPC = new TRPCBuilder();\nfunction createTRPCInner() {\n    return function initTRPCInner(runtime) {\n        const errorFormatter = runtime?.errorFormatter ?? _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.d;\n        const transformer = (0,_config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(runtime?.transformer ?? _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.a);\n        const config = {\n            transformer,\n            isDev: runtime?.isDev ?? globalThis.process?.env?.NODE_ENV !== \"production\",\n            allowOutsideOfServer: runtime?.allowOutsideOfServer ?? false,\n            errorFormatter,\n            isServer: runtime?.isServer ?? _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.i,\n            /**\n       * @internal\n       */ $types: (0,_index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_2__.c)((key)=>{\n                throw new Error(`Tried to access \"$types.${key}\" which is not available at runtime`);\n            })\n        };\n        {\n            // Server check\n            const isServer = runtime?.isServer ?? _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.i;\n            if (!isServer && runtime?.allowOutsideOfServer !== true) {\n                throw new Error(`You're trying to use @trpc/server in a non-server environment. This is not supported by default.`);\n            }\n        }\n        return {\n            /**\n       * These are just types, they can't be used\n       * @internal\n       */ _config: config,\n            /**\n       * Builder object for creating procedures\n       */ procedure: createBuilder({\n                meta: runtime?.defaultMeta\n            }),\n            /**\n       * Create reusable middlewares\n       */ middleware: createMiddlewareFactory(),\n            /**\n       * Create a router\n       */ router: (0,_config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.c)(config),\n            /**\n       * Merge Routers\n       */ mergeRouters\n        };\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFrSztBQUNoQztBQUMxQztBQUNBO0FBQ0s7QUFDekI7QUFFcEU7O0NBRUMsR0FBRyxNQUFNcUIscUJBQXFCO0FBRS9CLFNBQVNDLGFBQWFDLGVBQWU7SUFDakMsTUFBTUMsU0FBU0Q7SUFDZixJQUFJLE9BQU9DLFdBQVcsWUFBWTtRQUM5QixzQ0FBc0M7UUFDdEMsT0FBT0E7SUFDWDtJQUNBLElBQUksT0FBT0EsT0FBT0MsVUFBVSxLQUFLLFlBQVk7UUFDekMsMEJBQTBCO1FBQzFCLE9BQU9ELE9BQU9DLFVBQVUsQ0FBQ0MsSUFBSSxDQUFDRjtJQUNsQztJQUNBLElBQUksT0FBT0EsT0FBT0csS0FBSyxLQUFLLFlBQVk7UUFDcEMsMEJBQTBCO1FBQzFCLE9BQU9ILE9BQU9HLEtBQUssQ0FBQ0QsSUFBSSxDQUFDRjtJQUM3QjtJQUNBLElBQUksT0FBT0EsT0FBT0ksWUFBWSxLQUFLLFlBQVk7UUFDM0MsMEJBQTBCO1FBQzFCLE9BQU9KLE9BQU9JLFlBQVksQ0FBQ0YsSUFBSSxDQUFDRjtJQUNwQztJQUNBLElBQUksT0FBT0EsT0FBT0ssTUFBTSxLQUFLLFlBQVk7UUFDckMsa0NBQWtDO1FBQ2xDLE9BQU9MLE9BQU9LLE1BQU0sQ0FBQ0gsSUFBSSxDQUFDRjtJQUM5QjtJQUNBLE1BQU0sSUFBSU0sTUFBTTtBQUNwQjtBQUNBOzs7Q0FHQyxHQUFHLE1BQU1DO0lBQ05DLE9BQU87UUFDSCxPQUFPO1lBQ0hDLGFBQWEsSUFBSSxDQUFDQSxXQUFXO1lBQzdCQyxVQUFVLElBQUksQ0FBQ0EsUUFBUTtZQUN2QkMsYUFBYSxJQUFJLENBQUNBLFdBQVc7WUFDN0JDLGNBQWMsSUFBSSxDQUFDQSxZQUFZO1lBQy9CQyxNQUFNLElBQUksQ0FBQ0EsSUFBSTtRQUNuQjtJQUNKO0lBQ0EsTUFBTUMsV0FBV0MsUUFBUSxFQUFFO1FBQ3ZC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QUFLQyxhQUFhO1lBQy9EaUIsc0JBQXNCUyxTQUFTVCx3QkFBd0I7WUFDdkRoRTtZQUNBaUUsVUFBVVEsU0FBU1IsWUFBWS9MLG1EQUFlQTtZQUM5Qzs7T0FFTCxHQUFHZ00sUUFBUXRMLHNEQUFlQSxDQUFDLENBQUNrRTtnQkFDbkIsTUFBTSxJQUFJdkQsTUFBTSxDQUFDLHdCQUF3QixFQUFFdUQsSUFBSSxtQ0FBbUMsQ0FBQztZQUN2RjtRQUNKO1FBQ0E7WUFDSSxlQUFlO1lBQ2YsTUFBTW1ILFdBQVdRLFNBQVNSLFlBQVkvTCxtREFBZUE7WUFDckQsSUFBSSxDQUFDK0wsWUFBWVEsU0FBU1QseUJBQXlCLE1BQU07Z0JBQ3JELE1BQU0sSUFBSXpLLE1BQU0sQ0FBQyxnR0FBZ0csQ0FBQztZQUN0SDtRQUNKO1FBQ0EsT0FBTztZQUNIOzs7T0FHTCxHQUFHcUssU0FBU2M7WUFDUDs7T0FFTCxHQUFHbkYsV0FBV2QsY0FBYztnQkFDbkIzRSxNQUFNMkssU0FBU0U7WUFDbkI7WUFDQTs7T0FFTCxHQUFHbkYsWUFBWXpDO1lBQ1Y7O09BRUwsR0FBR3VFLFFBQVE1Six1REFBbUJBLENBQUNnTjtZQUMxQjs7T0FFTCxHQUFHdEI7UUFDRjtJQUNKO0FBQ0o7QUFFOEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvaW5kZXgubWpzPzRhYWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYyBhcyBjcmVhdGVSb3V0ZXJGYWN0b3J5LCBkIGFzIGRlZmF1bHRGb3JtYXR0ZXIsIGEgYXMgZGVmYXVsdFRyYW5zZm9ybWVyLCBnIGFzIGdldERhdGFUcmFuc2Zvcm1lciQxLCBpIGFzIGlzU2VydmVyRGVmYXVsdCB9IGZyb20gJy4vY29uZmlnLTAwZmZkMzA5Lm1qcyc7XG5leHBvcnQgeyBiIGFzIGNhbGxQcm9jZWR1cmUsIGEgYXMgZGVmYXVsdFRyYW5zZm9ybWVyLCBnIGFzIGdldERhdGFUcmFuc2Zvcm1lciwgcCBhcyBwcm9jZWR1cmVUeXBlcyB9IGZyb20gJy4vY29uZmlnLTAwZmZkMzA5Lm1qcyc7XG5pbXBvcnQgeyBUIGFzIFRSUENFcnJvciwgZyBhcyBnZXRUUlBDRXJyb3JGcm9tVW5rbm93biB9IGZyb20gJy4vVFJQQ0Vycm9yLTY4OWU3OWYxLm1qcyc7XG5leHBvcnQgeyBUIGFzIFRSUENFcnJvciwgZyBhcyBnZXRUUlBDRXJyb3JGcm9tVW5rbm93biB9IGZyb20gJy4vVFJQQ0Vycm9yLTY4OWU3OWYxLm1qcyc7XG5pbXBvcnQgeyBnIGFzIGdldEhUVFBTdGF0dXNDb2RlRnJvbUVycm9yLCBjIGFzIGNyZWF0ZUZsYXRQcm94eSB9IGZyb20gJy4vaW5kZXgtZjkxZDcyMGMubWpzJztcbmltcG9ydCB7IFQgYXMgVFJQQ19FUlJPUl9DT0RFU19CWV9LRVkgfSBmcm9tICcuL2NvZGVzLWM5MjRjM2RiLm1qcyc7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqLyBjb25zdCBtaWRkbGV3YXJlTWFya2VyJDEgPSAnbWlkZGxld2FyZU1hcmtlcic7XG5cbmZ1bmN0aW9uIGdldFBhcnNlRm4kMShwcm9jZWR1cmVQYXJzZXIpIHtcbiAgICBjb25zdCBwYXJzZXIgPSBwcm9jZWR1cmVQYXJzZXI7XG4gICAgaWYgKHR5cGVvZiBwYXJzZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gUHJvY2VkdXJlUGFyc2VyQ3VzdG9tVmFsaWRhdG9yRXNxdWVcbiAgICAgICAgcmV0dXJuIHBhcnNlcjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXJzZXIucGFyc2VBc3luYyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBQcm9jZWR1cmVQYXJzZXJab2RFc3F1ZVxuICAgICAgICByZXR1cm4gcGFyc2VyLnBhcnNlQXN5bmMuYmluZChwYXJzZXIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBhcnNlci5wYXJzZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBQcm9jZWR1cmVQYXJzZXJab2RFc3F1ZVxuICAgICAgICByZXR1cm4gcGFyc2VyLnBhcnNlLmJpbmQocGFyc2VyKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXJzZXIudmFsaWRhdGVTeW5jID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIFByb2NlZHVyZVBhcnNlcll1cEVzcXVlXG4gICAgICAgIHJldHVybiBwYXJzZXIudmFsaWRhdGVTeW5jLmJpbmQocGFyc2VyKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXJzZXIuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIFByb2NlZHVyZVBhcnNlclN1cGVyc3RydWN0RXNxdWVcbiAgICAgICAgcmV0dXJuIHBhcnNlci5jcmVhdGUuYmluZChwYXJzZXIpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIGEgdmFsaWRhdG9yIGZuJyk7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogQGRlcHJlY2F0ZWRcbiAqLyBjbGFzcyBQcm9jZWR1cmUge1xuICAgIF9kZWYoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaWRkbGV3YXJlczogdGhpcy5taWRkbGV3YXJlcyxcbiAgICAgICAgICAgIHJlc29sdmVyOiB0aGlzLnJlc29sdmVyLFxuICAgICAgICAgICAgaW5wdXRQYXJzZXI6IHRoaXMuaW5wdXRQYXJzZXIsXG4gICAgICAgICAgICBvdXRwdXRQYXJzZXI6IHRoaXMub3V0cHV0UGFyc2VyLFxuICAgICAgICAgICAgbWV0YTogdGhpcy5tZXRhXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlSW5wdXQocmF3SW5wdXQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBhcnNlSW5wdXRGbihyYXdJbnB1dCk7XG4gICAgICAgIH0gY2F0Y2ggKGNhdXNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVFJQQ0Vycm9yKHtcbiAgICAgICAgICAgICAgICBjb2RlOiAnQkFEX1JFUVVFU1QnLFxuICAgICAgICAgICAgICAgIGNhdXNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBwYXJzZU91dHB1dChyYXdPdXRwdXQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBhcnNlT3V0cHV0Rm4ocmF3T3V0cHV0KTtcbiAgICAgICAgfSBjYXRjaCAoY2F1c2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUUlBDRXJyb3Ioe1xuICAgICAgICAgICAgICAgIGNvZGU6ICdJTlRFUk5BTF9TRVJWRVJfRVJST1InLFxuICAgICAgICAgICAgICAgIGNhdXNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdPdXRwdXQgdmFsaWRhdGlvbiBmYWlsZWQnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICogVHJpZ2dlciBtaWRkbGV3YXJlcyBpbiBvcmRlciwgcGFyc2UgcmF3IGlucHV0LCBjYWxsIHJlc29sdmVyICYgcGFyc2UgcmF3IG91dHB1dFxuICAgKiBAaW50ZXJuYWxcbiAgICovIGFzeW5jIGNhbGwob3B0cykge1xuICAgICAgICAvLyB3cmFwIHRoZSBhY3R1YWwgcmVzb2x2ZXIgYW5kIHRyZWF0IGFzIHRoZSBsYXN0IFwibWlkZGxld2FyZVwiXG4gICAgICAgIGNvbnN0IG1pZGRsZXdhcmVzV2l0aFJlc29sdmVyID0gdGhpcy5taWRkbGV3YXJlcy5jb25jYXQoW1xuICAgICAgICAgICAgYXN5bmMgKHsgY3R4ICB9KT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gYXdhaXQgdGhpcy5wYXJzZUlucHV0KG9wdHMucmF3SW5wdXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhd091dHB1dCA9IGF3YWl0IHRoaXMucmVzb2x2ZXIoe1xuICAgICAgICAgICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICAgICAgICAgICAgICBjdHgsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucGFyc2VPdXRwdXQocmF3T3V0cHV0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXI6IG1pZGRsZXdhcmVNYXJrZXIkMSxcbiAgICAgICAgICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGN0eFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIF0pO1xuICAgICAgICAvLyBydW4gdGhlIG1pZGRsZXdhcmVzIHJlY3Vyc2l2ZWx5IHdpdGggdGhlIHJlc29sdmVyIGFzIHRoZSBsYXN0IG9uZVxuICAgICAgICBjb25zdCBjYWxsUmVjdXJzaXZlID0gYXN5bmMgKGNhbGxPcHRzID0ge1xuICAgICAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgICAgICBjdHg6IG9wdHMuY3R4XG4gICAgICAgIH0pPT57XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbWlkZGxld2FyZXNXaXRoUmVzb2x2ZXJbY2FsbE9wdHMuaW5kZXhdKHtcbiAgICAgICAgICAgICAgICAgICAgY3R4OiBjYWxsT3B0cy5jdHgsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG9wdHMudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogb3B0cy5wYXRoLFxuICAgICAgICAgICAgICAgICAgICByYXdJbnB1dDogb3B0cy5yYXdJbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgbWV0YTogdGhpcy5tZXRhLFxuICAgICAgICAgICAgICAgICAgICBuZXh0OiBhc3luYyAobmV4dE9wdHMpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgY2FsbFJlY3Vyc2l2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGNhbGxPcHRzLmluZGV4ICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHg6IG5leHRPcHRzID8gbmV4dE9wdHMuY3R4IDogY2FsbE9wdHMuY3R4XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9IGNhdGNoIChjYXVzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGN0eDogY2FsbE9wdHMuY3R4LFxuICAgICAgICAgICAgICAgICAgICBvazogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBnZXRUUlBDRXJyb3JGcm9tVW5rbm93bihjYXVzZSksXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcjogbWlkZGxld2FyZU1hcmtlciQxXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gdGhlcmUncyBhbHdheXMgYXQgbGVhc3Qgb25lIFwibmV4dFwiIHNpbmNlIHdlIHdyYXAgdGhpcy5yZXNvbHZlciBpbiBhIG1pZGRsZXdhcmVcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsbFJlY3Vyc2l2ZSgpO1xuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRSUENFcnJvcih7XG4gICAgICAgICAgICAgICAgY29kZTogJ0lOVEVSTkFMX1NFUlZFUl9FUlJPUicsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ05vIHJlc3VsdCBmcm9tIG1pZGRsZXdhcmVzIC0gZGlkIHlvdSBmb3JnZXQgdG8gYHJldHVybiBuZXh0KClgPydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVzdWx0Lm9rKSB7XG4gICAgICAgICAgICAvLyByZS10aHJvdyBvcmlnaW5hbCBlcnJvclxuICAgICAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAqIENyZWF0ZSBuZXcgcHJvY2VkdXJlIHdpdGggcGFzc2VkIG1pZGRsZXdhcmVzXG4gICAqIEBwYXJhbSBtaWRkbGV3YXJlc1xuICAgKi8gaW5oZXJpdE1pZGRsZXdhcmVzKG1pZGRsZXdhcmVzKSB7XG4gICAgICAgIGNvbnN0IENvbnN0cnVjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3Ioe1xuICAgICAgICAgICAgbWlkZGxld2FyZXM6IFtcbiAgICAgICAgICAgICAgICAuLi5taWRkbGV3YXJlcyxcbiAgICAgICAgICAgICAgICAuLi50aGlzLm1pZGRsZXdhcmVzXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgcmVzb2x2ZXI6IHRoaXMucmVzb2x2ZXIsXG4gICAgICAgICAgICBpbnB1dFBhcnNlcjogdGhpcy5pbnB1dFBhcnNlcixcbiAgICAgICAgICAgIG91dHB1dFBhcnNlcjogdGhpcy5vdXRwdXRQYXJzZXIsXG4gICAgICAgICAgICBtZXRhOiB0aGlzLm1ldGFcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG4gICAgY29uc3RydWN0b3Iob3B0cyl7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZXMgPSBvcHRzLm1pZGRsZXdhcmVzO1xuICAgICAgICB0aGlzLnJlc29sdmVyID0gb3B0cy5yZXNvbHZlcjtcbiAgICAgICAgdGhpcy5pbnB1dFBhcnNlciA9IG9wdHMuaW5wdXRQYXJzZXI7XG4gICAgICAgIHRoaXMucGFyc2VJbnB1dEZuID0gZ2V0UGFyc2VGbiQxKHRoaXMuaW5wdXRQYXJzZXIpO1xuICAgICAgICB0aGlzLm91dHB1dFBhcnNlciA9IG9wdHMub3V0cHV0UGFyc2VyO1xuICAgICAgICB0aGlzLnBhcnNlT3V0cHV0Rm4gPSBnZXRQYXJzZUZuJDEodGhpcy5vdXRwdXRQYXJzZXIpO1xuICAgICAgICB0aGlzLm1ldGEgPSBvcHRzLm1ldGE7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlUHJvY2VkdXJlKG9wdHMpIHtcbiAgICBjb25zdCBpbnB1dFBhcnNlciA9ICdpbnB1dCcgaW4gb3B0cyA/IG9wdHMuaW5wdXQgOiAoaW5wdXQpPT57XG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVFJQQ0Vycm9yKHtcbiAgICAgICAgICAgICAgICBjb2RlOiAnQkFEX1JFUVVFU1QnLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdObyBpbnB1dCBleHBlY3RlZCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBjb25zdCBvdXRwdXRQYXJzZXIgPSAnb3V0cHV0JyBpbiBvcHRzICYmIG9wdHMub3V0cHV0ID8gb3B0cy5vdXRwdXQgOiAob3V0cHV0KT0+b3V0cHV0O1xuICAgIHJldHVybiBuZXcgUHJvY2VkdXJlKHtcbiAgICAgICAgaW5wdXRQYXJzZXI6IGlucHV0UGFyc2VyLFxuICAgICAgICByZXNvbHZlcjogb3B0cy5yZXNvbHZlLFxuICAgICAgICBtaWRkbGV3YXJlczogW10sXG4gICAgICAgIG91dHB1dFBhcnNlcjogb3V0cHV0UGFyc2VyLFxuICAgICAgICBtZXRhOiBvcHRzLm1ldGFcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyc2VGbihwcm9jZWR1cmVQYXJzZXIpIHtcbiAgICBjb25zdCBwYXJzZXIgPSBwcm9jZWR1cmVQYXJzZXI7XG4gICAgaWYgKHR5cGVvZiBwYXJzZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gUGFyc2VyQ3VzdG9tVmFsaWRhdG9yRXNxdWVcbiAgICAgICAgcmV0dXJuIHBhcnNlcjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXJzZXIucGFyc2VBc3luYyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBQYXJzZXJab2RFc3F1ZVxuICAgICAgICByZXR1cm4gcGFyc2VyLnBhcnNlQXN5bmMuYmluZChwYXJzZXIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBhcnNlci5wYXJzZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBQYXJzZXJab2RFc3F1ZVxuICAgICAgICAvLyBQYXJzZXJWYWxpYm90RXNxdWUgKDw9IHYwLjEyLlgpXG4gICAgICAgIHJldHVybiBwYXJzZXIucGFyc2UuYmluZChwYXJzZXIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBhcnNlci52YWxpZGF0ZVN5bmMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gUGFyc2VyWXVwRXNxdWVcbiAgICAgICAgcmV0dXJuIHBhcnNlci52YWxpZGF0ZVN5bmMuYmluZChwYXJzZXIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBhcnNlci5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gUGFyc2VyU3VwZXJzdHJ1Y3RFc3F1ZVxuICAgICAgICByZXR1cm4gcGFyc2VyLmNyZWF0ZS5iaW5kKHBhcnNlcik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGFyc2VyLmFzc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBQYXJzZXJTY2FsZUVzcXVlXG4gICAgICAgIHJldHVybiAodmFsdWUpPT57XG4gICAgICAgICAgICBwYXJzZXIuYXNzZXJ0KHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZmluZCBhIHZhbGlkYXRvciBmbicpO1xufVxuLyoqXG4gKiBAZGVwcmVjYXRlZCBvbmx5IGZvciBiYWNrd2FyZHMgY29tcGF0XG4gKiBAaW50ZXJuYWxcbiAqLyBmdW5jdGlvbiBnZXRQYXJzZUZuT3JQYXNzVGhyb3VnaChwcm9jZWR1cmVQYXJzZXIpIHtcbiAgICBpZiAoIXByb2NlZHVyZVBhcnNlcikge1xuICAgICAgICByZXR1cm4gKHYpPT52O1xuICAgIH1cbiAgICByZXR1cm4gZ2V0UGFyc2VGbihwcm9jZWR1cmVQYXJzZXIpO1xufVxuXG4vKipcbiAqIEVuc3VyZXMgdGhlcmUgYXJlIG5vIGR1cGxpY2F0ZSBrZXlzIHdoZW4gYnVpbGRpbmcgYSBwcm9jZWR1cmUuXG4gKi8gZnVuY3Rpb24gbWVyZ2VXaXRob3V0T3ZlcnJpZGVzKG9iajEsIC4uLm9ianMpIHtcbiAgICBjb25zdCBuZXdPYmogPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobnVsbCksIG9iajEpO1xuICAgIGZvciAoY29uc3Qgb3ZlcnJpZGVzIG9mIG9ianMpe1xuICAgICAgICBmb3IoY29uc3Qga2V5IGluIG92ZXJyaWRlcyl7XG4gICAgICAgICAgICBpZiAoa2V5IGluIG5ld09iaiAmJiBuZXdPYmpba2V5XSAhPT0gb3ZlcnJpZGVzW2tleV0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBrZXkgJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdPYmpba2V5XSA9IG92ZXJyaWRlc1trZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXdPYmo7XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gY3JlYXRlTWlkZGxld2FyZUZhY3RvcnkoKSB7XG4gICAgZnVuY3Rpb24gY3JlYXRlTWlkZGxld2FyZUlubmVyKG1pZGRsZXdhcmVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfbWlkZGxld2FyZXM6IG1pZGRsZXdhcmVzLFxuICAgICAgICAgICAgdW5zdGFibGVfcGlwZSAobWlkZGxld2FyZUJ1aWxkZXJPckZuKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGlwZWRNaWRkbGV3YXJlID0gJ19taWRkbGV3YXJlcycgaW4gbWlkZGxld2FyZUJ1aWxkZXJPckZuID8gbWlkZGxld2FyZUJ1aWxkZXJPckZuLl9taWRkbGV3YXJlcyA6IFtcbiAgICAgICAgICAgICAgICAgICAgbWlkZGxld2FyZUJ1aWxkZXJPckZuXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlTWlkZGxld2FyZUlubmVyKFtcbiAgICAgICAgICAgICAgICAgICAgLi4ubWlkZGxld2FyZXMsXG4gICAgICAgICAgICAgICAgICAgIC4uLnBpcGVkTWlkZGxld2FyZVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVNaWRkbGV3YXJlKGZuKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVNaWRkbGV3YXJlSW5uZXIoW1xuICAgICAgICAgICAgZm5cbiAgICAgICAgXSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVNaWRkbGV3YXJlO1xufVxuY29uc3QgZXhwZXJpbWVudGFsX3N0YW5kYWxvbmVNaWRkbGV3YXJlID0gKCk9Pih7XG4gICAgICAgIGNyZWF0ZTogY3JlYXRlTWlkZGxld2FyZUZhY3RvcnkoKVxuICAgIH0pO1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KG9iaik7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogUGxlYXNlIG5vdGUsIGB0cnBjLW9wZW5hcGlgIHVzZXMgdGhpcyBmdW5jdGlvbi5cbiAqLyBmdW5jdGlvbiBjcmVhdGVJbnB1dE1pZGRsZXdhcmUocGFyc2UpIHtcbiAgICBjb25zdCBpbnB1dE1pZGRsZXdhcmUgPSBhc3luYyAoeyBuZXh0ICwgcmF3SW5wdXQgLCBpbnB1dCAsICB9KT0+e1xuICAgICAgICBsZXQgcGFyc2VkSW5wdXQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwYXJzZWRJbnB1dCA9IGF3YWl0IHBhcnNlKHJhd0lucHV0KTtcbiAgICAgICAgfSBjYXRjaCAoY2F1c2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUUlBDRXJyb3Ioe1xuICAgICAgICAgICAgICAgIGNvZGU6ICdCQURfUkVRVUVTVCcsXG4gICAgICAgICAgICAgICAgY2F1c2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIE11bHRpcGxlIGlucHV0IHBhcnNlcnNcbiAgICAgICAgY29uc3QgY29tYmluZWRJbnB1dCA9IGlzUGxhaW5PYmplY3QoaW5wdXQpICYmIGlzUGxhaW5PYmplY3QocGFyc2VkSW5wdXQpID8ge1xuICAgICAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgICAgICAuLi5wYXJzZWRJbnB1dFxuICAgICAgICB9IDogcGFyc2VkSW5wdXQ7XG4gICAgICAgIC8vIFRPRE8gZml4IHRoaXMgdHlwaW5nP1xuICAgICAgICByZXR1cm4gbmV4dCh7XG4gICAgICAgICAgICBpbnB1dDogY29tYmluZWRJbnB1dFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGlucHV0TWlkZGxld2FyZS5fdHlwZSA9ICdpbnB1dCc7XG4gICAgcmV0dXJuIGlucHV0TWlkZGxld2FyZTtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gY3JlYXRlT3V0cHV0TWlkZGxld2FyZShwYXJzZSkge1xuICAgIGNvbnN0IG91dHB1dE1pZGRsZXdhcmUgPSBhc3luYyAoeyBuZXh0ICB9KT0+e1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXh0KCk7XG4gICAgICAgIGlmICghcmVzdWx0Lm9rKSB7XG4gICAgICAgICAgICAvLyBwYXNzIHRocm91Z2ggZmFpbHVyZXMgd2l0aG91dCB2YWxpZGF0aW5nXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2UocmVzdWx0LmRhdGEpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgICAgICAgZGF0YVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoY2F1c2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUUlBDRXJyb3Ioe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdPdXRwdXQgdmFsaWRhdGlvbiBmYWlsZWQnLFxuICAgICAgICAgICAgICAgIGNvZGU6ICdJTlRFUk5BTF9TRVJWRVJfRVJST1InLFxuICAgICAgICAgICAgICAgIGNhdXNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgb3V0cHV0TWlkZGxld2FyZS5fdHlwZSA9ICdvdXRwdXQnO1xuICAgIHJldHVybiBvdXRwdXRNaWRkbGV3YXJlO1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovIGNvbnN0IG1pZGRsZXdhcmVNYXJrZXIgPSAnbWlkZGxld2FyZU1hcmtlcic7XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0J1aWxkZXIoZGVmMSwgZGVmMikge1xuICAgIGNvbnN0IHsgbWlkZGxld2FyZXMgPVtdICwgaW5wdXRzICwgbWV0YSAsIC4uLnJlc3QgfSA9IGRlZjI7XG4gICAgLy8gVE9ETzogbWF5YmUgaGF2ZSBhIGZuIGhlcmUgdG8gd2FybiBhYm91dCBjYWxsc1xuICAgIHJldHVybiBjcmVhdGVCdWlsZGVyKHtcbiAgICAgICAgLi4ubWVyZ2VXaXRob3V0T3ZlcnJpZGVzKGRlZjEsIHJlc3QpLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIC4uLmRlZjEuaW5wdXRzLFxuICAgICAgICAgICAgLi4uaW5wdXRzID8/IFtdXG4gICAgICAgIF0sXG4gICAgICAgIG1pZGRsZXdhcmVzOiBbXG4gICAgICAgICAgICAuLi5kZWYxLm1pZGRsZXdhcmVzLFxuICAgICAgICAgICAgLi4ubWlkZGxld2FyZXNcbiAgICAgICAgXSxcbiAgICAgICAgbWV0YTogZGVmMS5tZXRhICYmIG1ldGEgPyB7XG4gICAgICAgICAgICAuLi5kZWYxLm1ldGEsXG4gICAgICAgICAgICAuLi5tZXRhXG4gICAgICAgIH0gOiBtZXRhID8/IGRlZjEubWV0YVxuICAgIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlQnVpbGRlcihpbml0RGVmID0ge30pIHtcbiAgICBjb25zdCBfZGVmID0ge1xuICAgICAgICBpbnB1dHM6IFtdLFxuICAgICAgICBtaWRkbGV3YXJlczogW10sXG4gICAgICAgIC4uLmluaXREZWZcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIF9kZWYsXG4gICAgICAgIGlucHV0IChpbnB1dCkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VyID0gZ2V0UGFyc2VGbihpbnB1dCk7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTmV3QnVpbGRlcihfZGVmLCB7XG4gICAgICAgICAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICAgICAgICAgIGlucHV0XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBtaWRkbGV3YXJlczogW1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVJbnB1dE1pZGRsZXdhcmUocGFyc2VyKVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvdXRwdXQgKG91dHB1dCkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VPdXRwdXQgPSBnZXRQYXJzZUZuKG91dHB1dCk7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTmV3QnVpbGRlcihfZGVmLCB7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIG1pZGRsZXdhcmVzOiBbXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU91dHB1dE1pZGRsZXdhcmUocGFyc2VPdXRwdXQpXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG1ldGEgKG1ldGEpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVOZXdCdWlsZGVyKF9kZWYsIHtcbiAgICAgICAgICAgICAgICBtZXRhOiBtZXRhXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBUaGlzIGZ1bmN0aW9uYWxpdHkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24uXG4gICAgICovIHVuc3RhYmxlX2NvbmNhdCAoYnVpbGRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU5ld0J1aWxkZXIoX2RlZiwgYnVpbGRlci5fZGVmKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXNlIChtaWRkbGV3YXJlQnVpbGRlck9yRm4pIHtcbiAgICAgICAgICAgIC8vIERpc3Rpbmd1aXNoIGJldHdlZW4gYSBtaWRkbGV3YXJlIGJ1aWxkZXIgYW5kIGEgbWlkZGxld2FyZSBmdW5jdGlvblxuICAgICAgICAgICAgY29uc3QgbWlkZGxld2FyZXMgPSAnX21pZGRsZXdhcmVzJyBpbiBtaWRkbGV3YXJlQnVpbGRlck9yRm4gPyBtaWRkbGV3YXJlQnVpbGRlck9yRm4uX21pZGRsZXdhcmVzIDogW1xuICAgICAgICAgICAgICAgIG1pZGRsZXdhcmVCdWlsZGVyT3JGblxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVOZXdCdWlsZGVyKF9kZWYsIHtcbiAgICAgICAgICAgICAgICBtaWRkbGV3YXJlczogbWlkZGxld2FyZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBxdWVyeSAocmVzb2x2ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVSZXNvbHZlcih7XG4gICAgICAgICAgICAgICAgLi4uX2RlZixcbiAgICAgICAgICAgICAgICBxdWVyeTogdHJ1ZVxuICAgICAgICAgICAgfSwgcmVzb2x2ZXIpO1xuICAgICAgICB9LFxuICAgICAgICBtdXRhdGlvbiAocmVzb2x2ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVSZXNvbHZlcih7XG4gICAgICAgICAgICAgICAgLi4uX2RlZixcbiAgICAgICAgICAgICAgICBtdXRhdGlvbjogdHJ1ZVxuICAgICAgICAgICAgfSwgcmVzb2x2ZXIpO1xuICAgICAgICB9LFxuICAgICAgICBzdWJzY3JpcHRpb24gKHJlc29sdmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlUmVzb2x2ZXIoe1xuICAgICAgICAgICAgICAgIC4uLl9kZWYsXG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uOiB0cnVlXG4gICAgICAgICAgICB9LCByZXNvbHZlcik7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlUmVzb2x2ZXIoX2RlZiwgcmVzb2x2ZXIpIHtcbiAgICBjb25zdCBmaW5hbEJ1aWxkZXIgPSBjcmVhdGVOZXdCdWlsZGVyKF9kZWYsIHtcbiAgICAgICAgcmVzb2x2ZXIsXG4gICAgICAgIG1pZGRsZXdhcmVzOiBbXG4gICAgICAgICAgICBhc3luYyBmdW5jdGlvbiByZXNvbHZlTWlkZGxld2FyZShvcHRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc29sdmVyKG9wdHMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcjogbWlkZGxld2FyZU1hcmtlcixcbiAgICAgICAgICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGN0eDogb3B0cy5jdHhcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfSk7XG4gICAgcmV0dXJuIGNyZWF0ZVByb2NlZHVyZUNhbGxlcihmaW5hbEJ1aWxkZXIuX2RlZik7XG59XG5jb25zdCBjb2RlYmxvY2sgPSBgXG5JZiB5b3Ugd2FudCB0byBjYWxsIHRoaXMgZnVuY3Rpb24gb24gdGhlIHNlcnZlciwgeW91IGRvIHRoZSBmb2xsb3dpbmc6XG5UaGlzIGlzIGEgY2xpZW50LW9ubHkgZnVuY3Rpb24uXG5cbmNvbnN0IGNhbGxlciA9IGFwcFJvdXRlci5jcmVhdGVDYWxsZXIoe1xuICAvKiAuLi4geW91ciBjb250ZXh0ICovXG59KTtcblxuY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsbGVyLmNhbGwoJ215UHJvY2VkdXJlJywgaW5wdXQpO1xuYC50cmltKCk7XG5mdW5jdGlvbiBjcmVhdGVQcm9jZWR1cmVDYWxsZXIoX2RlZikge1xuICAgIGNvbnN0IHByb2NlZHVyZSA9IGFzeW5jIGZ1bmN0aW9uIHJlc29sdmUob3B0cykge1xuICAgICAgICAvLyBpcyBkaXJlY3Qgc2VydmVyLXNpZGUgY2FsbFxuICAgICAgICBpZiAoIW9wdHMgfHwgISgncmF3SW5wdXQnIGluIG9wdHMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoY29kZWJsb2NrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBydW4gdGhlIG1pZGRsZXdhcmVzIHJlY3Vyc2l2ZWx5IHdpdGggdGhlIHJlc29sdmVyIGFzIHRoZSBsYXN0IG9uZVxuICAgICAgICBjb25zdCBjYWxsUmVjdXJzaXZlID0gYXN5bmMgKGNhbGxPcHRzID0ge1xuICAgICAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgICAgICBjdHg6IG9wdHMuY3R4XG4gICAgICAgIH0pPT57XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgbWlkZGxld2FyZSA9IF9kZWYubWlkZGxld2FyZXNbY2FsbE9wdHMuaW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1pZGRsZXdhcmUoe1xuICAgICAgICAgICAgICAgICAgICBjdHg6IGNhbGxPcHRzLmN0eCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogb3B0cy50eXBlLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBvcHRzLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHJhd0lucHV0OiBjYWxsT3B0cy5yYXdJbnB1dCA/PyBvcHRzLnJhd0lucHV0LFxuICAgICAgICAgICAgICAgICAgICBtZXRhOiBfZGVmLm1ldGEsXG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiBjYWxsT3B0cy5pbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgbmV4dCAoX25leHRPcHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0T3B0cyA9IF9uZXh0T3B0cztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsUmVjdXJzaXZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogY2FsbE9wdHMuaW5kZXggKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eDogbmV4dE9wdHMgJiYgJ2N0eCcgaW4gbmV4dE9wdHMgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNhbGxPcHRzLmN0eCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubmV4dE9wdHMuY3R4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IGNhbGxPcHRzLmN0eCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogbmV4dE9wdHMgJiYgJ2lucHV0JyBpbiBuZXh0T3B0cyA/IG5leHRPcHRzLmlucHV0IDogY2FsbE9wdHMuaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3SW5wdXQ6IG5leHRPcHRzICYmICdyYXdJbnB1dCcgaW4gbmV4dE9wdHMgPyBuZXh0T3B0cy5yYXdJbnB1dCA6IGNhbGxPcHRzLnJhd0lucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9IGNhdGNoIChjYXVzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGdldFRSUENFcnJvckZyb21Vbmtub3duKGNhdXNlKSxcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyOiBtaWRkbGV3YXJlTWFya2VyXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gdGhlcmUncyBhbHdheXMgYXQgbGVhc3Qgb25lIFwibmV4dFwiIHNpbmNlIHdlIHdyYXAgdGhpcy5yZXNvbHZlciBpbiBhIG1pZGRsZXdhcmVcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsbFJlY3Vyc2l2ZSgpO1xuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRSUENFcnJvcih7XG4gICAgICAgICAgICAgICAgY29kZTogJ0lOVEVSTkFMX1NFUlZFUl9FUlJPUicsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ05vIHJlc3VsdCBmcm9tIG1pZGRsZXdhcmVzIC0gZGlkIHlvdSBmb3JnZXQgdG8gYHJldHVybiBuZXh0KClgPydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVzdWx0Lm9rKSB7XG4gICAgICAgICAgICAvLyByZS10aHJvdyBvcmlnaW5hbCBlcnJvclxuICAgICAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICB9O1xuICAgIHByb2NlZHVyZS5fZGVmID0gX2RlZjtcbiAgICBwcm9jZWR1cmUubWV0YSA9IF9kZWYubWV0YTtcbiAgICByZXR1cm4gcHJvY2VkdXJlO1xufVxuXG5mdW5jdGlvbiBtaWdyYXRlUHJvY2VkdXJlKG9sZFByb2MsIHR5cGUpIHtcbiAgICBjb25zdCBkZWYgPSBvbGRQcm9jLl9kZWYoKTtcbiAgICBjb25zdCBpbnB1dFBhcnNlciA9IGdldFBhcnNlRm5PclBhc3NUaHJvdWdoKGRlZi5pbnB1dFBhcnNlcik7XG4gICAgY29uc3Qgb3V0cHV0UGFyc2VyID0gZ2V0UGFyc2VGbk9yUGFzc1Rocm91Z2goZGVmLm91dHB1dFBhcnNlcik7XG4gICAgY29uc3QgaW5wdXRNaWRkbGV3YXJlID0gY3JlYXRlSW5wdXRNaWRkbGV3YXJlKGlucHV0UGFyc2VyKTtcbiAgICBjb25zdCBidWlsZGVyID0gY3JlYXRlQnVpbGRlcih7XG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAgZGVmLmlucHV0UGFyc2VyXG4gICAgICAgIF0sXG4gICAgICAgIG1pZGRsZXdhcmVzOiBbXG4gICAgICAgICAgICAuLi5kZWYubWlkZGxld2FyZXMsXG4gICAgICAgICAgICBpbnB1dE1pZGRsZXdhcmUsXG4gICAgICAgICAgICBjcmVhdGVPdXRwdXRNaWRkbGV3YXJlKG91dHB1dFBhcnNlcilcbiAgICAgICAgXSxcbiAgICAgICAgbWV0YTogZGVmLm1ldGEsXG4gICAgICAgIG91dHB1dDogZGVmLm91dHB1dFBhcnNlcixcbiAgICAgICAgbXV0YXRpb246IHR5cGUgPT09ICdtdXRhdGlvbicsXG4gICAgICAgIHF1ZXJ5OiB0eXBlID09PSAncXVlcnknLFxuICAgICAgICBzdWJzY3JpcHRpb246IHR5cGUgPT09ICdzdWJzY3JpcHRpb24nXG4gICAgfSk7XG4gICAgY29uc3QgcHJvYyA9IGJ1aWxkZXJbdHlwZV0oKG9wdHMpPT5kZWYucmVzb2x2ZXIob3B0cykpO1xuICAgIHJldHVybiBwcm9jO1xufVxuZnVuY3Rpb24gbWlncmF0ZVJvdXRlcihvbGRSb3V0ZXIpIHtcbiAgICBjb25zdCBlcnJvckZvcm1hdHRlciA9IG9sZFJvdXRlci5fZGVmLmVycm9yRm9ybWF0dGVyO1xuICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gb2xkUm91dGVyLl9kZWYudHJhbnNmb3JtZXI7XG4gICAgY29uc3QgcXVlcmllcyA9IHt9O1xuICAgIGNvbnN0IG11dGF0aW9ucyA9IHt9O1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtuYW1lLCBwcm9jZWR1cmVdIG9mIE9iamVjdC5lbnRyaWVzKG9sZFJvdXRlci5fZGVmLnF1ZXJpZXMpKXtcbiAgICAgICAgcXVlcmllc1tuYW1lXSA9IG1pZ3JhdGVQcm9jZWR1cmUocHJvY2VkdXJlLCAncXVlcnknKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBbbmFtZTEsIHByb2NlZHVyZTFdIG9mIE9iamVjdC5lbnRyaWVzKG9sZFJvdXRlci5fZGVmLm11dGF0aW9ucykpe1xuICAgICAgICBtdXRhdGlvbnNbbmFtZTFdID0gbWlncmF0ZVByb2NlZHVyZShwcm9jZWR1cmUxLCAnbXV0YXRpb24nKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBbbmFtZTIsIHByb2NlZHVyZTJdIG9mIE9iamVjdC5lbnRyaWVzKG9sZFJvdXRlci5fZGVmLnN1YnNjcmlwdGlvbnMpKXtcbiAgICAgICAgc3Vic2NyaXB0aW9uc1tuYW1lMl0gPSBtaWdyYXRlUHJvY2VkdXJlKHByb2NlZHVyZTIsICdzdWJzY3JpcHRpb24nKTtcbiAgICB9XG4gICAgY29uc3QgcHJvY2VkdXJlcyA9IG1lcmdlV2l0aG91dE92ZXJyaWRlcyhxdWVyaWVzLCBtdXRhdGlvbnMsIHN1YnNjcmlwdGlvbnMpO1xuICAgIGNvbnN0IG5ld1JvdXRlciA9IGNyZWF0ZVJvdXRlckZhY3Rvcnkoe1xuICAgICAgICB0cmFuc2Zvcm1lcixcbiAgICAgICAgZXJyb3JGb3JtYXR0ZXIsXG4gICAgICAgIGlzRGV2OiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nXG4gICAgfSkocHJvY2VkdXJlcyk7XG4gICAgcmV0dXJuIG5ld1JvdXRlcjtcbn1cblxuZnVuY3Rpb24gZ2V0RGF0YVRyYW5zZm9ybWVyKHRyYW5zZm9ybWVyKSB7XG4gICAgaWYgKCdpbnB1dCcgaW4gdHJhbnNmb3JtZXIpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVyO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBpbnB1dDogdHJhbnNmb3JtZXIsXG4gICAgICAgIG91dHB1dDogdHJhbnNmb3JtZXJcbiAgICB9O1xufVxuY29uc3QgUFJPQ0VEVVJFX0RFRklOSVRJT05fTUFQID0ge1xuICAgIHF1ZXJ5OiAncXVlcmllcycsXG4gICAgbXV0YXRpb246ICdtdXRhdGlvbnMnLFxuICAgIHN1YnNjcmlwdGlvbjogJ3N1YnNjcmlwdGlvbnMnXG59O1xuZnVuY3Rpb24gc2FmZU9iamVjdCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShudWxsKSwgLi4uYXJncyk7XG59XG4vKipcbiAqIEBpbnRlcm5hbCBUaGUgdHlwZSBzaWduYXR1cmUgb2YgdGhpcyBjbGFzcyBtYXkgY2hhbmdlIHdpdGhvdXQgd2FybmluZy5cbiAqIEBkZXByZWNhdGVkXG4gKi8gY2xhc3MgUm91dGVyIHtcbiAgICBzdGF0aWMgcHJlZml4UHJvY2VkdXJlcyhwcm9jZWR1cmVzLCBwcmVmaXgpIHtcbiAgICAgICAgY29uc3QgZXBzID0gc2FmZU9iamVjdCgpO1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHByb2NlZHVyZV0gb2YgT2JqZWN0LmVudHJpZXMocHJvY2VkdXJlcykpe1xuICAgICAgICAgICAgZXBzW3ByZWZpeCArIGtleV0gPSBwcm9jZWR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVwcztcbiAgICB9XG4gICAgcXVlcnkocGF0aCwgcHJvY2VkdXJlKSB7XG4gICAgICAgIGNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoe1xuICAgICAgICAgICAgcXVlcmllczogc2FmZU9iamVjdCh7XG4gICAgICAgICAgICAgICAgW3BhdGhdOiBjcmVhdGVQcm9jZWR1cmUocHJvY2VkdXJlKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLm1lcmdlKHJvdXRlcik7XG4gICAgfVxuICAgIG11dGF0aW9uKHBhdGgsIHByb2NlZHVyZSkge1xuICAgICAgICBjb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKHtcbiAgICAgICAgICAgIG11dGF0aW9uczogc2FmZU9iamVjdCh7XG4gICAgICAgICAgICAgICAgW3BhdGhdOiBjcmVhdGVQcm9jZWR1cmUocHJvY2VkdXJlKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLm1lcmdlKHJvdXRlcik7XG4gICAgfVxuICAgIHN1YnNjcmlwdGlvbihwYXRoLCBwcm9jZWR1cmUpIHtcbiAgICAgICAgY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcih7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zOiBzYWZlT2JqZWN0KHtcbiAgICAgICAgICAgICAgICBbcGF0aF06IGNyZWF0ZVByb2NlZHVyZShwcm9jZWR1cmUpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVyZ2Uocm91dGVyKTtcbiAgICB9XG4gICAgbWVyZ2UocHJlZml4T3JSb3V0ZXIsIG1heWJlUm91dGVyKSB7XG4gICAgICAgIGxldCBwcmVmaXggPSAnJztcbiAgICAgICAgbGV0IGNoaWxkUm91dGVyO1xuICAgICAgICBpZiAodHlwZW9mIHByZWZpeE9yUm91dGVyID09PSAnc3RyaW5nJyAmJiBtYXliZVJvdXRlciBpbnN0YW5jZW9mIFJvdXRlcikge1xuICAgICAgICAgICAgcHJlZml4ID0gcHJlZml4T3JSb3V0ZXI7XG4gICAgICAgICAgICBjaGlsZFJvdXRlciA9IG1heWJlUm91dGVyO1xuICAgICAgICB9IGVsc2UgaWYgKHByZWZpeE9yUm91dGVyIGluc3RhbmNlb2YgUm91dGVyKSB7XG4gICAgICAgICAgICBjaGlsZFJvdXRlciA9IHByZWZpeE9yUm91dGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3MnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkdXBsaWNhdGVRdWVyaWVzID0gT2JqZWN0LmtleXMoY2hpbGRSb3V0ZXIuX2RlZi5xdWVyaWVzKS5maWx0ZXIoKGtleSk9PiEhdGhpcy5fZGVmLnF1ZXJpZXNbcHJlZml4ICsga2V5XSk7XG4gICAgICAgIGNvbnN0IGR1cGxpY2F0ZU11dGF0aW9ucyA9IE9iamVjdC5rZXlzKGNoaWxkUm91dGVyLl9kZWYubXV0YXRpb25zKS5maWx0ZXIoKGtleSk9PiEhdGhpcy5fZGVmLm11dGF0aW9uc1twcmVmaXggKyBrZXldKTtcbiAgICAgICAgY29uc3QgZHVwbGljYXRlU3Vic2NyaXB0aW9ucyA9IE9iamVjdC5rZXlzKGNoaWxkUm91dGVyLl9kZWYuc3Vic2NyaXB0aW9ucykuZmlsdGVyKChrZXkpPT4hIXRoaXMuX2RlZi5zdWJzY3JpcHRpb25zW3ByZWZpeCArIGtleV0pO1xuICAgICAgICBjb25zdCBkdXBsaWNhdGVzID0gW1xuICAgICAgICAgICAgLi4uZHVwbGljYXRlUXVlcmllcyxcbiAgICAgICAgICAgIC4uLmR1cGxpY2F0ZU11dGF0aW9ucyxcbiAgICAgICAgICAgIC4uLmR1cGxpY2F0ZVN1YnNjcmlwdGlvbnNcbiAgICAgICAgXTtcbiAgICAgICAgaWYgKGR1cGxpY2F0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBlbmRwb2ludChzKTogJHtkdXBsaWNhdGVzLmpvaW4oJywgJyl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVyZ2VQcm9jZWR1cmVzID0gKGRlZnMpPT57XG4gICAgICAgICAgICBjb25zdCBuZXdEZWZzID0gc2FmZU9iamVjdCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBwcm9jZWR1cmVdIG9mIE9iamVjdC5lbnRyaWVzKGRlZnMpKXtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQcm9jZWR1cmUgPSBwcm9jZWR1cmUuaW5oZXJpdE1pZGRsZXdhcmVzKHRoaXMuX2RlZi5taWRkbGV3YXJlcyk7XG4gICAgICAgICAgICAgICAgbmV3RGVmc1trZXldID0gbmV3UHJvY2VkdXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFJvdXRlci5wcmVmaXhQcm9jZWR1cmVzKG5ld0RlZnMsIHByZWZpeCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgUm91dGVyKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHF1ZXJpZXM6IHNhZmVPYmplY3QodGhpcy5fZGVmLnF1ZXJpZXMsIG1lcmdlUHJvY2VkdXJlcyhjaGlsZFJvdXRlci5fZGVmLnF1ZXJpZXMpKSxcbiAgICAgICAgICAgIG11dGF0aW9uczogc2FmZU9iamVjdCh0aGlzLl9kZWYubXV0YXRpb25zLCBtZXJnZVByb2NlZHVyZXMoY2hpbGRSb3V0ZXIuX2RlZi5tdXRhdGlvbnMpKSxcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnM6IHNhZmVPYmplY3QodGhpcy5fZGVmLnN1YnNjcmlwdGlvbnMsIG1lcmdlUHJvY2VkdXJlcyhjaGlsZFJvdXRlci5fZGVmLnN1YnNjcmlwdGlvbnMpKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAqIEludm9rZSBwcm9jZWR1cmUuIE9ubHkgZm9yIGludGVybmFsIHVzZSB3aXRoaW4gbGlicmFyeS5cbiAgICovIGFzeW5jIGNhbGwob3B0cykge1xuICAgICAgICBjb25zdCB7IHR5cGUgLCBwYXRoICB9ID0gb3B0cztcbiAgICAgICAgY29uc3QgZGVmVGFyZ2V0ID0gUFJPQ0VEVVJFX0RFRklOSVRJT05fTUFQW3R5cGVdO1xuICAgICAgICBjb25zdCBkZWZzID0gdGhpcy5fZGVmW2RlZlRhcmdldF07XG4gICAgICAgIGNvbnN0IHByb2NlZHVyZSA9IGRlZnNbcGF0aF07XG4gICAgICAgIGlmICghcHJvY2VkdXJlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVFJQQ0Vycm9yKHtcbiAgICAgICAgICAgICAgICBjb2RlOiAnTk9UX0ZPVU5EJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgTm8gXCIke3R5cGV9XCItcHJvY2VkdXJlIG9uIHBhdGggXCIke3BhdGh9XCJgXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvY2VkdXJlLmNhbGwob3B0cyk7XG4gICAgfVxuICAgIGNyZWF0ZUNhbGxlcihjdHgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHF1ZXJ5OiAocGF0aCwgLi4uYXJncyk9PntcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYWxsKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgY3R4LFxuICAgICAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgICAgICByYXdJbnB1dDogYXJnc1swXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG11dGF0aW9uOiAocGF0aCwgLi4uYXJncyk9PntcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYWxsKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ211dGF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgY3R4LFxuICAgICAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgICAgICByYXdJbnB1dDogYXJnc1swXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogKHBhdGgsIC4uLmFyZ3MpPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWJzY3JpcHRpb24nLFxuICAgICAgICAgICAgICAgICAgICBjdHgsXG4gICAgICAgICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHJhd0lucHV0OiBhcmdzWzBdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgKiBGdW5jdGlvbiB0byBiZSBjYWxsZWQgYmVmb3JlIGFueSBwcm9jZWR1cmUgaXMgaW52b2tlZFxuICAgKiBAbGluayBodHRwczovL3RycGMuaW8vZG9jcy9taWRkbGV3YXJlc1xuICAgKi8gbWlkZGxld2FyZShtaWRkbGV3YXJlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUm91dGVyKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1pZGRsZXdhcmVzOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLm1pZGRsZXdhcmVzLFxuICAgICAgICAgICAgICAgIG1pZGRsZXdhcmVcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBGb3JtYXQgZXJyb3JzXG4gICAqIEBsaW5rIGh0dHBzOi8vdHJwYy5pby9kb2NzL2Vycm9yLWZvcm1hdHRpbmdcbiAgICovIGZvcm1hdEVycm9yKGVycm9yRm9ybWF0dGVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuZXJyb3JGb3JtYXR0ZXIgIT09IGRlZmF1bHRGb3JtYXR0ZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IHNlZW0gdG8gaGF2ZSBkb3VibGUgYGZvcm1hdEVycm9yKClgLWNhbGxzIGluIHlvdXIgcm91dGVyIHRyZWUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFJvdXRlcih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBlcnJvckZvcm1hdHRlcjogZXJyb3JGb3JtYXR0ZXJcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEVycm9yU2hhcGUob3B0cykge1xuICAgICAgICBjb25zdCB7IHBhdGggLCBlcnJvciAgfSA9IG9wdHM7XG4gICAgICAgIGNvbnN0IHsgY29kZSAgfSA9IG9wdHMuZXJyb3I7XG4gICAgICAgIGNvbnN0IHNoYXBlID0ge1xuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgIGNvZGU6IFRSUENfRVJST1JfQ09ERVNfQllfS0VZW2NvZGVdLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICAgICAgaHR0cFN0YXR1czogZ2V0SFRUUFN0YXR1c0NvZGVGcm9tRXJyb3IoZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChnbG9iYWxUaGlzLnByb2Nlc3M/LmVudj8uTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2Ygb3B0cy5lcnJvci5zdGFjayA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHNoYXBlLmRhdGEuc3RhY2sgPSBvcHRzLmVycm9yLnN0YWNrO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHNoYXBlLmRhdGEucGF0aCA9IHBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5lcnJvckZvcm1hdHRlcih7XG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICAgICAgc2hhcGVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBBZGQgZGF0YSB0cmFuc2Zvcm1lciB0byBzZXJpYWxpemUvZGVzZXJpYWxpemUgaW5wdXQgYXJncyArIG91dHB1dFxuICAgKiBAbGluayBodHRwczovL3RycGMuaW8vZG9jcy9kYXRhLXRyYW5zZm9ybWVyc1xuICAgKi8gdHJhbnNmb3JtZXIoX3RyYW5zZm9ybWVyKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gZ2V0RGF0YVRyYW5zZm9ybWVyKF90cmFuc2Zvcm1lcik7XG4gICAgICAgIGlmICh0aGlzLl9kZWYudHJhbnNmb3JtZXIgIT09IGRlZmF1bHRUcmFuc2Zvcm1lcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3Ugc2VlbSB0byBoYXZlIGRvdWJsZSBgdHJhbnNmb3JtZXIoKWAtY2FsbHMgaW4geW91ciByb3V0ZXIgdHJlZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUm91dGVyKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICogRmxhdHRlbnMgdGhlIGdlbmVyaWNzIG9mIFRRdWVyaWVzL1RNdXRhdGlvbnMvVFN1YnNjcmlwdGlvbnMuXG4gICAqIOKaoO+4jyBFeHBlcmltZW50YWwgLSBtaWdodCBkaXNhcHBlYXIuIOKaoO+4j1xuICAgKlxuICAgKiBAYWxwaGFcbiAgICovIGZsYXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICogSW50ZXJvcCBtb2RlIGZvciB2OS54IC0+IHYxMC54XG4gICAqLyBpbnRlcm9wKCkge1xuICAgICAgICByZXR1cm4gbWlncmF0ZVJvdXRlcih0aGlzKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZGVmKXtcbiAgICAgICAgdGhpcy5fZGVmID0ge1xuICAgICAgICAgICAgcXVlcmllczogZGVmPy5xdWVyaWVzID8/IHNhZmVPYmplY3QoKSxcbiAgICAgICAgICAgIG11dGF0aW9uczogZGVmPy5tdXRhdGlvbnMgPz8gc2FmZU9iamVjdCgpLFxuICAgICAgICAgICAgc3Vic2NyaXB0aW9uczogZGVmPy5zdWJzY3JpcHRpb25zID8/IHNhZmVPYmplY3QoKSxcbiAgICAgICAgICAgIG1pZGRsZXdhcmVzOiBkZWY/Lm1pZGRsZXdhcmVzID8/IFtdLFxuICAgICAgICAgICAgZXJyb3JGb3JtYXR0ZXI6IGRlZj8uZXJyb3JGb3JtYXR0ZXIgPz8gZGVmYXVsdEZvcm1hdHRlcixcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyOiBkZWY/LnRyYW5zZm9ybWVyID8/IGRlZmF1bHRUcmFuc2Zvcm1lclxuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqLyBmdW5jdGlvbiByb3V0ZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBSb3V0ZXIoKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VSb3V0ZXJzKC4uLnJvdXRlckxpc3QpIHtcbiAgICBjb25zdCByZWNvcmQgPSBtZXJnZVdpdGhvdXRPdmVycmlkZXMoe30sIC4uLnJvdXRlckxpc3QubWFwKChyKT0+ci5fZGVmLnJlY29yZCkpO1xuICAgIGNvbnN0IGVycm9yRm9ybWF0dGVyID0gcm91dGVyTGlzdC5yZWR1Y2UoKGN1cnJlbnRFcnJvckZvcm1hdHRlciwgbmV4dFJvdXRlcik9PntcbiAgICAgICAgaWYgKG5leHRSb3V0ZXIuX2RlZi5fY29uZmlnLmVycm9yRm9ybWF0dGVyICYmIG5leHRSb3V0ZXIuX2RlZi5fY29uZmlnLmVycm9yRm9ybWF0dGVyICE9PSBkZWZhdWx0Rm9ybWF0dGVyKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudEVycm9yRm9ybWF0dGVyICE9PSBkZWZhdWx0Rm9ybWF0dGVyICYmIGN1cnJlbnRFcnJvckZvcm1hdHRlciAhPT0gbmV4dFJvdXRlci5fZGVmLl9jb25maWcuZXJyb3JGb3JtYXR0ZXIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBzZWVtIHRvIGhhdmUgc2V2ZXJhbCBlcnJvciBmb3JtYXR0ZXJzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dFJvdXRlci5fZGVmLl9jb25maWcuZXJyb3JGb3JtYXR0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRFcnJvckZvcm1hdHRlcjtcbiAgICB9LCBkZWZhdWx0Rm9ybWF0dGVyKTtcbiAgICBjb25zdCB0cmFuc2Zvcm1lciA9IHJvdXRlckxpc3QucmVkdWNlKChwcmV2LCBjdXJyZW50KT0+e1xuICAgICAgICBpZiAoY3VycmVudC5fZGVmLl9jb25maWcudHJhbnNmb3JtZXIgJiYgY3VycmVudC5fZGVmLl9jb25maWcudHJhbnNmb3JtZXIgIT09IGRlZmF1bHRUcmFuc2Zvcm1lcikge1xuICAgICAgICAgICAgaWYgKHByZXYgIT09IGRlZmF1bHRUcmFuc2Zvcm1lciAmJiBwcmV2ICE9PSBjdXJyZW50Ll9kZWYuX2NvbmZpZy50cmFuc2Zvcm1lcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IHNlZW0gdG8gaGF2ZSBzZXZlcmFsIHRyYW5zZm9ybWVycycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQuX2RlZi5fY29uZmlnLnRyYW5zZm9ybWVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcmV2O1xuICAgIH0sIGRlZmF1bHRUcmFuc2Zvcm1lcik7XG4gICAgY29uc3Qgcm91dGVyID0gY3JlYXRlUm91dGVyRmFjdG9yeSh7XG4gICAgICAgIGVycm9yRm9ybWF0dGVyLFxuICAgICAgICB0cmFuc2Zvcm1lcixcbiAgICAgICAgaXNEZXY6IHJvdXRlckxpc3Quc29tZSgocik9PnIuX2RlZi5fY29uZmlnLmlzRGV2KSxcbiAgICAgICAgYWxsb3dPdXRzaWRlT2ZTZXJ2ZXI6IHJvdXRlckxpc3Quc29tZSgocik9PnIuX2RlZi5fY29uZmlnLmFsbG93T3V0c2lkZU9mU2VydmVyKSxcbiAgICAgICAgaXNTZXJ2ZXI6IHJvdXRlckxpc3Quc29tZSgocik9PnIuX2RlZi5fY29uZmlnLmlzU2VydmVyKSxcbiAgICAgICAgJHR5cGVzOiByb3V0ZXJMaXN0WzBdPy5fZGVmLl9jb25maWcuJHR5cGVzXG4gICAgfSkocmVjb3JkKTtcbiAgICByZXR1cm4gcm91dGVyO1xufVxuXG4vKipcbiAqIFRPRE86IFRoaXMgY2FuIGJlIGltcHJvdmVkOlxuICogLSBXZSBzaG91bGQgYmUgYWJsZSB0byBjaGFpbiBgLm1ldGEoKWAvYC5jb250ZXh0KClgIG9ubHkgb25jZVxuICogLSBTaW1wbGlmeSB0eXBpbmdzXG4gKiAtIERvZXNuJ3QgbmVlZCB0byBiZSBhIGNsYXNzIGJ1dCBpdCBkb2Vzbid0IHJlYWxseSBodXJ0IGVpdGhlclxuICovIGNsYXNzIFRSUENCdWlsZGVyIHtcbiAgICBjb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFRSUENCdWlsZGVyKCk7XG4gICAgfVxuICAgIG1ldGEoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVFJQQ0J1aWxkZXIoKTtcbiAgICB9XG4gICAgY3JlYXRlKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVRSUENJbm5lcigpKG9wdGlvbnMpO1xuICAgIH1cbn1cbi8qKlxuICogSW5pdGlhbGl6ZSB0UlBDIC0gZG9uZSBleGFjdGx5IG9uY2UgcGVyIGJhY2tlbmRcbiAqLyBjb25zdCBpbml0VFJQQyA9IG5ldyBUUlBDQnVpbGRlcigpO1xuZnVuY3Rpb24gY3JlYXRlVFJQQ0lubmVyKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBpbml0VFJQQ0lubmVyKHJ1bnRpbWUpIHtcbiAgICAgICAgY29uc3QgZXJyb3JGb3JtYXR0ZXIgPSBydW50aW1lPy5lcnJvckZvcm1hdHRlciA/PyBkZWZhdWx0Rm9ybWF0dGVyO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lciA9IGdldERhdGFUcmFuc2Zvcm1lciQxKHJ1bnRpbWU/LnRyYW5zZm9ybWVyID8/IGRlZmF1bHRUcmFuc2Zvcm1lcik7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyLFxuICAgICAgICAgICAgaXNEZXY6IHJ1bnRpbWU/LmlzRGV2ID8/IGdsb2JhbFRoaXMucHJvY2Vzcz8uZW52Py5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLFxuICAgICAgICAgICAgYWxsb3dPdXRzaWRlT2ZTZXJ2ZXI6IHJ1bnRpbWU/LmFsbG93T3V0c2lkZU9mU2VydmVyID8/IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3JGb3JtYXR0ZXIsXG4gICAgICAgICAgICBpc1NlcnZlcjogcnVudGltZT8uaXNTZXJ2ZXIgPz8gaXNTZXJ2ZXJEZWZhdWx0LFxuICAgICAgICAgICAgLyoqXG4gICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAqLyAkdHlwZXM6IGNyZWF0ZUZsYXRQcm94eSgoa2V5KT0+e1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVHJpZWQgdG8gYWNjZXNzIFwiJHR5cGVzLiR7a2V5fVwiIHdoaWNoIGlzIG5vdCBhdmFpbGFibGUgYXQgcnVudGltZWApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gU2VydmVyIGNoZWNrXG4gICAgICAgICAgICBjb25zdCBpc1NlcnZlciA9IHJ1bnRpbWU/LmlzU2VydmVyID8/IGlzU2VydmVyRGVmYXVsdDtcbiAgICAgICAgICAgIGlmICghaXNTZXJ2ZXIgJiYgcnVudGltZT8uYWxsb3dPdXRzaWRlT2ZTZXJ2ZXIgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFlvdSdyZSB0cnlpbmcgdG8gdXNlIEB0cnBjL3NlcnZlciBpbiBhIG5vbi1zZXJ2ZXIgZW52aXJvbm1lbnQuIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBieSBkZWZhdWx0LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAqIFRoZXNlIGFyZSBqdXN0IHR5cGVzLCB0aGV5IGNhbid0IGJlIHVzZWRcbiAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICovIF9jb25maWc6IGNvbmZpZyxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICogQnVpbGRlciBvYmplY3QgZm9yIGNyZWF0aW5nIHByb2NlZHVyZXNcbiAgICAgICAqLyBwcm9jZWR1cmU6IGNyZWF0ZUJ1aWxkZXIoe1xuICAgICAgICAgICAgICAgIG1ldGE6IHJ1bnRpbWU/LmRlZmF1bHRNZXRhXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlIHJldXNhYmxlIG1pZGRsZXdhcmVzXG4gICAgICAgKi8gbWlkZGxld2FyZTogY3JlYXRlTWlkZGxld2FyZUZhY3RvcnkoKSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlIGEgcm91dGVyXG4gICAgICAgKi8gcm91dGVyOiBjcmVhdGVSb3V0ZXJGYWN0b3J5KGNvbmZpZyksXG4gICAgICAgICAgICAvKipcbiAgICAgICAqIE1lcmdlIFJvdXRlcnNcbiAgICAgICAqLyBtZXJnZVJvdXRlcnNcbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG5leHBvcnQgeyBjcmVhdGVJbnB1dE1pZGRsZXdhcmUsIGNyZWF0ZU91dHB1dE1pZGRsZXdhcmUsIGV4cGVyaW1lbnRhbF9zdGFuZGFsb25lTWlkZGxld2FyZSwgaW5pdFRSUEMsIHJvdXRlciB9O1xuIl0sIm5hbWVzIjpbImMiLCJjcmVhdGVSb3V0ZXJGYWN0b3J5IiwiZCIsImRlZmF1bHRGb3JtYXR0ZXIiLCJhIiwiZGVmYXVsdFRyYW5zZm9ybWVyIiwiZyIsImdldERhdGFUcmFuc2Zvcm1lciQxIiwiaSIsImlzU2VydmVyRGVmYXVsdCIsImIiLCJjYWxsUHJvY2VkdXJlIiwiZ2V0RGF0YVRyYW5zZm9ybWVyIiwicCIsInByb2NlZHVyZVR5cGVzIiwiVCIsIlRSUENFcnJvciIsImdldFRSUENFcnJvckZyb21Vbmtub3duIiwiZ2V0SFRUUFN0YXR1c0NvZGVGcm9tRXJyb3IiLCJjcmVhdGVGbGF0UHJveHkiLCJUUlBDX0VSUk9SX0NPREVTX0JZX0tFWSIsIm1pZGRsZXdhcmVNYXJrZXIkMSIsImdldFBhcnNlRm4kMSIsInByb2NlZHVyZVBhcnNlciIsInBhcnNlciIsInBhcnNlQXN5bmMiLCJiaW5kIiwicGFyc2UiLCJ2YWxpZGF0ZVN5bmMiLCJjcmVhdGUiLCJFcnJvciIsIlByb2NlZHVyZSIsIl9kZWYiLCJtaWRkbGV3YXJlcyIsInJlc29sdmVyIiwiaW5wdXRQYXJzZXIiLCJvdXRwdXRQYXJzZXIiLCJtZXRhIiwicGFyc2VJbnB1dCIsInJhd0lucHV0IiwicGFyc2VJbnB1dEZuIiwiY2F1c2UiLCJjb2RlIiwicGFyc2VPdXRwdXQiLCJyYXdPdXRwdXQiLCJwYXJzZU91dHB1dEZuIiwibWVzc2FnZSIsImNhbGwiLCJvcHRzIiwibWlkZGxld2FyZXNXaXRoUmVzb2x2ZXIiLCJjb25jYXQiLCJjdHgiLCJpbnB1dCIsImRhdGEiLCJtYXJrZXIiLCJvayIsImNhbGxSZWN1cnNpdmUiLCJjYWxsT3B0cyIsImluZGV4IiwicmVzdWx0IiwidHlwZSIsInBhdGgiLCJuZXh0IiwibmV4dE9wdHMiLCJlcnJvciIsImluaGVyaXRNaWRkbGV3YXJlcyIsIkNvbnN0cnVjdG9yIiwiY29uc3RydWN0b3IiLCJpbnN0YW5jZSIsImNyZWF0ZVByb2NlZHVyZSIsInVuZGVmaW5lZCIsIm91dHB1dCIsInJlc29sdmUiLCJnZXRQYXJzZUZuIiwiYXNzZXJ0IiwidmFsdWUiLCJnZXRQYXJzZUZuT3JQYXNzVGhyb3VnaCIsInYiLCJtZXJnZVdpdGhvdXRPdmVycmlkZXMiLCJvYmoxIiwib2JqcyIsIm5ld09iaiIsIk9iamVjdCIsImFzc2lnbiIsIm92ZXJyaWRlcyIsImtleSIsImNyZWF0ZU1pZGRsZXdhcmVGYWN0b3J5IiwiY3JlYXRlTWlkZGxld2FyZUlubmVyIiwiX21pZGRsZXdhcmVzIiwidW5zdGFibGVfcGlwZSIsIm1pZGRsZXdhcmVCdWlsZGVyT3JGbiIsInBpcGVkTWlkZGxld2FyZSIsImNyZWF0ZU1pZGRsZXdhcmUiLCJmbiIsImV4cGVyaW1lbnRhbF9zdGFuZGFsb25lTWlkZGxld2FyZSIsImlzUGxhaW5PYmplY3QiLCJvYmoiLCJBcnJheSIsImlzQXJyYXkiLCJjcmVhdGVJbnB1dE1pZGRsZXdhcmUiLCJpbnB1dE1pZGRsZXdhcmUiLCJwYXJzZWRJbnB1dCIsImNvbWJpbmVkSW5wdXQiLCJfdHlwZSIsImNyZWF0ZU91dHB1dE1pZGRsZXdhcmUiLCJvdXRwdXRNaWRkbGV3YXJlIiwibWlkZGxld2FyZU1hcmtlciIsImNyZWF0ZU5ld0J1aWxkZXIiLCJkZWYxIiwiZGVmMiIsImlucHV0cyIsInJlc3QiLCJjcmVhdGVCdWlsZGVyIiwiaW5pdERlZiIsInVuc3RhYmxlX2NvbmNhdCIsImJ1aWxkZXIiLCJ1c2UiLCJxdWVyeSIsImNyZWF0ZVJlc29sdmVyIiwibXV0YXRpb24iLCJzdWJzY3JpcHRpb24iLCJmaW5hbEJ1aWxkZXIiLCJyZXNvbHZlTWlkZGxld2FyZSIsImNyZWF0ZVByb2NlZHVyZUNhbGxlciIsImNvZGVibG9jayIsInRyaW0iLCJwcm9jZWR1cmUiLCJtaWRkbGV3YXJlIiwiX25leHRPcHRzIiwibWlncmF0ZVByb2NlZHVyZSIsIm9sZFByb2MiLCJkZWYiLCJwcm9jIiwibWlncmF0ZVJvdXRlciIsIm9sZFJvdXRlciIsImVycm9yRm9ybWF0dGVyIiwidHJhbnNmb3JtZXIiLCJxdWVyaWVzIiwibXV0YXRpb25zIiwic3Vic2NyaXB0aW9ucyIsIm5hbWUiLCJlbnRyaWVzIiwibmFtZTEiLCJwcm9jZWR1cmUxIiwibmFtZTIiLCJwcm9jZWR1cmUyIiwicHJvY2VkdXJlcyIsIm5ld1JvdXRlciIsImlzRGV2IiwicHJvY2VzcyIsIlBST0NFRFVSRV9ERUZJTklUSU9OX01BUCIsInNhZmVPYmplY3QiLCJhcmdzIiwiUm91dGVyIiwicHJlZml4UHJvY2VkdXJlcyIsInByZWZpeCIsImVwcyIsInJvdXRlciIsIm1lcmdlIiwicHJlZml4T3JSb3V0ZXIiLCJtYXliZVJvdXRlciIsImNoaWxkUm91dGVyIiwiZHVwbGljYXRlUXVlcmllcyIsImtleXMiLCJmaWx0ZXIiLCJkdXBsaWNhdGVNdXRhdGlvbnMiLCJkdXBsaWNhdGVTdWJzY3JpcHRpb25zIiwiZHVwbGljYXRlcyIsImxlbmd0aCIsImpvaW4iLCJtZXJnZVByb2NlZHVyZXMiLCJkZWZzIiwibmV3RGVmcyIsIm5ld1Byb2NlZHVyZSIsImRlZlRhcmdldCIsImNyZWF0ZUNhbGxlciIsImZvcm1hdEVycm9yIiwiZ2V0RXJyb3JTaGFwZSIsInNoYXBlIiwiaHR0cFN0YXR1cyIsImdsb2JhbFRoaXMiLCJlbnYiLCJOT0RFX0VOViIsInN0YWNrIiwiX3RyYW5zZm9ybWVyIiwiZmxhdCIsImludGVyb3AiLCJtZXJnZVJvdXRlcnMiLCJyb3V0ZXJMaXN0IiwicmVjb3JkIiwibWFwIiwiciIsInJlZHVjZSIsImN1cnJlbnRFcnJvckZvcm1hdHRlciIsIm5leHRSb3V0ZXIiLCJfY29uZmlnIiwicHJldiIsImN1cnJlbnQiLCJzb21lIiwiYWxsb3dPdXRzaWRlT2ZTZXJ2ZXIiLCJpc1NlcnZlciIsIiR0eXBlcyIsIlRSUENCdWlsZGVyIiwiY29udGV4dCIsIm9wdGlvbnMiLCJjcmVhdGVUUlBDSW5uZXIiLCJpbml0VFJQQyIsImluaXRUUlBDSW5uZXIiLCJydW50aW1lIiwiY29uZmlnIiwiZGVmYXVsdE1ldGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/server/dist/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/server/dist/observable-ade1bad8.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@trpc/server/dist/observable-ade1bad8.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   i: () => (/* binding */ isObservable),\n/* harmony export */   o: () => (/* binding */ observable)\n/* harmony export */ });\nfunction identity(x) {\n    return x;\n}\n/** @internal */ function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce((prev, fn)=>fn(prev), input);\n    };\n}\nfunction isObservable(x) {\n    return typeof x === \"object\" && x !== null && \"subscribe\" in x;\n}\nfunction observable(subscribe) {\n    const self = {\n        subscribe (observer) {\n            let teardownRef = null;\n            let isDone = false;\n            let unsubscribed = false;\n            let teardownImmediately = false;\n            function unsubscribe() {\n                if (teardownRef === null) {\n                    teardownImmediately = true;\n                    return;\n                }\n                if (unsubscribed) {\n                    return;\n                }\n                unsubscribed = true;\n                if (typeof teardownRef === \"function\") {\n                    teardownRef();\n                } else if (teardownRef) {\n                    teardownRef.unsubscribe();\n                }\n            }\n            teardownRef = subscribe({\n                next (value) {\n                    if (isDone) {\n                        return;\n                    }\n                    observer.next?.(value);\n                },\n                error (err) {\n                    if (isDone) {\n                        return;\n                    }\n                    isDone = true;\n                    observer.error?.(err);\n                    unsubscribe();\n                },\n                complete () {\n                    if (isDone) {\n                        return;\n                    }\n                    isDone = true;\n                    observer.complete?.();\n                    unsubscribe();\n                }\n            });\n            if (teardownImmediately) {\n                unsubscribe();\n            }\n            return {\n                unsubscribe\n            };\n        },\n        pipe (...operations) {\n            return pipeFromArray(operations)(self);\n        }\n    };\n    return self;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3Qvb2JzZXJ2YWJsZS1hZGUxYmFkOC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxTQUFTQSxTQUFTQyxDQUFDO0lBQ2YsT0FBT0E7QUFDWDtBQUVBLGNBQWMsR0FBRyxTQUFTQyxjQUFjQyxHQUFHO0lBQ3ZDLElBQUlBLElBQUlDLE1BQU0sS0FBSyxHQUFHO1FBQ2xCLE9BQU9KO0lBQ1g7SUFDQSxJQUFJRyxJQUFJQyxNQUFNLEtBQUssR0FBRztRQUNsQixvRUFBb0U7UUFDcEUsT0FBT0QsR0FBRyxDQUFDLEVBQUU7SUFDakI7SUFDQSxPQUFPLFNBQVNFLE1BQU1DLEtBQUs7UUFDdkIsT0FBT0gsSUFBSUksTUFBTSxDQUFDLENBQUNDLE1BQU1DLEtBQUtBLEdBQUdELE9BQU9GO0lBQzVDO0FBQ0o7QUFFQSxTQUFTSSxhQUFhVCxDQUFDO0lBQ25CLE9BQU8sT0FBT0EsTUFBTSxZQUFZQSxNQUFNLFFBQVEsZUFBZUE7QUFDakU7QUFDQSxTQUFTVSxXQUFXQyxTQUFTO0lBQ3pCLE1BQU1DLE9BQU87UUFDVEQsV0FBV0UsUUFBUTtZQUNmLElBQUlDLGNBQWM7WUFDbEIsSUFBSUMsU0FBUztZQUNiLElBQUlDLGVBQWU7WUFDbkIsSUFBSUMsc0JBQXNCO1lBQzFCLFNBQVNDO2dCQUNMLElBQUlKLGdCQUFnQixNQUFNO29CQUN0Qkcsc0JBQXNCO29CQUN0QjtnQkFDSjtnQkFDQSxJQUFJRCxjQUFjO29CQUNkO2dCQUNKO2dCQUNBQSxlQUFlO2dCQUNmLElBQUksT0FBT0YsZ0JBQWdCLFlBQVk7b0JBQ25DQTtnQkFDSixPQUFPLElBQUlBLGFBQWE7b0JBQ3BCQSxZQUFZSSxXQUFXO2dCQUMzQjtZQUNKO1lBQ0FKLGNBQWNILFVBQVU7Z0JBQ3BCUSxNQUFNQyxLQUFLO29CQUNQLElBQUlMLFFBQVE7d0JBQ1I7b0JBQ0o7b0JBQ0FGLFNBQVNNLElBQUksR0FBR0M7Z0JBQ3BCO2dCQUNBQyxPQUFPQyxHQUFHO29CQUNOLElBQUlQLFFBQVE7d0JBQ1I7b0JBQ0o7b0JBQ0FBLFNBQVM7b0JBQ1RGLFNBQVNRLEtBQUssR0FBR0M7b0JBQ2pCSjtnQkFDSjtnQkFDQUs7b0JBQ0ksSUFBSVIsUUFBUTt3QkFDUjtvQkFDSjtvQkFDQUEsU0FBUztvQkFDVEYsU0FBU1UsUUFBUTtvQkFDakJMO2dCQUNKO1lBQ0o7WUFDQSxJQUFJRCxxQkFBcUI7Z0JBQ3JCQztZQUNKO1lBQ0EsT0FBTztnQkFDSEE7WUFDSjtRQUNKO1FBQ0FNLE1BQU0sR0FBR0MsVUFBVTtZQUNmLE9BQU94QixjQUFjd0IsWUFBWWI7UUFDckM7SUFDSjtJQUNBLE9BQU9BO0FBQ1g7QUFFOEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3Qvb2JzZXJ2YWJsZS1hZGUxYmFkOC5tanM/OTUzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBpZGVudGl0eSh4KSB7XG4gICAgcmV0dXJuIHg7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi8gZnVuY3Rpb24gcGlwZUZyb21BcnJheShmbnMpIHtcbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChmbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgIHJldHVybiBmbnNbMF07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBwaXBlZChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZm5zLnJlZHVjZSgocHJldiwgZm4pPT5mbihwcmV2KSwgaW5wdXQpO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGlzT2JzZXJ2YWJsZSh4KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsICYmICdzdWJzY3JpYmUnIGluIHg7XG59XG5mdW5jdGlvbiBvYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgIGNvbnN0IHNlbGYgPSB7XG4gICAgICAgIHN1YnNjcmliZSAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIGxldCB0ZWFyZG93blJlZiA9IG51bGw7XG4gICAgICAgICAgICBsZXQgaXNEb25lID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgdW5zdWJzY3JpYmVkID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgdGVhcmRvd25JbW1lZGlhdGVseSA9IGZhbHNlO1xuICAgICAgICAgICAgZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlYXJkb3duUmVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlYXJkb3duSW1tZWRpYXRlbHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh1bnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGVhcmRvd25SZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGVhcmRvd25SZWYoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRlYXJkb3duUmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlYXJkb3duUmVmLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVhcmRvd25SZWYgPSBzdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgIG5leHQgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0RvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0Py4odmFsdWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3IgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3I/LihlcnIpO1xuICAgICAgICAgICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGUgKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGU/LigpO1xuICAgICAgICAgICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRlYXJkb3duSW1tZWRpYXRlbHkpIHtcbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgcGlwZSAoLi4ub3BlcmF0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkob3BlcmF0aW9ucykoc2VsZik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBzZWxmO1xufVxuXG5leHBvcnQgeyBpc09ic2VydmFibGUgYXMgaSwgb2JzZXJ2YWJsZSBhcyBvIH07XG4iXSwibmFtZXMiOlsiaWRlbnRpdHkiLCJ4IiwicGlwZUZyb21BcnJheSIsImZucyIsImxlbmd0aCIsInBpcGVkIiwiaW5wdXQiLCJyZWR1Y2UiLCJwcmV2IiwiZm4iLCJpc09ic2VydmFibGUiLCJvYnNlcnZhYmxlIiwic3Vic2NyaWJlIiwic2VsZiIsIm9ic2VydmVyIiwidGVhcmRvd25SZWYiLCJpc0RvbmUiLCJ1bnN1YnNjcmliZWQiLCJ0ZWFyZG93bkltbWVkaWF0ZWx5IiwidW5zdWJzY3JpYmUiLCJuZXh0IiwidmFsdWUiLCJlcnJvciIsImVyciIsImNvbXBsZXRlIiwicGlwZSIsIm9wZXJhdGlvbnMiLCJpIiwibyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/server/dist/observable-ade1bad8.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/server/dist/observable/index.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@trpc/server/dist/observable/index.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isObservable: () => (/* reexport safe */ _observable_ade1bad8_mjs__WEBPACK_IMPORTED_MODULE_0__.i),\n/* harmony export */   map: () => (/* binding */ map),\n/* harmony export */   observable: () => (/* reexport safe */ _observable_ade1bad8_mjs__WEBPACK_IMPORTED_MODULE_0__.o),\n/* harmony export */   observableToPromise: () => (/* binding */ observableToPromise),\n/* harmony export */   share: () => (/* binding */ share),\n/* harmony export */   tap: () => (/* binding */ tap)\n/* harmony export */ });\n/* harmony import */ var _observable_ade1bad8_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observable-ade1bad8.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/observable-ade1bad8.mjs\");\n\nfunction share(_opts) {\n    return (originalObserver)=>{\n        let refCount = 0;\n        let subscription = null;\n        const observers = [];\n        function startIfNeeded() {\n            if (subscription) {\n                return;\n            }\n            subscription = originalObserver.subscribe({\n                next (value) {\n                    for (const observer of observers){\n                        observer.next?.(value);\n                    }\n                },\n                error (error) {\n                    for (const observer of observers){\n                        observer.error?.(error);\n                    }\n                },\n                complete () {\n                    for (const observer of observers){\n                        observer.complete?.();\n                    }\n                }\n            });\n        }\n        function resetIfNeeded() {\n            // \"resetOnRefCountZero\"\n            if (refCount === 0 && subscription) {\n                const _sub = subscription;\n                subscription = null;\n                _sub.unsubscribe();\n            }\n        }\n        return {\n            subscribe (observer) {\n                refCount++;\n                observers.push(observer);\n                startIfNeeded();\n                return {\n                    unsubscribe () {\n                        refCount--;\n                        resetIfNeeded();\n                        const index = observers.findIndex((v)=>v === observer);\n                        if (index > -1) {\n                            observers.splice(index, 1);\n                        }\n                    }\n                };\n            }\n        };\n    };\n}\nfunction map(project) {\n    return (originalObserver)=>{\n        return {\n            subscribe (observer) {\n                let index = 0;\n                const subscription = originalObserver.subscribe({\n                    next (value) {\n                        observer.next?.(project(value, index++));\n                    },\n                    error (error) {\n                        observer.error?.(error);\n                    },\n                    complete () {\n                        observer.complete?.();\n                    }\n                });\n                return subscription;\n            }\n        };\n    };\n}\nfunction tap(observer) {\n    return (originalObserver)=>{\n        return {\n            subscribe (observer2) {\n                return originalObserver.subscribe({\n                    next (v) {\n                        observer.next?.(v);\n                        observer2.next?.(v);\n                    },\n                    error (v) {\n                        observer.error?.(v);\n                        observer2.error?.(v);\n                    },\n                    complete () {\n                        observer.complete?.();\n                        observer2.complete?.();\n                    }\n                });\n            }\n        };\n    };\n}\nclass ObservableAbortError extends Error {\n    constructor(message){\n        super(message);\n        this.name = \"ObservableAbortError\";\n        Object.setPrototypeOf(this, ObservableAbortError.prototype);\n    }\n}\n/** @internal */ function observableToPromise(observable) {\n    let abort;\n    const promise = new Promise((resolve, reject)=>{\n        let isDone = false;\n        function onDone() {\n            if (isDone) {\n                return;\n            }\n            isDone = true;\n            reject(new ObservableAbortError(\"This operation was aborted.\"));\n            obs$.unsubscribe();\n        }\n        const obs$ = observable.subscribe({\n            next (data) {\n                isDone = true;\n                resolve(data);\n                onDone();\n            },\n            error (data) {\n                isDone = true;\n                reject(data);\n                onDone();\n            },\n            complete () {\n                isDone = true;\n                onDone();\n            }\n        });\n        abort = onDone;\n    });\n    return {\n        promise,\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        abort: abort\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3Qvb2JzZXJ2YWJsZS9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFnRjtBQUVoRixTQUFTSSxNQUFNQyxLQUFLO0lBQ2hCLE9BQU8sQ0FBQ0M7UUFDSixJQUFJQyxXQUFXO1FBQ2YsSUFBSUMsZUFBZTtRQUNuQixNQUFNQyxZQUFZLEVBQUU7UUFDcEIsU0FBU0M7WUFDTCxJQUFJRixjQUFjO2dCQUNkO1lBQ0o7WUFDQUEsZUFBZUYsaUJBQWlCSyxTQUFTLENBQUM7Z0JBQ3RDQyxNQUFNQyxLQUFLO29CQUNQLEtBQUssTUFBTUMsWUFBWUwsVUFBVTt3QkFDN0JLLFNBQVNGLElBQUksR0FBR0M7b0JBQ3BCO2dCQUNKO2dCQUNBRSxPQUFPQSxLQUFLO29CQUNSLEtBQUssTUFBTUQsWUFBWUwsVUFBVTt3QkFDN0JLLFNBQVNDLEtBQUssR0FBR0E7b0JBQ3JCO2dCQUNKO2dCQUNBQztvQkFDSSxLQUFLLE1BQU1GLFlBQVlMLFVBQVU7d0JBQzdCSyxTQUFTRSxRQUFRO29CQUNyQjtnQkFDSjtZQUNKO1FBQ0o7UUFDQSxTQUFTQztZQUNMLHdCQUF3QjtZQUN4QixJQUFJVixhQUFhLEtBQUtDLGNBQWM7Z0JBQ2hDLE1BQU1VLE9BQU9WO2dCQUNiQSxlQUFlO2dCQUNmVSxLQUFLQyxXQUFXO1lBQ3BCO1FBQ0o7UUFDQSxPQUFPO1lBQ0hSLFdBQVdHLFFBQVE7Z0JBQ2ZQO2dCQUNBRSxVQUFVVyxJQUFJLENBQUNOO2dCQUNmSjtnQkFDQSxPQUFPO29CQUNIUzt3QkFDSVo7d0JBQ0FVO3dCQUNBLE1BQU1JLFFBQVFaLFVBQVVhLFNBQVMsQ0FBQyxDQUFDQyxJQUFJQSxNQUFNVDt3QkFDN0MsSUFBSU8sUUFBUSxDQUFDLEdBQUc7NEJBQ1paLFVBQVVlLE1BQU0sQ0FBQ0gsT0FBTzt3QkFDNUI7b0JBQ0o7Z0JBQ0o7WUFDSjtRQUNKO0lBQ0o7QUFDSjtBQUVBLFNBQVNJLElBQUlDLE9BQU87SUFDaEIsT0FBTyxDQUFDcEI7UUFDSixPQUFPO1lBQ0hLLFdBQVdHLFFBQVE7Z0JBQ2YsSUFBSU8sUUFBUTtnQkFDWixNQUFNYixlQUFlRixpQkFBaUJLLFNBQVMsQ0FBQztvQkFDNUNDLE1BQU1DLEtBQUs7d0JBQ1BDLFNBQVNGLElBQUksR0FBR2MsUUFBUWIsT0FBT1E7b0JBQ25DO29CQUNBTixPQUFPQSxLQUFLO3dCQUNSRCxTQUFTQyxLQUFLLEdBQUdBO29CQUNyQjtvQkFDQUM7d0JBQ0lGLFNBQVNFLFFBQVE7b0JBQ3JCO2dCQUNKO2dCQUNBLE9BQU9SO1lBQ1g7UUFDSjtJQUNKO0FBQ0o7QUFFQSxTQUFTbUIsSUFBSWIsUUFBUTtJQUNqQixPQUFPLENBQUNSO1FBQ0osT0FBTztZQUNISyxXQUFXaUIsU0FBUztnQkFDaEIsT0FBT3RCLGlCQUFpQkssU0FBUyxDQUFDO29CQUM5QkMsTUFBTVcsQ0FBQzt3QkFDSFQsU0FBU0YsSUFBSSxHQUFHVzt3QkFDaEJLLFVBQVVoQixJQUFJLEdBQUdXO29CQUNyQjtvQkFDQVIsT0FBT1EsQ0FBQzt3QkFDSlQsU0FBU0MsS0FBSyxHQUFHUTt3QkFDakJLLFVBQVViLEtBQUssR0FBR1E7b0JBQ3RCO29CQUNBUDt3QkFDSUYsU0FBU0UsUUFBUTt3QkFDakJZLFVBQVVaLFFBQVE7b0JBQ3RCO2dCQUNKO1lBQ0o7UUFDSjtJQUNKO0FBQ0o7QUFFQSxNQUFNYSw2QkFBNkJDO0lBQy9CQyxZQUFZQyxPQUFPLENBQUM7UUFDaEIsS0FBSyxDQUFDQTtRQUNOLElBQUksQ0FBQ0MsSUFBSSxHQUFHO1FBQ1pDLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUVOLHFCQUFxQk8sU0FBUztJQUM5RDtBQUNKO0FBQ0EsY0FBYyxHQUFHLFNBQVNDLG9CQUFvQmxDLFVBQVU7SUFDcEQsSUFBSW1DO0lBQ0osTUFBTUMsVUFBVSxJQUFJQyxRQUFRLENBQUNDLFNBQVNDO1FBQ2xDLElBQUlDLFNBQVM7UUFDYixTQUFTQztZQUNMLElBQUlELFFBQVE7Z0JBQ1I7WUFDSjtZQUNBQSxTQUFTO1lBQ1RELE9BQU8sSUFBSWIscUJBQXFCO1lBQ2hDZ0IsS0FBSzFCLFdBQVc7UUFDcEI7UUFDQSxNQUFNMEIsT0FBTzFDLFdBQVdRLFNBQVMsQ0FBQztZQUM5QkMsTUFBTWtDLElBQUk7Z0JBQ05ILFNBQVM7Z0JBQ1RGLFFBQVFLO2dCQUNSRjtZQUNKO1lBQ0E3QixPQUFPK0IsSUFBSTtnQkFDUEgsU0FBUztnQkFDVEQsT0FBT0k7Z0JBQ1BGO1lBQ0o7WUFDQTVCO2dCQUNJMkIsU0FBUztnQkFDVEM7WUFDSjtRQUNKO1FBQ0FOLFFBQVFNO0lBQ1o7SUFDQSxPQUFPO1FBQ0hMO1FBQ0Esb0VBQW9FO1FBQ3BFRCxPQUFPQTtJQUNYO0FBQ0o7QUFFZ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3Qvb2JzZXJ2YWJsZS9pbmRleC5tanM/MjcxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBpIGFzIGlzT2JzZXJ2YWJsZSwgbyBhcyBvYnNlcnZhYmxlIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS1hZGUxYmFkOC5tanMnO1xuXG5mdW5jdGlvbiBzaGFyZShfb3B0cykge1xuICAgIHJldHVybiAob3JpZ2luYWxPYnNlcnZlcik9PntcbiAgICAgICAgbGV0IHJlZkNvdW50ID0gMDtcbiAgICAgICAgbGV0IHN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIGNvbnN0IG9ic2VydmVycyA9IFtdO1xuICAgICAgICBmdW5jdGlvbiBzdGFydElmTmVlZGVkKCkge1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG9yaWdpbmFsT2JzZXJ2ZXIuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBuZXh0ICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9ic2VydmVyIG9mIG9ic2VydmVycyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0Py4odmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvciAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYnNlcnZlciBvZiBvYnNlcnZlcnMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYnNlcnZlciBvZiBvYnNlcnZlcnMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGU/LigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcmVzZXRJZk5lZWRlZCgpIHtcbiAgICAgICAgICAgIC8vIFwicmVzZXRPblJlZkNvdW50WmVyb1wiXG4gICAgICAgICAgICBpZiAocmVmQ291bnQgPT09IDAgJiYgc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgX3N1YiA9IHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIF9zdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3Vic2NyaWJlIChvYnNlcnZlcikge1xuICAgICAgICAgICAgICAgIHJlZkNvdW50Kys7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgIHN0YXJ0SWZOZWVkZWQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB1bnN1YnNjcmliZSAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZDb3VudC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRJZk5lZWRlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBvYnNlcnZlcnMuZmluZEluZGV4KCh2KT0+diA9PT0gb2JzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gbWFwKHByb2plY3QpIHtcbiAgICByZXR1cm4gKG9yaWdpbmFsT2JzZXJ2ZXIpPT57XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWJzY3JpYmUgKG9ic2VydmVyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBvcmlnaW5hbE9ic2VydmVyLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgICAgIG5leHQgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0Py4ocHJvamVjdCh2YWx1ZSwgaW5kZXgrKykpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvciAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yPy4oZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZT8uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIHRhcChvYnNlcnZlcikge1xuICAgIHJldHVybiAob3JpZ2luYWxPYnNlcnZlcik9PntcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1YnNjcmliZSAob2JzZXJ2ZXIyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsT2JzZXJ2ZXIuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCAodikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dD8uKHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIyLm5leHQ/Lih2KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yPy4odik7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlcjIuZXJyb3I/Lih2KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUgKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGU/LigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIyLmNvbXBsZXRlPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59XG5cbmNsYXNzIE9ic2VydmFibGVBYm9ydEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2Upe1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ09ic2VydmFibGVBYm9ydEVycm9yJztcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIE9ic2VydmFibGVBYm9ydEVycm9yLnByb3RvdHlwZSk7XG4gICAgfVxufVxuLyoqIEBpbnRlcm5hbCAqLyBmdW5jdGlvbiBvYnNlcnZhYmxlVG9Qcm9taXNlKG9ic2VydmFibGUpIHtcbiAgICBsZXQgYWJvcnQ7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT57XG4gICAgICAgIGxldCBpc0RvbmUgPSBmYWxzZTtcbiAgICAgICAgZnVuY3Rpb24gb25Eb25lKCkge1xuICAgICAgICAgICAgaWYgKGlzRG9uZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzRG9uZSA9IHRydWU7XG4gICAgICAgICAgICByZWplY3QobmV3IE9ic2VydmFibGVBYm9ydEVycm9yKCdUaGlzIG9wZXJhdGlvbiB3YXMgYWJvcnRlZC4nKSk7XG4gICAgICAgICAgICBvYnMkLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2JzJCA9IG9ic2VydmFibGUuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgIG5leHQgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgb25Eb25lKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3IgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpc0RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlamVjdChkYXRhKTtcbiAgICAgICAgICAgICAgICBvbkRvbmUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wbGV0ZSAoKSB7XG4gICAgICAgICAgICAgICAgaXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBvbkRvbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFib3J0ID0gb25Eb25lO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHByb21pc2UsXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgIGFib3J0OiBhYm9ydFxuICAgIH07XG59XG5cbmV4cG9ydCB7IG1hcCwgb2JzZXJ2YWJsZVRvUHJvbWlzZSwgc2hhcmUsIHRhcCB9O1xuIl0sIm5hbWVzIjpbImkiLCJpc09ic2VydmFibGUiLCJvIiwib2JzZXJ2YWJsZSIsInNoYXJlIiwiX29wdHMiLCJvcmlnaW5hbE9ic2VydmVyIiwicmVmQ291bnQiLCJzdWJzY3JpcHRpb24iLCJvYnNlcnZlcnMiLCJzdGFydElmTmVlZGVkIiwic3Vic2NyaWJlIiwibmV4dCIsInZhbHVlIiwib2JzZXJ2ZXIiLCJlcnJvciIsImNvbXBsZXRlIiwicmVzZXRJZk5lZWRlZCIsIl9zdWIiLCJ1bnN1YnNjcmliZSIsInB1c2giLCJpbmRleCIsImZpbmRJbmRleCIsInYiLCJzcGxpY2UiLCJtYXAiLCJwcm9qZWN0IiwidGFwIiwib2JzZXJ2ZXIyIiwiT2JzZXJ2YWJsZUFib3J0RXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsIm5hbWUiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIm9ic2VydmFibGVUb1Byb21pc2UiLCJhYm9ydCIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImlzRG9uZSIsIm9uRG9uZSIsIm9icyQiLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/server/dist/observable/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/server/dist/resolveHTTPResponse-cd1a9112.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@trpc/server/dist/resolveHTTPResponse-cd1a9112.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   r: () => (/* binding */ resolveHTTPResponse)\n/* harmony export */ });\n/* harmony import */ var _config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config-00ffd309.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/config-00ffd309.mjs\");\n/* harmony import */ var _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TRPCError-689e79f1.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/TRPCError-689e79f1.mjs\");\n/* harmony import */ var _transformTRPCResponse_1153b421_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./transformTRPCResponse-1153b421.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/transformTRPCResponse-1153b421.mjs\");\n/* harmony import */ var _contentType_778b33c3_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./contentType-778b33c3.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/contentType-778b33c3.mjs\");\n/* harmony import */ var _index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index-f91d720c.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/index-f91d720c.mjs\");\n\n\n\n\n\nconst HTTP_METHOD_PROCEDURE_TYPE_MAP = {\n    GET: \"query\",\n    POST: \"mutation\"\n};\nconst fallbackContentTypeHandler = {\n    getInputs: _contentType_778b33c3_mjs__WEBPACK_IMPORTED_MODULE_3__.g\n};\nfunction initResponse(initOpts) {\n    const { ctx, paths, type, responseMeta, untransformedJSON, errors = [] } = initOpts;\n    let status = untransformedJSON ? (0,_index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_4__.b)(untransformedJSON) : 200;\n    const headers = {\n        \"Content-Type\": \"application/json\"\n    };\n    const eagerGeneration = !untransformedJSON;\n    const data = eagerGeneration ? [] : Array.isArray(untransformedJSON) ? untransformedJSON : [\n        untransformedJSON\n    ];\n    const meta = responseMeta?.({\n        ctx,\n        paths,\n        type,\n        data,\n        errors,\n        eagerGeneration\n    }) ?? {};\n    for (const [key, value] of Object.entries(meta.headers ?? {})){\n        headers[key] = value;\n    }\n    if (meta.status) {\n        status = meta.status;\n    }\n    return {\n        status,\n        headers\n    };\n}\nasync function inputToProcedureCall(procedureOpts) {\n    const { opts, ctx, type, input, path } = procedureOpts;\n    try {\n        const data = await (0,_config_00ffd309_mjs__WEBPACK_IMPORTED_MODULE_0__.b)({\n            procedures: opts.router._def.procedures,\n            path,\n            rawInput: input,\n            ctx,\n            type\n        });\n        return {\n            result: {\n                data\n            }\n        };\n    } catch (cause) {\n        const error = (0,_TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(cause);\n        opts.onError?.({\n            error,\n            path,\n            input,\n            ctx,\n            type: type,\n            req: opts.req\n        });\n        return {\n            error: (0,_transformTRPCResponse_1153b421_mjs__WEBPACK_IMPORTED_MODULE_2__.g)({\n                config: opts.router._def._config,\n                error,\n                type,\n                path,\n                input,\n                ctx\n            })\n        };\n    }\n}\nfunction caughtErrorToData(cause, errorOpts) {\n    const { router, req, onError } = errorOpts.opts;\n    const error = (0,_TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__.g)(cause);\n    onError?.({\n        error,\n        path: errorOpts.path,\n        input: errorOpts.input,\n        ctx: errorOpts.ctx,\n        type: errorOpts.type,\n        req\n    });\n    const untransformedJSON = {\n        error: (0,_transformTRPCResponse_1153b421_mjs__WEBPACK_IMPORTED_MODULE_2__.g)({\n            config: router._def._config,\n            error,\n            type: errorOpts.type,\n            path: errorOpts.path,\n            input: errorOpts.input,\n            ctx: errorOpts.ctx\n        })\n    };\n    const transformedJSON = (0,_transformTRPCResponse_1153b421_mjs__WEBPACK_IMPORTED_MODULE_2__.t)(router._def._config, untransformedJSON);\n    const body = JSON.stringify(transformedJSON);\n    return {\n        error,\n        untransformedJSON,\n        body\n    };\n}\n// implementation\nasync function resolveHTTPResponse(opts) {\n    const { router, req, unstable_onHead, unstable_onChunk } = opts;\n    if (req.method === \"HEAD\") {\n        // can be used for lambda warmup\n        const headResponse = {\n            status: 204\n        };\n        unstable_onHead?.(headResponse, false);\n        unstable_onChunk?.([\n            -1,\n            \"\"\n        ]);\n        return headResponse;\n    }\n    const contentTypeHandler = opts.contentTypeHandler ?? fallbackContentTypeHandler;\n    const batchingEnabled = opts.batching?.enabled ?? true;\n    const type = HTTP_METHOD_PROCEDURE_TYPE_MAP[req.method] ?? \"unknown\";\n    let ctx = undefined;\n    let paths;\n    const isBatchCall = !!req.query.get(\"batch\");\n    const isStreamCall = isBatchCall && unstable_onHead && unstable_onChunk && req.headers[\"trpc-batch-mode\"] === \"stream\";\n    try {\n        // we create context first so that (unless `createContext()` throws)\n        // error handler may access context information\n        //\n        // this way even if the client sends malformed input that might cause an exception:\n        //  - `opts.error` has value,\n        //  - batching is not enabled,\n        //  - `type` is unknown,\n        //  - `getInputs` throws because of malformed JSON,\n        // context value is still available to the error handler\n        ctx = await opts.createContext();\n        if (opts.error) {\n            throw opts.error;\n        }\n        if (isBatchCall && !batchingEnabled) {\n            throw new Error(`Batching is not enabled on the server`);\n        }\n        /* istanbul ignore if -- @preserve */ if (type === \"subscription\") {\n            throw new _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__.T({\n                message: \"Subscriptions should use wsLink\",\n                code: \"METHOD_NOT_SUPPORTED\"\n            });\n        }\n        if (type === \"unknown\") {\n            throw new _TRPCError_689e79f1_mjs__WEBPACK_IMPORTED_MODULE_1__.T({\n                message: `Unexpected request method ${req.method}`,\n                code: \"METHOD_NOT_SUPPORTED\"\n            });\n        }\n        const inputs = await contentTypeHandler.getInputs({\n            isBatchCall,\n            req,\n            router,\n            preprocessedBody: opts.preprocessedBody ?? false\n        });\n        paths = isBatchCall ? decodeURIComponent(opts.path).split(\",\") : [\n            opts.path\n        ];\n        const promises = paths.map((path, index)=>inputToProcedureCall({\n                opts,\n                ctx,\n                type,\n                input: inputs[index],\n                path\n            }));\n        if (!isStreamCall) {\n            /**\n       * Non-streaming response:\n       * - await all responses in parallel, blocking on the slowest one\n       * - create headers with known response body\n       * - return a complete HTTPResponse\n       */ const untransformedJSON = await Promise.all(promises);\n            const errors = untransformedJSON.flatMap((response)=>\"error\" in response ? [\n                    response.error\n                ] : []);\n            const headResponse1 = initResponse({\n                ctx,\n                paths,\n                type,\n                responseMeta: opts.responseMeta,\n                untransformedJSON,\n                errors\n            });\n            unstable_onHead?.(headResponse1, false);\n            // return body stuff\n            const result = isBatchCall ? untransformedJSON : untransformedJSON[0]; // eslint-disable-line @typescript-eslint/no-non-null-assertion -- `untransformedJSON` should be the length of `paths` which should be at least 1 otherwise there wouldn't be a request at all\n            const transformedJSON = (0,_transformTRPCResponse_1153b421_mjs__WEBPACK_IMPORTED_MODULE_2__.t)(router._def._config, result);\n            const body = JSON.stringify(transformedJSON);\n            unstable_onChunk?.([\n                -1,\n                body\n            ]);\n            return {\n                status: headResponse1.status,\n                headers: headResponse1.headers,\n                body\n            };\n        }\n        /**\n     * Streaming response:\n     * - block on none, call `onChunk` as soon as each response is ready\n     * - create headers with minimal data (cannot know the response body in advance)\n     * - return void\n     */ const headResponse2 = initResponse({\n            ctx,\n            paths,\n            type,\n            responseMeta: opts.responseMeta\n        });\n        unstable_onHead(headResponse2, true);\n        const indexedPromises = new Map(promises.map((promise, index)=>[\n                index,\n                promise.then((r)=>[\n                        index,\n                        r\n                    ])\n            ]));\n        for (const _ of paths){\n            const [index, untransformedJSON1] = await Promise.race(indexedPromises.values());\n            indexedPromises.delete(index);\n            try {\n                const transformedJSON1 = (0,_transformTRPCResponse_1153b421_mjs__WEBPACK_IMPORTED_MODULE_2__.t)(router._def._config, untransformedJSON1);\n                const body1 = JSON.stringify(transformedJSON1);\n                unstable_onChunk([\n                    index,\n                    body1\n                ]);\n            } catch (cause) {\n                const path = paths[index];\n                const input = inputs[index];\n                const { body: body2 } = caughtErrorToData(cause, {\n                    opts,\n                    ctx,\n                    type,\n                    path,\n                    input\n                });\n                unstable_onChunk([\n                    index,\n                    body2\n                ]);\n            }\n        }\n        return;\n    } catch (cause1) {\n        // we get here if\n        // - batching is called when it's not enabled\n        // - `createContext()` throws\n        // - `router._def._config.transformer.output.serialize()` throws\n        // - post body is too large\n        // - input deserialization fails\n        // - `errorFormatter` return value is malformed\n        const { error, untransformedJSON: untransformedJSON2, body: body3 } = caughtErrorToData(cause1, {\n            opts,\n            ctx,\n            type\n        });\n        const headResponse3 = initResponse({\n            ctx,\n            paths,\n            type,\n            responseMeta: opts.responseMeta,\n            untransformedJSON: untransformedJSON2,\n            errors: [\n                error\n            ]\n        });\n        unstable_onHead?.(headResponse3, false);\n        unstable_onChunk?.([\n            -1,\n            body3\n        ]);\n        return {\n            status: headResponse3.status,\n            headers: headResponse3.headers,\n            body: body3\n        };\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvcmVzb2x2ZUhUVFBSZXNwb25zZS1jZDFhOTExMi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTJEO0FBQzZCO0FBQ2M7QUFDM0I7QUFDYjtBQUU5RCxNQUFNVyxpQ0FBaUM7SUFDbkNDLEtBQUs7SUFDTEMsTUFBTTtBQUNWO0FBQ0EsTUFBTUMsNkJBQTZCO0lBQy9CQyxXQUFXTix3REFBd0JBO0FBQ3ZDO0FBQ0EsU0FBU08sYUFBYUMsUUFBUTtJQUMxQixNQUFNLEVBQUVDLEdBQUcsRUFBR0MsS0FBSyxFQUFHQyxJQUFJLEVBQUdDLFlBQVksRUFBR0MsaUJBQWlCLEVBQUdDLFNBQVEsRUFBRSxFQUFLLEdBQUdOO0lBQ2xGLElBQUlPLFNBQVNGLG9CQUFvQlosc0RBQWlCQSxDQUFDWSxxQkFBcUI7SUFDeEUsTUFBTUcsVUFBVTtRQUNaLGdCQUFnQjtJQUNwQjtJQUNBLE1BQU1DLGtCQUFrQixDQUFDSjtJQUN6QixNQUFNSyxPQUFPRCxrQkFBa0IsRUFBRSxHQUFHRSxNQUFNQyxPQUFPLENBQUNQLHFCQUFxQkEsb0JBQW9CO1FBQ3ZGQTtLQUNIO0lBQ0QsTUFBTVEsT0FBT1QsZUFBZTtRQUN4Qkg7UUFDQUM7UUFDQUM7UUFDQU87UUFDQUo7UUFDQUc7SUFDSixNQUFNLENBQUM7SUFDUCxLQUFLLE1BQU0sQ0FBQ0ssS0FBS0MsTUFBTSxJQUFJQyxPQUFPQyxPQUFPLENBQUNKLEtBQUtMLE9BQU8sSUFBSSxDQUFDLEdBQUc7UUFDMURBLE9BQU8sQ0FBQ00sSUFBSSxHQUFHQztJQUNuQjtJQUNBLElBQUlGLEtBQUtOLE1BQU0sRUFBRTtRQUNiQSxTQUFTTSxLQUFLTixNQUFNO0lBQ3hCO0lBQ0EsT0FBTztRQUNIQTtRQUNBQztJQUNKO0FBQ0o7QUFDQSxlQUFlVSxxQkFBcUJDLGFBQWE7SUFDN0MsTUFBTSxFQUFFQyxJQUFJLEVBQUduQixHQUFHLEVBQUdFLElBQUksRUFBR2tCLEtBQUssRUFB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RSxPQUFPdEQsT0FBTztnQkFDWixNQUFNTixPQUFPcEIsS0FBSyxDQUFDOEQsTUFBTTtnQkFDekIsTUFBTTNDLFFBQVFxQyxNQUFNLENBQUNNLE1BQU07Z0JBQzNCLE1BQU0sRUFBRTNCLE1BQU04QyxLQUFLLEVBQUcsR0FBR2pELGtCQUFrQk4sT0FBTztvQkFDOUNSO29CQUNBbkI7b0JBQ0FFO29CQUNBbUI7b0JBQ0FEO2dCQUNKO2dCQUNBcUIsaUJBQWlCO29CQUNic0I7b0JBQ0FtQjtpQkFDSDtZQUNMO1FBQ0o7UUFDQTtJQUNKLEVBQUUsT0FBT0MsUUFBUTtRQUNiLGlCQUFpQjtRQUNqQiw2Q0FBNkM7UUFDN0MsNkJBQTZCO1FBQzdCLGdFQUFnRTtRQUNoRSwyQkFBMkI7UUFDM0IsZ0NBQWdDO1FBQ2hDLCtDQUErQztRQUMvQyxNQUFNLEVBQUV2RCxLQUFLLEVBQUd4QixtQkFBbUJnRixrQkFBa0IsRUFBR2hELE1BQU1pRCxLQUFLLEVBQUcsR0FBR3BELGtCQUFrQmtELFFBQVE7WUFDL0ZoRTtZQUNBbkI7WUFDQUU7UUFDSjtRQUNBLE1BQU1vRixnQkFBZ0J4RixhQUFhO1lBQy9CRTtZQUNBQztZQUNBQztZQUNBQyxjQUFjZ0IsS0FBS2hCLFlBQVk7WUFDL0JDLG1CQUFtQmdGO1lBQ25CL0UsUUFBUTtnQkFDSnVCO2FBQ0g7UUFDTDtRQUNBWSxrQkFBa0I4QyxlQUFlO1FBQ2pDN0MsbUJBQW1CO1lBQ2YsQ0FBQztZQUNENEM7U0FDSDtRQUNELE9BQU87WUFDSC9FLFFBQVFnRixjQUFjaEYsTUFBTTtZQUM1QkMsU0FBUytFLGNBQWMvRSxPQUFPO1lBQzlCNkIsTUFBTWlEO1FBQ1Y7SUFDSjtBQUNKO0FBRW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdDMtYXBwLy4vbm9kZV9tb2R1bGVzL0B0cnBjL3NlcnZlci9kaXN0L3Jlc29sdmVIVFRQUmVzcG9uc2UtY2QxYTkxMTIubWpzPzE4MTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYiBhcyBjYWxsUHJvY2VkdXJlIH0gZnJvbSAnLi9jb25maWctMDBmZmQzMDkubWpzJztcbmltcG9ydCB7IFQgYXMgVFJQQ0Vycm9yLCBnIGFzIGdldFRSUENFcnJvckZyb21Vbmtub3duIH0gZnJvbSAnLi9UUlBDRXJyb3ItNjg5ZTc5ZjEubWpzJztcbmltcG9ydCB7IHQgYXMgdHJhbnNmb3JtVFJQQ1Jlc3BvbnNlLCBnIGFzIGdldEVycm9yU2hhcGUgfSBmcm9tICcuL3RyYW5zZm9ybVRSUENSZXNwb25zZS0xMTUzYjQyMS5tanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRKc29uQ29udGVudFR5cGVJbnB1dHMgfSBmcm9tICcuL2NvbnRlbnRUeXBlLTc3OGIzM2MzLm1qcyc7XG5pbXBvcnQgeyBiIGFzIGdldEhUVFBTdGF0dXNDb2RlIH0gZnJvbSAnLi9pbmRleC1mOTFkNzIwYy5tanMnO1xuXG5jb25zdCBIVFRQX01FVEhPRF9QUk9DRURVUkVfVFlQRV9NQVAgPSB7XG4gICAgR0VUOiAncXVlcnknLFxuICAgIFBPU1Q6ICdtdXRhdGlvbidcbn07XG5jb25zdCBmYWxsYmFja0NvbnRlbnRUeXBlSGFuZGxlciA9IHtcbiAgICBnZXRJbnB1dHM6IGdldEpzb25Db250ZW50VHlwZUlucHV0c1xufTtcbmZ1bmN0aW9uIGluaXRSZXNwb25zZShpbml0T3B0cykge1xuICAgIGNvbnN0IHsgY3R4ICwgcGF0aHMgLCB0eXBlICwgcmVzcG9uc2VNZXRhICwgdW50cmFuc2Zvcm1lZEpTT04gLCBlcnJvcnMgPVtdICwgIH0gPSBpbml0T3B0cztcbiAgICBsZXQgc3RhdHVzID0gdW50cmFuc2Zvcm1lZEpTT04gPyBnZXRIVFRQU3RhdHVzQ29kZSh1bnRyYW5zZm9ybWVkSlNPTikgOiAyMDA7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgIH07XG4gICAgY29uc3QgZWFnZXJHZW5lcmF0aW9uID0gIXVudHJhbnNmb3JtZWRKU09OO1xuICAgIGNvbnN0IGRhdGEgPSBlYWdlckdlbmVyYXRpb24gPyBbXSA6IEFycmF5LmlzQXJyYXkodW50cmFuc2Zvcm1lZEpTT04pID8gdW50cmFuc2Zvcm1lZEpTT04gOiBbXG4gICAgICAgIHVudHJhbnNmb3JtZWRKU09OXG4gICAgXTtcbiAgICBjb25zdCBtZXRhID0gcmVzcG9uc2VNZXRhPy4oe1xuICAgICAgICBjdHgsXG4gICAgICAgIHBhdGhzLFxuICAgICAgICB0eXBlLFxuICAgICAgICBkYXRhLFxuICAgICAgICBlcnJvcnMsXG4gICAgICAgIGVhZ2VyR2VuZXJhdGlvblxuICAgIH0pID8/IHt9O1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG1ldGEuaGVhZGVycyA/PyB7fSkpe1xuICAgICAgICBoZWFkZXJzW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKG1ldGEuc3RhdHVzKSB7XG4gICAgICAgIHN0YXR1cyA9IG1ldGEuc3RhdHVzO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGhlYWRlcnNcbiAgICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gaW5wdXRUb1Byb2NlZHVyZUNhbGwocHJvY2VkdXJlT3B0cykge1xuICAgIGNvbnN0IHsgb3B0cyAsIGN0eCAsIHR5cGUgLCBpbnB1dCAsIHBhdGggIH0gPSBwcm9jZWR1cmVPcHRzO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBjYWxsUHJvY2VkdXJlKHtcbiAgICAgICAgICAgIHByb2NlZHVyZXM6IG9wdHMucm91dGVyLl9kZWYucHJvY2VkdXJlcyxcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICByYXdJbnB1dDogaW5wdXQsXG4gICAgICAgICAgICBjdHgsXG4gICAgICAgICAgICB0eXBlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdWx0OiB7XG4gICAgICAgICAgICAgICAgZGF0YVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0gY2F0Y2ggKGNhdXNlKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gZ2V0VFJQQ0Vycm9yRnJvbVVua25vd24oY2F1c2UpO1xuICAgICAgICBvcHRzLm9uRXJyb3I/Lih7XG4gICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGN0eCxcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICByZXE6IG9wdHMucmVxXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZXJyb3I6IGdldEVycm9yU2hhcGUoe1xuICAgICAgICAgICAgICAgIGNvbmZpZzogb3B0cy5yb3V0ZXIuX2RlZi5fY29uZmlnLFxuICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBjdHhcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgfVxufVxuZnVuY3Rpb24gY2F1Z2h0RXJyb3JUb0RhdGEoY2F1c2UsIGVycm9yT3B0cykge1xuICAgIGNvbnN0IHsgcm91dGVyICwgcmVxICwgb25FcnJvciAgfSA9IGVycm9yT3B0cy5vcHRzO1xuICAgIGNvbnN0IGVycm9yID0gZ2V0VFJQQ0Vycm9yRnJvbVVua25vd24oY2F1c2UpO1xuICAgIG9uRXJyb3I/Lih7XG4gICAgICAgIGVycm9yLFxuICAgICAgICBwYXRoOiBlcnJvck9wdHMucGF0aCxcbiAgICAgICAgaW5wdXQ6IGVycm9yT3B0cy5pbnB1dCxcbiAgICAgICAgY3R4OiBlcnJvck9wdHMuY3R4LFxuICAgICAgICB0eXBlOiBlcnJvck9wdHMudHlwZSxcbiAgICAgICAgcmVxXG4gICAgfSk7XG4gICAgY29uc3QgdW50cmFuc2Zvcm1lZEpTT04gPSB7XG4gICAgICAgIGVycm9yOiBnZXRFcnJvclNoYXBlKHtcbiAgICAgICAgICAgIGNvbmZpZzogcm91dGVyLl9kZWYuX2NvbmZpZyxcbiAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgdHlwZTogZXJyb3JPcHRzLnR5cGUsXG4gICAgICAgICAgICBwYXRoOiBlcnJvck9wdHMucGF0aCxcbiAgICAgICAgICAgIGlucHV0OiBlcnJvck9wdHMuaW5wdXQsXG4gICAgICAgICAgICBjdHg6IGVycm9yT3B0cy5jdHhcbiAgICAgICAgfSlcbiAgICB9O1xuICAgIGNvbnN0IHRyYW5zZm9ybWVkSlNPTiA9IHRyYW5zZm9ybVRSUENSZXNwb25zZShyb3V0ZXIuX2RlZi5fY29uZmlnLCB1bnRyYW5zZm9ybWVkSlNPTik7XG4gICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRyYW5zZm9ybWVkSlNPTik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIHVudHJhbnNmb3JtZWRKU09OLFxuICAgICAgICBib2R5XG4gICAgfTtcbn1cbi8vIGltcGxlbWVudGF0aW9uXG5hc3luYyBmdW5jdGlvbiByZXNvbHZlSFRUUFJlc3BvbnNlKG9wdHMpIHtcbiAgICBjb25zdCB7IHJvdXRlciAsIHJlcSAsIHVuc3RhYmxlX29uSGVhZCAsIHVuc3RhYmxlX29uQ2h1bmsgIH0gPSBvcHRzO1xuICAgIGlmIChyZXEubWV0aG9kID09PSAnSEVBRCcpIHtcbiAgICAgICAgLy8gY2FuIGJlIHVzZWQgZm9yIGxhbWJkYSB3YXJtdXBcbiAgICAgICAgY29uc3QgaGVhZFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgc3RhdHVzOiAyMDRcbiAgICAgICAgfTtcbiAgICAgICAgdW5zdGFibGVfb25IZWFkPy4oaGVhZFJlc3BvbnNlLCBmYWxzZSk7XG4gICAgICAgIHVuc3RhYmxlX29uQ2h1bms/LihbXG4gICAgICAgICAgICAtMSxcbiAgICAgICAgICAgICcnXG4gICAgICAgIF0pO1xuICAgICAgICByZXR1cm4gaGVhZFJlc3BvbnNlO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50VHlwZUhhbmRsZXIgPSBvcHRzLmNvbnRlbnRUeXBlSGFuZGxlciA/PyBmYWxsYmFja0NvbnRlbnRUeXBlSGFuZGxlcjtcbiAgICBjb25zdCBiYXRjaGluZ0VuYWJsZWQgPSBvcHRzLmJhdGNoaW5nPy5lbmFibGVkID8/IHRydWU7XG4gICAgY29uc3QgdHlwZSA9IEhUVFBfTUVUSE9EX1BST0NFRFVSRV9UWVBFX01BUFtyZXEubWV0aG9kXSA/PyAndW5rbm93bic7XG4gICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICBsZXQgcGF0aHM7XG4gICAgY29uc3QgaXNCYXRjaENhbGwgPSAhIXJlcS5xdWVyeS5nZXQoJ2JhdGNoJyk7XG4gICAgY29uc3QgaXNTdHJlYW1DYWxsID0gaXNCYXRjaENhbGwgJiYgdW5zdGFibGVfb25IZWFkICYmIHVuc3RhYmxlX29uQ2h1bmsgJiYgcmVxLmhlYWRlcnNbJ3RycGMtYmF0Y2gtbW9kZSddID09PSAnc3RyZWFtJztcbiAgICB0cnkge1xuICAgICAgICAvLyB3ZSBjcmVhdGUgY29udGV4dCBmaXJzdCBzbyB0aGF0ICh1bmxlc3MgYGNyZWF0ZUNvbnRleHQoKWAgdGhyb3dzKVxuICAgICAgICAvLyBlcnJvciBoYW5kbGVyIG1heSBhY2Nlc3MgY29udGV4dCBpbmZvcm1hdGlvblxuICAgICAgICAvL1xuICAgICAgICAvLyB0aGlzIHdheSBldmVuIGlmIHRoZSBjbGllbnQgc2VuZHMgbWFsZm9ybWVkIGlucHV0IHRoYXQgbWlnaHQgY2F1c2UgYW4gZXhjZXB0aW9uOlxuICAgICAgICAvLyAgLSBgb3B0cy5lcnJvcmAgaGFzIHZhbHVlLFxuICAgICAgICAvLyAgLSBiYXRjaGluZyBpcyBub3QgZW5hYmxlZCxcbiAgICAgICAgLy8gIC0gYHR5cGVgIGlzIHVua25vd24sXG4gICAgICAgIC8vICAtIGBnZXRJbnB1dHNgIHRocm93cyBiZWNhdXNlIG9mIG1hbGZvcm1lZCBKU09OLFxuICAgICAgICAvLyBjb250ZXh0IHZhbHVlIGlzIHN0aWxsIGF2YWlsYWJsZSB0byB0aGUgZXJyb3IgaGFuZGxlclxuICAgICAgICBjdHggPSBhd2FpdCBvcHRzLmNyZWF0ZUNvbnRleHQoKTtcbiAgICAgICAgaWYgKG9wdHMuZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG9wdHMuZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQmF0Y2hDYWxsICYmICFiYXRjaGluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQmF0Y2hpbmcgaXMgbm90IGVuYWJsZWQgb24gdGhlIHNlcnZlcmApO1xuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAtLSBAcHJlc2VydmUgKi8gaWYgKHR5cGUgPT09ICdzdWJzY3JpcHRpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVFJQQ0Vycm9yKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnU3Vic2NyaXB0aW9ucyBzaG91bGQgdXNlIHdzTGluaycsXG4gICAgICAgICAgICAgICAgY29kZTogJ01FVEhPRF9OT1RfU1VQUE9SVEVEJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICd1bmtub3duJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRSUENFcnJvcih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYFVuZXhwZWN0ZWQgcmVxdWVzdCBtZXRob2QgJHtyZXEubWV0aG9kfWAsXG4gICAgICAgICAgICAgICAgY29kZTogJ01FVEhPRF9OT1RfU1VQUE9SVEVEJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5wdXRzID0gYXdhaXQgY29udGVudFR5cGVIYW5kbGVyLmdldElucHV0cyh7XG4gICAgICAgICAgICBpc0JhdGNoQ2FsbCxcbiAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgIHJvdXRlcixcbiAgICAgICAgICAgIHByZXByb2Nlc3NlZEJvZHk6IG9wdHMucHJlcHJvY2Vzc2VkQm9keSA/PyBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgcGF0aHMgPSBpc0JhdGNoQ2FsbCA/IGRlY29kZVVSSUNvbXBvbmVudChvcHRzLnBhdGgpLnNwbGl0KCcsJykgOiBbXG4gICAgICAgICAgICBvcHRzLnBhdGhcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBwYXRocy5tYXAoKHBhdGgsIGluZGV4KT0+aW5wdXRUb1Byb2NlZHVyZUNhbGwoe1xuICAgICAgICAgICAgICAgIG9wdHMsXG4gICAgICAgICAgICAgICAgY3R4LFxuICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IGlucHV0c1tpbmRleF0sXG4gICAgICAgICAgICAgICAgcGF0aFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICBpZiAoIWlzU3RyZWFtQ2FsbCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgKiBOb24tc3RyZWFtaW5nIHJlc3BvbnNlOlxuICAgICAgICogLSBhd2FpdCBhbGwgcmVzcG9uc2VzIGluIHBhcmFsbGVsLCBibG9ja2luZyBvbiB0aGUgc2xvd2VzdCBvbmVcbiAgICAgICAqIC0gY3JlYXRlIGhlYWRlcnMgd2l0aCBrbm93biByZXNwb25zZSBib2R5XG4gICAgICAgKiAtIHJldHVybiBhIGNvbXBsZXRlIEhUVFBSZXNwb25zZVxuICAgICAgICovIGNvbnN0IHVudHJhbnNmb3JtZWRKU09OID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JzID0gdW50cmFuc2Zvcm1lZEpTT04uZmxhdE1hcCgocmVzcG9uc2UpPT4nZXJyb3InIGluIHJlc3BvbnNlID8gW1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5lcnJvclxuICAgICAgICAgICAgICAgIF0gOiBbXSk7XG4gICAgICAgICAgICBjb25zdCBoZWFkUmVzcG9uc2UxID0gaW5pdFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICBjdHgsXG4gICAgICAgICAgICAgICAgcGF0aHMsXG4gICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICByZXNwb25zZU1ldGE6IG9wdHMucmVzcG9uc2VNZXRhLFxuICAgICAgICAgICAgICAgIHVudHJhbnNmb3JtZWRKU09OLFxuICAgICAgICAgICAgICAgIGVycm9yc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB1bnN0YWJsZV9vbkhlYWQ/LihoZWFkUmVzcG9uc2UxLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyByZXR1cm4gYm9keSBzdHVmZlxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gaXNCYXRjaENhbGwgPyB1bnRyYW5zZm9ybWVkSlNPTiA6IHVudHJhbnNmb3JtZWRKU09OWzBdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gLS0gYHVudHJhbnNmb3JtZWRKU09OYCBzaG91bGQgYmUgdGhlIGxlbmd0aCBvZiBgcGF0aHNgIHdoaWNoIHNob3VsZCBiZSBhdCBsZWFzdCAxIG90aGVyd2lzZSB0aGVyZSB3b3VsZG4ndCBiZSBhIHJlcXVlc3QgYXQgYWxsXG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZEpTT04gPSB0cmFuc2Zvcm1UUlBDUmVzcG9uc2Uocm91dGVyLl9kZWYuX2NvbmZpZywgcmVzdWx0KTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0cmFuc2Zvcm1lZEpTT04pO1xuICAgICAgICAgICAgdW5zdGFibGVfb25DaHVuaz8uKFtcbiAgICAgICAgICAgICAgICAtMSxcbiAgICAgICAgICAgICAgICBib2R5XG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBoZWFkUmVzcG9uc2UxLnN0YXR1cyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkUmVzcG9uc2UxLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgKiBTdHJlYW1pbmcgcmVzcG9uc2U6XG4gICAgICogLSBibG9jayBvbiBub25lLCBjYWxsIGBvbkNodW5rYCBhcyBzb29uIGFzIGVhY2ggcmVzcG9uc2UgaXMgcmVhZHlcbiAgICAgKiAtIGNyZWF0ZSBoZWFkZXJzIHdpdGggbWluaW1hbCBkYXRhIChjYW5ub3Qga25vdyB0aGUgcmVzcG9uc2UgYm9keSBpbiBhZHZhbmNlKVxuICAgICAqIC0gcmV0dXJuIHZvaWRcbiAgICAgKi8gY29uc3QgaGVhZFJlc3BvbnNlMiA9IGluaXRSZXNwb25zZSh7XG4gICAgICAgICAgICBjdHgsXG4gICAgICAgICAgICBwYXRocyxcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICByZXNwb25zZU1ldGE6IG9wdHMucmVzcG9uc2VNZXRhXG4gICAgICAgIH0pO1xuICAgICAgICB1bnN0YWJsZV9vbkhlYWQoaGVhZFJlc3BvbnNlMiwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IGluZGV4ZWRQcm9taXNlcyA9IG5ldyBNYXAocHJvbWlzZXMubWFwKChwcm9taXNlLCBpbmRleCk9PltcbiAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4oKHIpPT5bXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF0pKTtcbiAgICAgICAgZm9yIChjb25zdCBfIG9mIHBhdGhzKXtcbiAgICAgICAgICAgIGNvbnN0IFtpbmRleCwgdW50cmFuc2Zvcm1lZEpTT04xXSA9IGF3YWl0IFByb21pc2UucmFjZShpbmRleGVkUHJvbWlzZXMudmFsdWVzKCkpO1xuICAgICAgICAgICAgaW5kZXhlZFByb21pc2VzLmRlbGV0ZShpbmRleCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkSlNPTjEgPSB0cmFuc2Zvcm1UUlBDUmVzcG9uc2Uocm91dGVyLl9kZWYuX2NvbmZpZywgdW50cmFuc2Zvcm1lZEpTT04xKTtcbiAgICAgICAgICAgICAgICBjb25zdCBib2R5MSA9IEpTT04uc3RyaW5naWZ5KHRyYW5zZm9ybWVkSlNPTjEpO1xuICAgICAgICAgICAgICAgIHVuc3RhYmxlX29uQ2h1bmsoW1xuICAgICAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgYm9keTFcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGNhdXNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IHBhdGhzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dCA9IGlucHV0c1tpbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgeyBib2R5OiBib2R5MiAgfSA9IGNhdWdodEVycm9yVG9EYXRhKGNhdXNlLCB7XG4gICAgICAgICAgICAgICAgICAgIG9wdHMsXG4gICAgICAgICAgICAgICAgICAgIGN0eCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB1bnN0YWJsZV9vbkNodW5rKFtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGJvZHkyXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH0gY2F0Y2ggKGNhdXNlMSkge1xuICAgICAgICAvLyB3ZSBnZXQgaGVyZSBpZlxuICAgICAgICAvLyAtIGJhdGNoaW5nIGlzIGNhbGxlZCB3aGVuIGl0J3Mgbm90IGVuYWJsZWRcbiAgICAgICAgLy8gLSBgY3JlYXRlQ29udGV4dCgpYCB0aHJvd3NcbiAgICAgICAgLy8gLSBgcm91dGVyLl9kZWYuX2NvbmZpZy50cmFuc2Zvcm1lci5vdXRwdXQuc2VyaWFsaXplKClgIHRocm93c1xuICAgICAgICAvLyAtIHBvc3QgYm9keSBpcyB0b28gbGFyZ2VcbiAgICAgICAgLy8gLSBpbnB1dCBkZXNlcmlhbGl6YXRpb24gZmFpbHNcbiAgICAgICAgLy8gLSBgZXJyb3JGb3JtYXR0ZXJgIHJldHVybiB2YWx1ZSBpcyBtYWxmb3JtZWRcbiAgICAgICAgY29uc3QgeyBlcnJvciAsIHVudHJhbnNmb3JtZWRKU09OOiB1bnRyYW5zZm9ybWVkSlNPTjIgLCBib2R5OiBib2R5MyAgfSA9IGNhdWdodEVycm9yVG9EYXRhKGNhdXNlMSwge1xuICAgICAgICAgICAgb3B0cyxcbiAgICAgICAgICAgIGN0eCxcbiAgICAgICAgICAgIHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGhlYWRSZXNwb25zZTMgPSBpbml0UmVzcG9uc2Uoe1xuICAgICAgICAgICAgY3R4LFxuICAgICAgICAgICAgcGF0aHMsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcmVzcG9uc2VNZXRhOiBvcHRzLnJlc3BvbnNlTWV0YSxcbiAgICAgICAgICAgIHVudHJhbnNmb3JtZWRKU09OOiB1bnRyYW5zZm9ybWVkSlNPTjIsXG4gICAgICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICAgICAgdW5zdGFibGVfb25IZWFkPy4oaGVhZFJlc3BvbnNlMywgZmFsc2UpO1xuICAgICAgICB1bnN0YWJsZV9vbkNodW5rPy4oW1xuICAgICAgICAgICAgLTEsXG4gICAgICAgICAgICBib2R5M1xuICAgICAgICBdKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogaGVhZFJlc3BvbnNlMy5zdGF0dXMsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkUmVzcG9uc2UzLmhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5M1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0IHsgcmVzb2x2ZUhUVFBSZXNwb25zZSBhcyByIH07XG4iXSwibmFtZXMiOlsiYiIsImNhbGxQcm9jZWR1cmUiLCJUIiwiVFJQQ0Vycm9yIiwiZyIsImdldFRSUENFcnJvckZyb21Vbmtub3duIiwidCIsInRyYW5zZm9ybVRSUENSZXNwb25zZSIsImdldEVycm9yU2hhcGUiLCJnZXRKc29uQ29udGVudFR5cGVJbnB1dHMiLCJnZXRIVFRQU3RhdHVzQ29kZSIsIkhUVFBfTUVUSE9EX1BST0NFRFVSRV9UWVBFX01BUCIsIkdFVCIsIlBPU1QiLCJmYWxsYmFja0NvbnRlbnRUeXBlSGFuZGxlciIsImdldElucHV0cyIsImluaXRSZXNwb25zZSIsImluaXRPcHRzIiwiY3R4IiwicGF0aHMiLCJ0eXBlIiwicmVzcG9uc2VNZXRhIiwidW50cmFuc2Zvcm1lZEpTT04iLCJlcnJvcnMiLCJzdGF0dXMiLCJoZWFkZXJzIiwiZWFnZXJHZW5lcmF0aW9uIiwiZGF0YSIsIkFycmF5IiwiaXNBcnJheSIsIm1ldGEiLCJrZXkiLCJ2YWx1ZSIsIk9iamVjdCIsImVudHJpZXMiLCJpbnB1dFRvUHJvY2VkdXJlQ2FsbCIsInByb2NlZHVyZU9wdHMiLCJvcHRzIiwiaW5wdXQiLCJwYXRoIiwicHJvY2VkdXJlcyIsInJvdXRlciIsIl9kZWYiLCJyYXdJbnB1dCIsInJlc3VsdCIsImNhdXNlIiwiZXJyb3IiLCJvbkVycm9yIiwicmVxIiwiY29uZmlnIiwiX2NvbmZpZyIsImNhdWdodEVycm9yVG9EYXRhIiwiZXJyb3JPcHRzIiwidHJhbnNmb3JtZWRKU09OIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXNvbHZlSFRUUFJlc3BvbnNlIiwidW5zdGFibGVfb25IZWFkIiwidW5zdGFibGVfb25DaHVuayIsIm1ldGhvZCIsImhlYWRSZXNwb25zZSIsImNvbnRlbnRUeXBlSGFuZGxlciIsImJhdGNoaW5nRW5hYmxlZCIsImJhdGNoaW5nIiwiZW5hYmxlZCIsInVuZGVmaW5lZCIsImlzQmF0Y2hDYWxsIiwicXVlcnkiLCJnZXQiLCJpc1N0cmVhbUNhbGwiLCJjcmVhdGVDb250ZXh0IiwiRXJyb3IiLCJtZXNzYWdlIiwiY29kZSIsImlucHV0cyIsInByZXByb2Nlc3NlZEJvZHkiLCJkZWNvZGVVUklDb21wb25lbnQiLCJzcGxpdCIsInByb21pc2VzIiwibWFwIiwiaW5kZXgiLCJQcm9taXNlIiwiYWxsIiwiZmxhdE1hcCIsInJlc3BvbnNlIiwiaGVhZFJlc3BvbnNlMSIsImhlYWRSZXNwb25zZTIiLCJpbmRleGVkUHJvbWlzZXMiLCJNYXAiLCJwcm9taXNlIiwidGhlbiIsInIiLCJfIiwidW50cmFuc2Zvcm1lZEpTT04xIiwicmFjZSIsInZhbHVlcyIsImRlbGV0ZSIsInRyYW5zZm9ybWVkSlNPTjEiLCJib2R5MSIsImJvZHkyIiwiY2F1c2UxIiwidW50cmFuc2Zvcm1lZEpTT04yIiwiYm9keTMiLCJoZWFkUmVzcG9uc2UzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/server/dist/resolveHTTPResponse-cd1a9112.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/server/dist/shared/index.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/@trpc/server/dist/shared/index.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createFlatProxy: () => (/* reexport safe */ _index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   createRecursiveProxy: () => (/* reexport safe */ _index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_0__.a),\n/* harmony export */   getErrorShape: () => (/* reexport safe */ _transformTRPCResponse_1153b421_mjs__WEBPACK_IMPORTED_MODULE_1__.g),\n/* harmony export */   transformTRPCResponse: () => (/* reexport safe */ _transformTRPCResponse_1153b421_mjs__WEBPACK_IMPORTED_MODULE_1__.t)\n/* harmony export */ });\n/* harmony import */ var _index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../index-f91d720c.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/index-f91d720c.mjs\");\n/* harmony import */ var _transformTRPCResponse_1153b421_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../transformTRPCResponse-1153b421.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/transformTRPCResponse-1153b421.mjs\");\n/* harmony import */ var _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../codes-c924c3db.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs\");\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3Qvc2hhcmVkL2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXdGO0FBQ2U7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90My1hcHAvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3Qvc2hhcmVkL2luZGV4Lm1qcz9lMTZkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGMgYXMgY3JlYXRlRmxhdFByb3h5LCBhIGFzIGNyZWF0ZVJlY3Vyc2l2ZVByb3h5IH0gZnJvbSAnLi4vaW5kZXgtZjkxZDcyMGMubWpzJztcbmV4cG9ydCB7IGcgYXMgZ2V0RXJyb3JTaGFwZSwgdCBhcyB0cmFuc2Zvcm1UUlBDUmVzcG9uc2UgfSBmcm9tICcuLi90cmFuc2Zvcm1UUlBDUmVzcG9uc2UtMTE1M2I0MjEubWpzJztcbmltcG9ydCAnLi4vY29kZXMtYzkyNGMzZGIubWpzJztcbiJdLCJuYW1lcyI6WyJjIiwiY3JlYXRlRmxhdFByb3h5IiwiYSIsImNyZWF0ZVJlY3Vyc2l2ZVByb3h5IiwiZyIsImdldEVycm9yU2hhcGUiLCJ0IiwidHJhbnNmb3JtVFJQQ1Jlc3BvbnNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/server/dist/shared/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@trpc/server/dist/transformTRPCResponse-1153b421.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@trpc/server/dist/transformTRPCResponse-1153b421.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   g: () => (/* binding */ getErrorShape),\n/* harmony export */   t: () => (/* binding */ transformTRPCResponse)\n/* harmony export */ });\n/* harmony import */ var _index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-f91d720c.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/index-f91d720c.mjs\");\n/* harmony import */ var _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./codes-c924c3db.mjs */ \"(rsc)/./node_modules/@trpc/server/dist/codes-c924c3db.mjs\");\n\n\n/**\n * @internal\n */ function getErrorShape(opts) {\n    const { path, error, config } = opts;\n    const { code } = opts.error;\n    const shape = {\n        message: error.message,\n        code: _codes_c924c3db_mjs__WEBPACK_IMPORTED_MODULE_1__.T[code],\n        data: {\n            code,\n            httpStatus: (0,_index_f91d720c_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(error)\n        }\n    };\n    if (config.isDev && typeof opts.error.stack === \"string\") {\n        shape.data.stack = opts.error.stack;\n    }\n    if (typeof path === \"string\") {\n        shape.data.path = path;\n    }\n    return config.errorFormatter({\n        ...opts,\n        shape\n    });\n}\nfunction transformTRPCResponseItem(config, item) {\n    if (\"error\" in item) {\n        return {\n            ...item,\n            error: config.transformer.output.serialize(item.error)\n        };\n    }\n    if (\"data\" in item.result) {\n        return {\n            ...item,\n            result: {\n                ...item.result,\n                data: config.transformer.output.serialize(item.result.data)\n            }\n        };\n    }\n    return item;\n}\n/**\n * Takes a unserialized `TRPCResponse` and serializes it with the router's transformers\n **/ function transformTRPCResponse(config, itemOrItems) {\n    return Array.isArray(itemOrItems) ? itemOrItems.map((item)=>transformTRPCResponseItem(config, item)) : transformTRPCResponseItem(config, itemOrItems);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRycGMvc2VydmVyL2Rpc3QvdHJhbnNmb3JtVFJQQ1Jlc3BvbnNlLTExNTNiNDIxLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXVFO0FBQ0g7QUFFcEU7O0NBRUMsR0FBRyxTQUFTSSxjQUFjQyxJQUFJO0lBQzNCLE1BQU0sRUFBRUMsSUFBSSxFQUFHQyxLQUFLLEVBQUdDLE1BQU0sRUFBRyxHQUFHSDtJQUNuQyxNQUFNLEVBQUVJLElBQUksRUFBRyxHQUFHSixLQUFLRSxLQUFLO0lBQzVCLE1BQU1HLFFBQVE7UUFDVkMsU0FBU0osTUFBTUksT0FBTztRQUN0QkYsTUFBTU4sa0RBQXVCLENBQUNNLEtBQUs7UUFDbkNHLE1BQU07WUFDRkg7WUFDQUksWUFBWVosc0RBQTBCQSxDQUFDTTtRQUMzQztJQUNKO0lBQ0EsSUFBSUMsT0FBT00sS0FBSyxJQUFJLE9BQU9ULEtBQUtFLEtBQUssQ0FBQ1EsS0FBSyxLQUFLLFVBQVU7UUFDdERMLE1BQU1FLElBQUksQ0FBQ0csS0FBSyxHQUFHVixLQUFLRSxLQUFLLENBQUNRLEtBQUs7SUFDdkM7SUFDQSxJQUFJLE9BQU9ULFNBQVMsVUFBVTtRQUMxQkksTUFBTUUsSUFBSSxDQUFDTixJQUFJLEdBQUdBO0lBQ3RCO0lBQ0EsT0FBT0UsT0FBT1EsY0FBYyxDQUFDO1FBQ3pCLEdBQUdYLElBQUk7UUFDUEs7SUFDSjtBQUNKO0FBRUEsU0FBU08sMEJBQTBCVCxNQUFNLEVBQUVVLElBQUk7SUFDM0MsSUFBSSxXQUFXQSxNQUFNO1FBQ2pCLE9BQU87WUFDSCxHQUFHQSxJQUFJO1lBQ1BYLE9BQU9DLE9BQU9XLFdBQVcsQ0FBQ0MsTUFBTSxDQUFDQyxTQUFTLENBQUNILEtBQUtYLEtBQUs7UUFDekQ7SUFDSjtJQUNBLElBQUksVUFBVVcsS0FBS0ksTUFBTSxFQUFFO1FBQ3ZCLE9BQU87WUFDSCxHQUFHSixJQUFJO1lBQ1BJLFFBQVE7Z0JBQ0osR0FBR0osS0FBS0ksTUFBTTtnQkFDZFYsTUFBTUosT0FBT1csV0FBVyxDQUFDQyxNQUFNLENBQUNDLFNBQVMsQ0FBQ0gsS0FBS0ksTUFBTSxDQUFDVixJQUFJO1lBQzlEO1FBQ0o7SUFDSjtJQUNBLE9BQU9NO0FBQ1g7QUFDQTs7RUFFRSxHQUFHLFNBQVNLLHNCQUFzQmYsTUFBTSxFQUFFZ0IsV0FBVztJQUNuRCxPQUFPQyxNQUFNQyxPQUFPLENBQUNGLGVBQWVBLFlBQVlHLEdBQUcsQ0FBQyxDQUFDVCxPQUFPRCwwQkFBMEJULFFBQVFVLFNBQVNELDBCQUEwQlQsUUFBUWdCO0FBQzdJO0FBRTBEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdDMtYXBwLy4vbm9kZV9tb2R1bGVzL0B0cnBjL3NlcnZlci9kaXN0L3RyYW5zZm9ybVRSUENSZXNwb25zZS0xMTUzYjQyMS5tanM/ZjNiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnIGFzIGdldEhUVFBTdGF0dXNDb2RlRnJvbUVycm9yIH0gZnJvbSAnLi9pbmRleC1mOTFkNzIwYy5tanMnO1xuaW1wb3J0IHsgVCBhcyBUUlBDX0VSUk9SX0NPREVTX0JZX0tFWSB9IGZyb20gJy4vY29kZXMtYzkyNGMzZGIubWpzJztcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqLyBmdW5jdGlvbiBnZXRFcnJvclNoYXBlKG9wdHMpIHtcbiAgICBjb25zdCB7IHBhdGggLCBlcnJvciAsIGNvbmZpZyAgfSA9IG9wdHM7XG4gICAgY29uc3QgeyBjb2RlICB9ID0gb3B0cy5lcnJvcjtcbiAgICBjb25zdCBzaGFwZSA9IHtcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgY29kZTogVFJQQ19FUlJPUl9DT0RFU19CWV9LRVlbY29kZV0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICBodHRwU3RhdHVzOiBnZXRIVFRQU3RhdHVzQ29kZUZyb21FcnJvcihlcnJvcilcbiAgICAgICAgfVxuICAgIH07XG4gICAgaWYgKGNvbmZpZy5pc0RldiAmJiB0eXBlb2Ygb3B0cy5lcnJvci5zdGFjayA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgc2hhcGUuZGF0YS5zdGFjayA9IG9wdHMuZXJyb3Iuc3RhY2s7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgc2hhcGUuZGF0YS5wYXRoID0gcGF0aDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbmZpZy5lcnJvckZvcm1hdHRlcih7XG4gICAgICAgIC4uLm9wdHMsXG4gICAgICAgIHNoYXBlXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybVRSUENSZXNwb25zZUl0ZW0oY29uZmlnLCBpdGVtKSB7XG4gICAgaWYgKCdlcnJvcicgaW4gaXRlbSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgIGVycm9yOiBjb25maWcudHJhbnNmb3JtZXIub3V0cHV0LnNlcmlhbGl6ZShpdGVtLmVycm9yKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoJ2RhdGEnIGluIGl0ZW0ucmVzdWx0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgcmVzdWx0OiB7XG4gICAgICAgICAgICAgICAgLi4uaXRlbS5yZXN1bHQsXG4gICAgICAgICAgICAgICAgZGF0YTogY29uZmlnLnRyYW5zZm9ybWVyLm91dHB1dC5zZXJpYWxpemUoaXRlbS5yZXN1bHQuZGF0YSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW07XG59XG4vKipcbiAqIFRha2VzIGEgdW5zZXJpYWxpemVkIGBUUlBDUmVzcG9uc2VgIGFuZCBzZXJpYWxpemVzIGl0IHdpdGggdGhlIHJvdXRlcidzIHRyYW5zZm9ybWVyc1xuICoqLyBmdW5jdGlvbiB0cmFuc2Zvcm1UUlBDUmVzcG9uc2UoY29uZmlnLCBpdGVtT3JJdGVtcykge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGl0ZW1Pckl0ZW1zKSA/IGl0ZW1Pckl0ZW1zLm1hcCgoaXRlbSk9PnRyYW5zZm9ybVRSUENSZXNwb25zZUl0ZW0oY29uZmlnLCBpdGVtKSkgOiB0cmFuc2Zvcm1UUlBDUmVzcG9uc2VJdGVtKGNvbmZpZywgaXRlbU9ySXRlbXMpO1xufVxuXG5leHBvcnQgeyBnZXRFcnJvclNoYXBlIGFzIGcsIHRyYW5zZm9ybVRSUENSZXNwb25zZSBhcyB0IH07XG4iXSwibmFtZXMiOlsiZyIsImdldEhUVFBTdGF0dXNDb2RlRnJvbUVycm9yIiwiVCIsIlRSUENfRVJST1JfQ09ERVNfQllfS0VZIiwiZ2V0RXJyb3JTaGFwZSIsIm9wdHMiLCJwYXRoIiwiZXJyb3IiLCJjb25maWciLCJjb2RlIiwic2hhcGUiLCJtZXNzYWdlIiwiZGF0YSIsImh0dHBTdGF0dXMiLCJpc0RldiIsInN0YWNrIiwiZXJyb3JGb3JtYXR0ZXIiLCJ0cmFuc2Zvcm1UUlBDUmVzcG9uc2VJdGVtIiwiaXRlbSIsInRyYW5zZm9ybWVyIiwib3V0cHV0Iiwic2VyaWFsaXplIiwicmVzdWx0IiwidHJhbnNmb3JtVFJQQ1Jlc3BvbnNlIiwiaXRlbU9ySXRlbXMiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@trpc/server/dist/transformTRPCResponse-1153b421.mjs\n");

/***/ })

};
;